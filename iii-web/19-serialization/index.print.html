




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 410 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Serialization :: CC 410 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/index.html" rel="canonical" type="text/html" title="Serialization :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/index.xml" rel="alternate" type="application/rss+xml" title="Serialization :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/tele.html" rel="alternate" type="text/html" title="Serialization :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/embed.html" rel="alternate" type="text/html" title="Serialization :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/images/favicon.ico?1695754178" rel="icon" type="image/x-icon" sizes="any">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1695754267" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1695754267" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/nucleus.css?1695754267" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1695754267" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1695754267" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/perfect-scrollbar.min.css?1695754267" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1695754267" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1695754267" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme.css?1695754267" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme-auto.css?1695754267" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/variant.css?1695754267" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/print.css?1695754267" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/format-print.css?1695754267" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/ie.css?1695754267" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/url.js?1695754267"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/variant.js?1695754267"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc410/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc410/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc410/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/custom.css?1695754267" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/index.html"><span itemprop="name">CC 410 - Advanced Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/iii-web/index.html"><span itemprop="name">Web</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Serialization</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 19</div>
<h1 id="serialization">Serialization</h1>

<p>Saving today&rsquo;s data for tomorrow!</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Serialization</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Earlier in this course, we learned that an object-oriented program can be thought of as two different parts, the <strong>state</strong> of the program, and the <strong>behavior</strong> in the program. In this chapter, we&rsquo;re going to discuss ways that we can save the program&rsquo;s state while it is running. By doing so, we can then resume the program at a later time by simply loading that state back into memory.</p>
<p>This is a process generally known as <strong>serialization</strong>, though other languages may use other terms. Most notably, the process that Python uses is known as <strong>pickling</strong> in the Python documentation. Other documents may refer to this process as <strong>marshalling</strong>.</p>
<p>At its core, this is simply the process of taking either the whole or a part of a program&rsquo;s state and converting it into a format that can be stored and/or transmitted, and then read back into memory to create a semantically identical state of the program.</p>
<p>Thankfully, we don&rsquo;t have to worry about the <strong>behavior</strong> of the program, since that is already present in the program&rsquo;s source code and any associated files that are created by compiling or executing the code. As long as the code hasn&rsquo;t changed since the state was saved, we&rsquo;ll be able to completely reconstruct the program, including both <strong>state</strong> and <strong>behavior</strong>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="state-review">State Review</h1>

<p>First, let&rsquo;s quickly review the state of a program. Recall from an earlier chapter that the <strong>state</strong> of a program consists of all of the variables and objects stored in memory. So, any time we create a new variable or instantiate a new object in our code, that adds to the overall state of the program.</p>
<p>
<a href="#image-bc29eded6044b6f58050c96c6f2953ef" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state1.gif" alt="State Oracle" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-bc29eded6044b6f58050c96c6f2953ef">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state1.gif" alt="State Oracle" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>In the diagram above, we can visualize an object in object-oriented programming as the state, with a set of variables in the center, and the behaviors around those variables defining how we can use, interact with, and modify that state. For example, we could represent a bicycle&rsquo;s state and behavior as shown below:</p>
<p>
<a href="#image-386147d86bb671a9ec42d2a43e671611" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state2.gif" alt="State Oracle 2" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-386147d86bb671a9ec42d2a43e671611">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state2.gif" alt="State Oracle 2" class="lightbox-image" loading="lazy">
</a><sup id="fnref1:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>In this diagram, we see that the bicycle is traveling at 18 miles per hour (MPH) and the wheels are rotating at 90 revolutions per minute (RPM). The bicycle itself is in 5th gear.</p>
<p>However, in most programs, the only things we are really concerned with are the objects stored in memory that represent the core data that the program is using. Consider the example of a word processing program, such as Microsoft Word or Google Docs. In this program, we might consider the document itself as the core part of the program&rsquo;s state that we are really concerned with saving.</p>
<p>Other items in memory, such as the list of recent changes that can be used to &ldquo;undo&rdquo; those changes, and the various view settings such as the current page and the &ldquo;zoom&rdquo; of the document, are all still part of the <strong>state</strong> of the program, but we might choose to not serialize that part of the state when saving the document.</p>
<p>In effect, it is an important design decision to make when developing an application - what parts of the state should be serialized as &ldquo;persistent state&rdquo;, and which parts are &ldquo;ephemeral state&rdquo; that can be easily reconstructed by the user as needed.</p>
<p>Going back to the bicycle example, perhaps we consider the fact that the bicycle is in 5th gear as persistent state that we need to store, but perhaps we don&rsquo;t need to store the current speed.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://docs.oracle.com/javase/tutorial/java/concepts/object.html" target="_blank">https://docs.oracle.com/javase/tutorial/java/concepts/object.html</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="text-formats">Text Formats</h1>

<p><a href="https://www.youtube.com/watch?v=P1wM8NCV-ng">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc410/iii-web/19-serialization/03-test-formats/video/">Video Materials</a>
</p>
<p>So, now that we understand state, let&rsquo;s talk about how we can serialize it in a way that is easy to parse and understand. There are really two major options we can choose from: a <strong>textual</strong> representation of the data, and a <strong>binary</strong> representation. Let&rsquo;s look at text formats first.</p>
<h2 id="text-data-formats">Text Data Formats</h2>
<p>There are many different ways that we can serialize data into a textual format. In fact, we&rsquo;ve already covered how to read data from and write data to text files many times throughout this curriculum, and it is probably one of first things most programmers learn how to do.</p>
<p>At its core, the concept of serialization to a text file is pretty much the same as writing any data to a text file. We simply must write all the data stored in the program to a text file in an organized way. Then, when we need to load that file back into our program&rsquo;s state, we can simply read and parse the data, storing it in objects and variables as needed.</p>
<h2 id="example">Example</h2>
<p>So, let&rsquo;s look at a simple example and explore the various ways that we could store this data in a textual format. Consider a <code>Person</code> object that has a <code>name</code> and <code>age</code> attribute. In addition, that object stores an instance of <code>Pet</code>, which also has a <code>name</code>, a <code>breed</code> and an <code>age</code> attribute.</p>
<p>
<a href="#image-2131108ae32fb0053cfe5f6366e112ab" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state.svg" alt="State Diagram" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2131108ae32fb0053cfe5f6366e112ab">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/state.svg" alt="State Diagram" class="lightbox-image" loading="lazy">
</a></p>
<p>With that structure in mind, there are several different formats we could use to store the data.</p>
<h3 id="custom-format">Custom Format</h3>
<p>For many novice programmers, the first choice might be to simply create a custom text format to store the data. Here is one possible approach:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>Person
</span></span><span style="display:flex;"><span>Name = Willie Wildcat
</span></span><span style="display:flex;"><span>Age = 42
</span></span><span style="display:flex;"><span>Pet
</span></span><span style="display:flex;"><span>Name = Reggie
</span></span><span style="display:flex;"><span>Age = 4
</span></span><span style="display:flex;"><span>Breed = Shorkie</span></span></code></pre></div><p>This format definitely stores all of the data in the program&rsquo;s state, and it looks like it can easily be read and parsed back into the program without too much work. However, such a custom text format has several disadvantages:</p>
<ol>
<li>The code to create this text file and read it back into the program must be custom written for each type of object.</li>
<li>The format doesn&rsquo;t store any hierarchical structure - how do we know which pet belongs to which person?</li>
<li>What if a person can have multiple pets, or their name includes a newline character?</li>
</ol>
<p>Of course, all of these concerns can be addressed by adding either additional rules to the structure or additional complexity to the code for reading and writing these files. However, let&rsquo;s look at some other widely used formats that already address some of these concerns and see how they compare. Many of them also already have pre-written libraries we can use in our code as well.</p>
<h3 id="xml">XML</h3>
<p>The <a href="https://en.wikipedia.org/wiki/XML" target="_blank">Extensible Markup Language</a>
, or XML, is a great choice for data serialization. XML uses a format very similar to HTML, and handles all sorts of data structures and formats very easily. Here&rsquo;s an example of the same state translated into an XML document:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;state&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;person&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;name&gt;</span>Willie Wildcat<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;age&gt;</span>42<span style="color:#f92672">&lt;/age&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;pet&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;name&gt;</span>Reggie<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;age&gt;</span>4<span style="color:#f92672">&lt;/age&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;breed&gt;</span>Shorkie<span style="color:#f92672">&lt;/breed&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/pet&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/person&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/state&gt;</span></span></span></code></pre></div><p>As we can see, each object and attribute becomes its own tag in XML. We can even place the <code>Pet</code> object directly inside of the <code>Person</code> object, showing the hierarchical structure of the data.</p>
<p>XML also supports the use of a <a href="https://en.wikipedia.org/wiki/Document_type_definition" target="_blank">document type definition</a>
, or DTD, which provide rules about the structure of the XML document itself. So, using XML along with a DTD will make sure that the document is structured exactly like it should be, and it will be very easy to parse and understand.</p>
<p>In fact, most programming languages include libraries to easily create and parse XML documents, making them a great choice for data serialization. XML is also defined as a standard by the World Wide Web Consortium, or W3C, making it widely used on the internet. Many websites make use of <a href="https://en.wikipedia.org/wiki/Ajax_%28programming%29" target="_blank">AJAX</a>
, short for asynchronous JavaScript and XML, to send and receive data between a web application and a web server.</p>
<h3 id="json">JSON</h3>
<p>Another option that is very popular today is <a href="https://en.wikipedia.org/wiki/JSON" target="_blank">JavaScript Object Notation</a>
, or JSON. JSON originally started as a way to easily represent the state of objects in the JavaScript programming language, but it has since been adapted to a variety of different uses. Similar to XML, JSON is widely used on the internet today to share data between web applications and web servers, most notably as part of RESTful APIs.</p>
<p>A JSON representation of the state shown earlier is shown below:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Person&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;Willie Wildcat&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;Age&#34;</span>: <span style="color:#ae81ff">42</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;Pet&#34;</span>: {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Name&#34;</span>: <span style="color:#e6db74">&#34;Reggie&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Age&#34;</span>: <span style="color:#ae81ff">4</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;Breed&#34;</span>: <span style="color:#e6db74">&#34;Shorkie&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>JSON and XML share many structural similarities, and in many cases it is very straightforward to convert data between XML and JSON representations. However, JSON tends to require less storage space than similar XML data, making it a good choice if storage space is limited or fast data transfer is required. Finally, JSON can be natively parsed by many programming languages such as JavaScript and Python, and libraries exist for most other languages such as Java.</p>
<h3 id="yaml">YAML</h3>
<p>Another choice that is commonly used is <a href="https://en.wikipedia.org/wiki/YAML" target="_blank">YAML</a>
, a <a href="https://en.wikipedia.org/wiki/Recursive_acronym" target="_blank">recursive acronym</a>
 for &ldquo;YAML Ain&rsquo;t Markup Language.&rdquo; YAML is very similar to JSON in many ways, and in fact JSON files can be considered valid YAML files themselves.</p>
<p>Here is a YAML representation of the same state:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">Person</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">Willie Wildcat</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Age</span>: <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">Pet</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">Reggie</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Age</span>: <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Breed</span>: <span style="color:#ae81ff">Shorkie</span></span></span></code></pre></div><p>YAML uses indentation to denote the hierarchical structure of the document, very similar to Python code. As we can see, the structure of a YAML document is very similar to the custom text format we saw earlier.</p>
<p>However, while this YAML document seems very simple, the YAML specification includes many features that are omitted in JSON, such as the ability to include comments in the data. Unfortunately, YAML also suffers from many of the same problems as Python code, such as the difficulty of keeping track of the indentation when manually editing a file, and the fact that truncated files may be interpreted as complete since there are no termination markers.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Text Formats</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="binary-formats">Binary Formats</h1>

<p>We already know that all the data stored by a computer is in a binary format. So, it of course makes sense to also look at ways we can store a program&rsquo;s state using a binary file format.</p>
<h2 id="binary-files">Binary Files</h2>
<p>Many programming languages, including Java and Python, include libraries that can be used to generate binary files containing the state of an object in memory. Each language, and indeed each version of the language, may use a different format for storing the binary data in the file.</p>
<p>In this course, we won&rsquo;t dig into the actual format of the binary file itself, since that can quickly become very complex. However, we will discuss some of the pros and cons related to using a binary file format for serialization compared to a text format.</p>
<h3 id="pros">Pros</h3>
<p>One major advantage to the binary file format is that they are typically smaller in size than a comparable textual representation. This depends a bit on the language itself, but in general the binary structure doesn&rsquo;t need to store the name of each object and attribute in the file, just values they contain.</p>
<p>Likewise, reading and writing binary files is often very efficient, since the data doesn&rsquo;t have to be parsed to and from strings, which is an especially costly process for numeric data.</p>
<p>Finally, since the binary files are generally not readable or editable by humans, they could prevent a user from intentionally or accidentally editing the data. Of course, this <strong>should not</strong> be thought of as any sort of a security mechanism, since any technically adept user could easily reverse-engineer the file format.</p>
<h3 id="cons">Cons</h3>
<p>A major downside of using binary files to store state is the fact that those files are only readable by the programming language they were created by, and in many cases they are locked to a particular version of the language. In some instances, even small changes to the source code of an object itself may invalidate any previously stored state when stored in a binary format.</p>
<p>Compare this to a textual format such as JSON, which can be easily read by any programming language. In fact, many times the JSON produced by a web server is created by a language other than JavaScript, and then the JavaScript running in the web application can easily parse and use it, no matter which language originally constructed it.</p>
<p>Another major downside is the fact that the files cannot be easily read or edited by a human. In some instances, the ability to manually edit a text file, such as a configuration file for a large application, is a very handy skill. We&rsquo;ve already looked at several different configuration files for the applications we&rsquo;ve built in this course, and the ability to edit them quickly helps us make major changes to the structure of our application.</p>
<h2 id="summary">Summary</h2>
<p>The choice of textual or binary files for storing state is a tricky one. There are many reasons to choose either type, and it really comes down to how the data will be used. Many applications recently have moved from a proprietary, binary format to a more open format. For example, Microsoft Office documents are now stored in an XML format (<code>docx</code>, <code>xlsx</code>, <code>pptx</code>), making it easy for other tools to read and edit those documents. On the other hand, many computer games still prefer to store state and assets in binary, both to make them load quickly but also to prevent users from easily cheating by modifying the files.</p>
<p>On the next few pages, we&rsquo;ll quickly look at how to generate and read some of these file formats in both Java and Python. As always, feel free to read the page for the language you are studying, but each page might contain useful information.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="java-serialization">Java Serialization</h1>

<p>There are many different methods for serializing data in Java. We&rsquo;ll quickly look at three of them.</p>
<h2 id="xml-via-jaxb">XML via JAXB</h2>
<p>Java includes a special API known as the <a href="https://www.oracle.com/technical-resources/articles/javase/jaxb.html" target="_blank">Java Architecture for XML Binding</a>
, or JAXB, for mapping Java objects to XML.</p>
<p>To use it, we can add a few annotations to our objects:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.xml.bind.annotation.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@XmlRootElement</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// other code omitted
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In the simplest form, we simply add the <code>@XmlRootElement</code> annotation above the class to denote that it can be treated as a root element. If the class contains any lists or other collections, there are a few annotations that are needed for those element as well. The <code>Pet</code> class is similar.</p>
<p>With these annotations in place, reading and writing the XML file is very simple:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.xml.bind.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SaveXml</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Willie Wildcat&#34;</span><span style="color:#f92672">,</span> 42<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Pet<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Reggie&#34;</span><span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Shorkie&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Saving person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.xml&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        JAXBContext jaxbContext <span style="color:#f92672">=</span> JAXBContext<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        Marshaller jaxbMarshaller <span style="color:#f92672">=</span> jaxbContext<span style="color:#f92672">.</span><span style="color:#a6e22e">createMarshaller</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        jaxbMarshaller<span style="color:#f92672">.</span><span style="color:#a6e22e">setProperty</span><span style="color:#f92672">(</span>Marshaller<span style="color:#f92672">.</span><span style="color:#a6e22e">JAXB_FORMATTED_OUTPUT</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        jaxbMarshaller<span style="color:#f92672">.</span><span style="color:#a6e22e">marshal</span><span style="color:#f92672">(</span>person<span style="color:#f92672">,</span> file<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>To write an XML file, we create a <code>JAXBContext</code> based on the <code>Person</code> class, and then create a <code>Marshaller</code> that actually handles converting the Java data to XML. We can then simply write it&rsquo;s output to a file.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.xml.bind.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoadXml</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.xml&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        JAXBContext jaxbContext <span style="color:#f92672">=</span> JAXBContext<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        Unmarshaller jaxbUnmarshaller <span style="color:#f92672">=</span> jaxbContext<span style="color:#f92672">.</span><span style="color:#a6e22e">createUnmarshaller</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Person<span style="color:#f92672">)</span> jaxbUnmarshaller<span style="color:#f92672">.</span><span style="color:#a6e22e">unmarshal</span><span style="color:#f92672">(</span>file<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Loading person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Reading an XML file is very similar. The only major difference is that we use an <code>Unmarshaller</code> in place of the <code>Marshaller</code>.</p>
<p>For more information on using JAXB, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-java/tree/main/xml" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://www.oracle.com/technical-resources/articles/javase/jaxb.html" target="_blank">Java Architecture for XML Binding (JAXB)</a>
 from Oracle</li>
<li><a href="https://stackabuse.com/reading-and-writing-xml-in-java/" target="_blank">Reading and Writing XML in Java</a>
 from StackAbuse</li>
</ul>
<h2 id="json-via-jackson">JSON via Jackson</h2>
<p>To handle JSON data in Java, we can use the <a href="https://github.com/FasterXML/jackson" target="_blank">Jackson</a>
 library. It can be installed in Gradle by adding a few items to <code>build.gradle</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span><span style="color:#75715e">// Required to match Jackson versions in Spring
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>ext<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;jackson.version&#39;</span><span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2.12.2&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// other sections omitted
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    implementation <span style="color:#e6db74">&#39;com.fasterxml.jackson.core:jackson-databind:2.12.2&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Then, the process for saving and loading JSON data is very similar to working with XML:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.fasterxml.jackson.databind.ObjectMapper<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SaveJson</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Willie Wildcat&#34;</span><span style="color:#f92672">,</span> 42<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Pet<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Reggie&#34;</span><span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Shorkie&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Saving person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.json&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ObjectMapper mapper <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ObjectMapper<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        mapper<span style="color:#f92672">.</span><span style="color:#a6e22e">writeValue</span><span style="color:#f92672">(</span>file<span style="color:#f92672">,</span> person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.fasterxml.jackson.core.type.TypeReference<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> com.fasterxml.jackson.databind.ObjectMapper<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoadJson</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.json&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ObjectMapper mapper <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ObjectMapper<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> mapper<span style="color:#f92672">.</span><span style="color:#a6e22e">readValue</span><span style="color:#f92672">(</span>file<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> TypeReference<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;(){});</span>       
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Loading person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>In both cases, we simply create an <code>ObjectMapper</code> class from Jackson, and then use it to read and write the JSON data. It&rsquo;s that simple.</p>
<p>For more information on using Jackson, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-java/tree/main/json" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://github.com/FasterXML/jackson" target="_blank">Jackson Project Home</a>
 on GitHub</li>
<li><a href="https://www.baeldung.com/jackson-object-mapper-tutorial" target="_blank">Intro to the Jackson ObjectMapper</a>
 from Baeldung</li>
</ul>
<h2 id="binary-using-java-serialization">Binary Using Java Serialization</h2>
<p>Java also includes a built-in mechanism for serialization. All that is really required is to implement the <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" target="_blank"><code>Serializable</code></a>
 interface on any objects to be serialized.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#66d9ef">implements</span> Serializable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// other code omitted
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>The <code>Pet</code> class is similarly updated. Once that is done, we can use the built-in <code>ObjectInputStream</code> and <code>ObjectOutputStream</code> to read and write objects just like we do any other data types in Java.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SaveBinary</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Willie Wildcat&#34;</span><span style="color:#f92672">,</span> 42<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Pet<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Reggie&#34;</span><span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Shorkie&#34;</span><span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Saving person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.ser&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ObjectOutputStream out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ObjectOutputStream<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> FileOutputStream<span style="color:#f92672">(</span>file<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        out<span style="color:#f92672">.</span><span style="color:#a6e22e">writeObject</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">LoadBinary</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person.ser&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        ObjectInputStream in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ObjectInputStream<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> FileInputStream<span style="color:#f92672">(</span>file<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>        Person person <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Person<span style="color:#f92672">)</span> in<span style="color:#f92672">.</span><span style="color:#a6e22e">readObject</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Loading person:&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>By convention, we use the <code>.ser</code> file extension for serialized data from Java.</p>
<p>For more information on Java serialization, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-java/tree/main/binary" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://www.tutorialspoint.com/java/java_serialization.htm" target="_blank">Java - Serialization</a>
 from TutorialsPoint</li>
<li><a href="https://www.geeksforgeeks.org/serialization-in-java/" target="_blank">Serialization in Java</a>
 from GeeksforGeeks</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="python-serialization">Python Serialization</h1>

<p>There are many different methods for serializing data in Python. We&rsquo;ll quickly look at three of them.</p>
<h2 id="xml">XML</h2>
<p>Python includes the <a href="https://docs.python.org/3/library/xml.etree.elementtree.html" target="_blank">ElementTree</a>
 library for processing XML. Unfortunately, due to the way that Python handles objects, we have to write some of the processing ourselves. There are some external libraries that will automatically explore Python objects and build the XML based on its attributes.</p>
<p>To write an XML file in Python, we can use code similar to this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> xml.etree.ElementTree <span style="color:#66d9ef">as</span> ET
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#34;Willie Wildcat&#34;</span>, <span style="color:#ae81ff">42</span>, Pet(<span style="color:#e6db74">&#34;Reggie&#34;</span>, <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#34;Shorkie&#34;</span>))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Saving person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person_elem <span style="color:#f92672">=</span> ET<span style="color:#f92672">.</span>Element(<span style="color:#e6db74">&#34;person&#34;</span>)
</span></span><span style="display:flex;"><span>ET<span style="color:#f92672">.</span>SubElement(person_elem, <span style="color:#e6db74">&#34;name&#34;</span>)<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>ET<span style="color:#f92672">.</span>SubElement(person_elem, <span style="color:#e6db74">&#34;age&#34;</span>)<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> str(person<span style="color:#f92672">.</span>age)
</span></span><span style="display:flex;"><span>pet_elem <span style="color:#f92672">=</span> ET<span style="color:#f92672">.</span>SubElement(person_elem, <span style="color:#e6db74">&#34;pet&#34;</span>)
</span></span><span style="display:flex;"><span>ET<span style="color:#f92672">.</span>SubElement(pet_elem, <span style="color:#e6db74">&#34;name&#34;</span>)<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>ET<span style="color:#f92672">.</span>SubElement(pet_elem, <span style="color:#e6db74">&#34;age&#34;</span>)<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> str(person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>age)
</span></span><span style="display:flex;"><span>ET<span style="color:#f92672">.</span>SubElement(pet_elem, <span style="color:#e6db74">&#34;breed&#34;</span>)<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>breed
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;person.xml&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    file<span style="color:#f92672">.</span>write(ET<span style="color:#f92672">.</span>tostring(person_elem, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;unicode&#34;</span>))</span></span></code></pre></div><p>To construct an XML document, we simply must construct each element and set the parent element, tag, and data of each element, as shown in the example above.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> xml.etree.ElementTree <span style="color:#66d9ef">as</span> ET
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>xml_tree <span style="color:#f92672">=</span> ET<span style="color:#f92672">.</span>parse(<span style="color:#e6db74">&#34;person.xml&#34;</span>)
</span></span><span style="display:flex;"><span>person_elem <span style="color:#f92672">=</span> xml_tree<span style="color:#f92672">.</span>getroot()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> child <span style="color:#f92672">in</span> person_elem:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> child<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;name&#34;</span>:
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> child<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> child<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;age&#34;</span>:
</span></span><span style="display:flex;"><span>        age <span style="color:#f92672">=</span> child<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> child<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;pet&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> subchild <span style="color:#f92672">in</span> child:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> subchild<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;name&#34;</span>:
</span></span><span style="display:flex;"><span>                pet_name <span style="color:#f92672">=</span> subchild<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> subchild<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;age&#34;</span>:
</span></span><span style="display:flex;"><span>                pet_age <span style="color:#f92672">=</span> subchild<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> subchild<span style="color:#f92672">.</span>tag <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;breed&#34;</span>:
</span></span><span style="display:flex;"><span>                pet_breed <span style="color:#f92672">=</span>subchild<span style="color:#f92672">.</span>text
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(name, age, Pet(pet_name, pet_age, pet_breed))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Loading person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)</span></span></code></pre></div><p>Then, to parse that data, we can simply iterate through the tree structure and find each tag, loading the text data into a variable and using those variables to reconstruct our objects.</p>
<p>For more information on using UML, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-python/tree/main/xml" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://docs.python.org/3/library/xml.etree.elementtree.html" target="_blank">ElementTree</a>
 in Python Documentation</li>
</ul>
<h2 id="json">JSON</h2>
<p>To handle JSON data in Python, we can use the <a href="https://docs.python.org/3/library/json.html" target="_blank">json</a>
 library.</p>
<p>Then, the process for saving and loading JSON data is very similar to working with XML:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#34;Willie Wildcat&#34;</span>, <span style="color:#ae81ff">42</span>, Pet(<span style="color:#e6db74">&#34;Reggie&#34;</span>, <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#34;Shorkie&#34;</span>))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Saving person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person_dict <span style="color:#f92672">=</span> dict()
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;name&#39;</span>] <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;age&#39;</span>] <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>age
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>] <span style="color:#f92672">=</span> dict()
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>] <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;age&#39;</span>] <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>age
</span></span><span style="display:flex;"><span>person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;breed&#39;</span>] <span style="color:#f92672">=</span> person<span style="color:#f92672">.</span>pet<span style="color:#f92672">.</span>breed
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;person.json&#34;</span>, <span style="color:#e6db74">&#34;w&#34;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    json<span style="color:#f92672">.</span>dump(person_dict, file)</span></span></code></pre></div><p>For JSON, it is easiest to construct a dictionary containing the structure and data to be serialized. This could easily be done as a method within the class itself, but this example shows it outside the class just to demonstrate how it works.</p>
<p>To read the serialized data, we can do the reverse:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;person.json&#34;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    person_dict <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>load(file)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(
</span></span><span style="display:flex;"><span>    person_dict[<span style="color:#e6db74">&#39;name&#39;</span>],
</span></span><span style="display:flex;"><span>    person_dict[<span style="color:#e6db74">&#39;age&#39;</span>],
</span></span><span style="display:flex;"><span>    Pet(
</span></span><span style="display:flex;"><span>        person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>],
</span></span><span style="display:flex;"><span>        person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;age&#39;</span>],
</span></span><span style="display:flex;"><span>        person_dict[<span style="color:#e6db74">&#39;pet&#39;</span>][<span style="color:#e6db74">&#39;breed&#39;</span>]))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Loading person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)</span></span></code></pre></div><p>For more information on using JSON in Python, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-python/tree/main/json" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://docs.python.org/3/library/json.html" target="_blank">JSON Library</a>
 from Python Documentation</li>
</ul>
<h2 id="binary-using-pickle">Binary using Pickle</h2>
<p>Python also includes a built-in mechanism for serialization. All that is required is the <a href="https://docs.python.org/3/library/pickle.html" target="_blank">Pickle</a>
 library.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>person <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#34;Willie Wildcat&#34;</span>, <span style="color:#ae81ff">42</span>, Pet(<span style="color:#e6db74">&#34;Reggie&#34;</span>, <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#34;Shorkie&#34;</span>))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Saving person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;person.p&#34;</span>, <span style="color:#e6db74">&#34;wb&#34;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    pickle<span style="color:#f92672">.</span>dump(person, file)</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#34;person.p&#34;</span>, <span style="color:#e6db74">&#34;rb&#34;</span>) <span style="color:#66d9ef">as</span> file:
</span></span><span style="display:flex;"><span>    person <span style="color:#f92672">=</span> pickle<span style="color:#f92672">.</span>load(file)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Loading person:&#34;</span>)
</span></span><span style="display:flex;"><span>print(person)</span></span></code></pre></div><p>All we have to do is open the file in a binary format by adding <code>b</code> to the <code>open</code> command.</p>
<p>For more information on Java serialization, refer to these resources. The full source code can be found on <a href="https://github.com/K-State-Computational-Core/serialization-examples-python/tree/main/binary" target="_blank">GitHub</a>
:</p>
<ul>
<li><a href="https://docs.python.org/3/library/pickle.html" target="_blank">Pickle</a>
 from Python Documentation</li>
<li><a href="https://wiki.python.org/moin/UsingPickle" target="_blank">Using Pickle</a>
 from Python Wiki</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="items-to-exclude">Items to Exclude</h1>

<p>Another important concept to keep in mind when serializing data is that there are some items that <em>don&rsquo;t</em> serialize very well, and others that can be omitted. Let&rsquo;s review a few of those now.</p>
<h2 id="operating-system-objects">Operating System Objects</h2>
<p>One example of things that don&rsquo;t serialize well are objects provided by the operating system itself. This includes things such as open files, input and output streams, and threads. In each case, these objects rely on data provided by the operating system, making it difficult to serialize the object directly.</p>
<p>Instead, we can externally save the state, such as the current position we are reading from in the file, or the current object the thread is manipulating, and then use that to recreate the object later on.</p>
<h2 id="dependent-data">Dependent Data</h2>
<p>The other type of data that you may not wish to serialize is data that is dependent on other data. For example, a program might contain multiple copies of the same class, or have a class where one attribute is computed from other attributes. In order to save space, you may choose to only serialize the data that is required to reconstruct the rest, and perform the reconstruction when loading the data from the file. This will save storage space, but may cost additional computation time. So, we must evaluate the tradeoff and determine which option fits our use case the best.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="databases">Databases</h1>

<p>Finally, we really cannot talk about data serialization without briefly mentioning what might be the penultimate example of serialization - databases.</p>
<p>
<a href="#image-8e89345fbf58846f055bb9002fb3504b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/db.svg" alt="Database" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8e89345fbf58846f055bb9002fb3504b">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/19/db.svg" alt="Database" class="lightbox-image" loading="lazy">
</a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<h2 id="database">Database</h2>
<p>A database is a specialized piece of software that is designed to store and retrieve large amounts of data. For many applications, especially web applications, a database is the primary method for storing data long-term, and takes the place of any data serialization to a file.</p>
<p>While most database systems are thought of as stand-alone applications that we connect to from our application, there are also smaller databases that can be stored and accessed from a single file, such as <a href="https://www.sqlite.org/index.html" target="_blank">SQLite</a>
, which is supported directly in Python</p>
<p>Many databases can also store text or binary values directly, so it is possible to use the serialization methods we&rsquo;ve already discussed to transform objects in memory and store them in a database.</p>
<p>Finally, there are many <a href="https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping" target="_blank">object-relational mapping</a>
, or ORM, tools available that will easily map data from a database into objects that can be used in an object-oriented manner. These can help bridge the gap between the data structures most commonly used in a database and the object-oriented data structures we are familiar with.</p>
<p>We won&rsquo;t work with databases in this class, as that is well outside of the scope of what we can cover quickly. There are later courses in the Computational Core program that cover both databases and web development in much greater detail. We simply felt that it was worth mentioning the fact that, in practice, a large amount of data serialization is actually done with databases instead of files on a file system.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://commons.wikimedia.org/w/index.php?title=File:Relational_key_SVG.svg&amp;oldid=444679066" target="_blank">https://commons.wikimedia.org/w/index.php?title=File:Relational_key_SVG.svg&oldid=444679066</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we learned about how to serialize the state of our applications into a file for storage, and then how to read that state back into memory.</p>
<p>We explored different formats we can use, including JSON, XML, and a binary format. Each of those comes with various pros and cons, so we have to choose wisely.</p>
<p>Then, we saw some examples of how to work with each format in our chosen programming language. In each case, it isn&rsquo;t too difficult to do.</p>
<p>Finally, we discussed some of the things we might not want to serialize, and the fact that, in practice, we might want to use a database instead of a text file for storing large amounts of data, especially in a web application.</p>
<p>Thankfully, we&rsquo;ll be able to put this skill to use as we wrap up our semester project.</p>
<h2 id="review-quiz">Review Quiz</h2>
<p>Check your understanding of the new content introduced in this chapter below - this quiz is not graded and you can retake it as many times as you want.</p>






<i>Quizdown quiz omitted from print view.</i>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/410/generic/textbook/-/commit/2512e31ed7413085fb2b6a90abb854c5d1e43258">Aug 10, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/clipboard.min.js?1695754293" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/perfect-scrollbar.min.js?1695754293" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/theme.js?1695754293" defer></script>
  </body>
</html>
