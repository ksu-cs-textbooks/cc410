<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Of course, one major question that we still need to resolve is “how does the web framework look at a web request and determine what code to execute?” To do that, most web frameworks introduce the concept of routing.
In a web framework, a route is usually a mapping from a path to a particular function in a controller.
For example, a simple web framework might match the path /, representing the top level page on the server, to a function called getIndex() in one of the controllers in the web application itself.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Routing :: CC 410 Textbook">
    <meta name="twitter:description" content="Of course, one major question that we still need to resolve is “how does the web framework look at a web request and determine what code to execute?” To do that, most web frameworks introduce the concept of routing.
In a web framework, a route is usually a mapping from a path to a particular function in a controller.
For example, a simple web framework might match the path /, representing the top level page on the server, to a function called getIndex() in one of the controllers in the web application itself.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/iii-web/16-data-driven-websites/11-routing/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Routing :: CC 410 Textbook">
    <meta property="og:description" content="Of course, one major question that we still need to resolve is “how does the web framework look at a web request and determine what code to execute?” To do that, most web frameworks introduce the concept of routing.
In a web framework, a route is usually a mapping from a path to a particular function in a controller.
For example, a simple web framework might match the path /, representing the top level page on the server, to a function called getIndex() in one of the controllers in the web application itself.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Web">
    <meta property="article:modified_time" content="2022-07-08T13:34:06-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Routing :: CC 410 Textbook">
    <meta itemprop="description" content="Of course, one major question that we still need to resolve is “how does the web framework look at a web request and determine what code to execute?” To do that, most web frameworks introduce the concept of routing.
In a web framework, a route is usually a mapping from a path to a particular function in a controller.
For example, a simple web framework might match the path /, representing the top level page on the server, to a function called getIndex() in one of the controllers in the web application itself.">
    <meta itemprop="dateModified" content="2022-07-08T13:34:06-05:00">
    <meta itemprop="wordCount" content="730">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Routing :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/iii-web/16-data-driven-websites/11-routing/index.html" rel="canonical" type="text/html" title="Routing :: CC 410 Textbook">
    <link href="/cc410/iii-web/16-data-driven-websites/11-routing/index.xml" rel="alternate" type="application/rss+xml" title="Routing :: CC 410 Textbook">
    <link href="/cc410/iii-web/16-data-driven-websites/11-routing/index.print.html" rel="alternate" type="text/html" title="Routing :: CC 410 Textbook">
    <link href="/cc410/iii-web/16-data-driven-websites/11-routing/tele.html" rel="alternate" type="text/html" title="Routing :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1758639063" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1758639063" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1758639063" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1758639063" defer></script>
    <script src="/cc410/js/search.min.js?1758639063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1758639063";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1758639063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1758639063" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1758639063" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1758639063" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1758639063" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1758639063" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/iii-web\/16-data-driven-websites\/11-routing\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1758639063" rel="stylesheet">
  </head>
  <body class="mobile-support embed html" data-url="/cc410/iii-web/16-data-driven-websites/11-routing/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable iii-web" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="routing">Routing</h1>

<p>Of course, one major question that we still need to resolve is &ldquo;how does the web framework look at a web request and determine what code to execute?&rdquo; To do that, most web frameworks introduce the concept of <strong>routing</strong>.</p>
<p>In a web framework, a <strong>route</strong> is usually a mapping from a path to a particular function in a controller.</p>
<p>For example, a simple web framework might match the path <code>/</code>, representing the top level page on the server, to a function called <code>getIndex()</code> in one of the controllers in the web application itself.</p>
<p>So, when an incoming HTTP GET request asks for the page at path <code>/</code>, the web framework will call the code in our <code>getIndex()</code> function, which will usually return a model and a template to render. Then, the framework will render that template using the data in the model, and send that as a response back to the user&rsquo;s client web browser.</p>
<h2 id="complex-routes">Complex Routes</h2>
<p>Routes in our web application can be much more complex than mapping simple paths to functions. For example, the route could specify one function when the path is requested using an HTTP GET request, and an entirely different function when the path is requested using an HTTP POST request, which includes some additional data.</p>
<p>A great example is logging in to a website. If the user sends an HTTP GET request to the <code>/login</code> path, it could call a function named <code>getLoginPage()</code> to render a login page that asks the user for a username and password.</p>
<p>When the user enters that information on the page and clicks the &ldquo;submit&rdquo; button, it will send an HTTP POST request to the same <code>/login</code> path, along with the username and password that the user entered. In that case, the web framework can be configured to send that request to a different function, <code>postLogin()</code> that will determine if the username and password match an existing user account. If so, the user will be logged in and the website will send an appropriate response. If not, it can even direct the web framework to render the same login template as before, including an extra message to let the user know that the information submitted was invalid.</p>
<h2 id="data-in-routes">Data in Routes</h2>
<p>Finally, routes can also include placeholders for data, similar to wildcards. This is most commonly used in <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" rel="external" target="_blank">RESTful</a> routing, short for &ldquo;Representation State Transfer,&rdquo; which we&rsquo;ll cover in a later chapter.</p>
<p>For example, a web application might be configured with a route that matches the path <code>/title/&lt;id&gt;</code>, where <code>&lt;id&gt;</code> is a placeholder for some data that is provided as part of the path. So, if the user requests the item at path <code>/title/123</code>, the web framework will know that the user is requesting information about the title with the ID of <code>123</code>.</p>
<p>In fact, if you look closely at many websites today, you&rsquo;ll see this pattern all over! A great example is IMDb (the &ldquo;Internet Movie Database&rdquo;), where the url <code>https://www.imdb.com/title/tt0076759/</code> takes you to <a href="https://www.imdb.com/title/tt0076759/" rel="external" target="_blank">this page</a> about the original <em>Star Wars</em> movie. In that URL, we see the RESTful route <code>/title/tt0076759</code>, where <code>tt0076759</code> is the identifier for <em>Star Wars</em>.</p>
<p>We can even explore this by changing the identifier a bit and seeing where that takes us. If we increment the identifier by 1, we get <code>https://www.imdb.com/title/tt0076760/</code>, which takes us to the page about the movie <em><a href="https://www.imdb.com/title/tt0076760/" rel="external" target="_blank">Starship Invasions</a></em>, released in the same year as <em>Star Wars</em>. In fact, by trying several similar identifiers, we can quickly guess that some of the data on IMDb from movies was loaded alphabetically by year of release!</p>

<details open class=" box cstyle notices warning">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-triangle"></i> 
    Leaking Data via Routes
  </summary>
  <div class="box-content">
<p>While RESTful routes using sequential identifiers such as this one are really useful, they can also cause issues. One common cause of this is attaching sequential identifiers to user uploaded data. In this way, any user who uses the platform can upload a piece of data, and then use the identifier attached to that piece of data to guess the identifier of data from other users. This is referred to as an <a href="https://cheatsheetseries.owasp.org/cheatsheets/Insecure_Direct_Object_Reference_Prevention_Cheat_Sheet.html" rel="external" target="_blank">Insecure Direct Object Reference</a> or IDOR. If the website doesn&rsquo;t properly limit access to this data, it could result in private data being publicly available.</p>
<p>This was most recently in the news when it was revealed that the data from the Parler social network was downloaded by exploiting this bug, among others. <a href="https://www.wired.com/story/parler-hack-data-public-posts-images-video/" rel="external" target="_blank">Wired</a> does a good job describing how it happened.</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1758639063" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1758639063" defer></script>
    <script src="/cc410/js/theme.min.js?1758639063" defer></script>
  <script src="/cc410/js/embed-iframe.min.js?1758639063" defer></script>
  </body>
</html>
