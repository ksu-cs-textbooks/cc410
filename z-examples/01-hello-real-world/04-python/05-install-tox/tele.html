<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="YouTube Video Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we’re going to use one such tool, called tox.
Tox tox is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we’d have to follow to do this in our own project.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Install Tox :: CC 410 Textbook">
    <meta name="twitter:description" content="YouTube Video Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we’re going to use one such tool, called tox.
Tox tox is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we’d have to follow to do this in our own project.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Install Tox :: CC 410 Textbook">
    <meta property="og:description" content="YouTube Video Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we’re going to use one such tool, called tox.
Tox tox is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we’d have to follow to do this in our own project.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Example Projects">
    <meta property="article:modified_time" content="2024-06-17T14:13:48-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Install Tox :: CC 410 Textbook">
    <meta itemprop="description" content="YouTube Video Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we’re going to use one such tool, called tox.
Tox tox is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we’d have to follow to do this in our own project.">
    <meta itemprop="dateModified" content="2024-06-17T14:13:48-05:00">
    <meta itemprop="wordCount" content="1068">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Install Tox :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/index.html" rel="canonical" type="text/html" title="Install Tox :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/index.xml" rel="alternate" type="application/rss+xml" title="Install Tox :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/index.print.html" rel="alternate" type="text/html" title="Install Tox :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/embed.html" rel="alternate" type="text/html" title="Install Tox :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1757434985" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1757434985" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1757434985" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/search.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1757434985";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1757434985" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/z-examples\/01-hello-real-world\/04-python\/05-install-tox\/index.html';
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1757434985" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cc410/z-examples/01-hello-real-world/04-python/05-install-tox/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable z-examples" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="install-tox">Install Tox</h1>


<a href="https://www.youtube.com/watch?v=tBQEX4F_jzE">YouTube Video</a>

<p>Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we&rsquo;re going to use one such tool, called <strong>tox</strong>.</p>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Tox
  </summary>
  <div class="box-content">
<p><a href="https://tox.readthedocs.io/en/latest/" rel="external" target="_blank">tox</a> is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we&rsquo;d have to follow to do this in our own project.</p>
<p>tox works by creating virtual test environments and then running our code within those environments. This allows us to test our program using a clean copy of Python with the version and libraries we specify.</p>
<p>The main reason we&rsquo;ve chosen to use tox in this course is the ease with which it can be used, and the fact that it is available directly as a Python library.</p>
  </div>
</details>
<h2 id="install-tox">Install tox</h2>
<p>To install tox, we can simply install it using <code>pip</code>. So, in a Linux terminal, enter the following command:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install tox</span></span></code></pre></div>
<p>That&rsquo;s all it takes! As we&rsquo;ll quickly learn, using <code>pip</code> to install Python libraries is quick and easy to do.</p>
<h2 id="creating-a-requirements-file">Creating a Requirements File</h2>
<p>One of the things that we&rsquo;ll need in order to use tox is a <strong>requirements</strong> file. A requirements file simply lists the libraries that we&rsquo;ve installed via <code>pip</code> as part of this project. Then, if we decide to work on this project either on a different computer or within a virtual test environment, like the one we&rsquo;ll create with tox, we can easily reinstall all of those libraries again. You can learn more about requirements files in the <a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files" rel="external" target="_blank">pip Documentation</a></p>
<p>To create a requirements file, navigate to the <code>python</code> directory in the Linux terminal, and then run the following command:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 freeze &gt; requirements.txt</span></span></code></pre></div>
<p>That should create a file called <code>requirements.txt</code> in the <code>python</code> directory. When we open it, we should see contents similar to this:</p>
<p><a href="#R-image-f51e3004c8e3386d81be8a3957698e7c" class="lightbox-link"><img alt="Requirements File" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/e1/24req.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f51e3004c8e3386d81be8a3957698e7c"><img alt="Requirements File" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/e1/24req.png"></a></p>
<p>As we can see, there are a lot of libraries already installed - many more than we installed manually. This is because the <code>pip3 freeze</code> command will list all libraries installed, even if they were installed as a dependency for another library.</p>
<p>There are some pros and cons to this approach:</p>
<ul>
<li><strong>Pro</strong>: Listing all of the libraries makes it easy to see exactly what is required, including the specific versions</li>
<li><strong>Con</strong>: It is difficult to tell which of the libraries are required, and which ones are simply dependencies</li>
</ul>
<p>Because of this, we&rsquo;re going to create our own requirements file that just lists that basic libraries we need. This will make it easier for us to keep track of the libraries we are using for this application.</p>
<p>So, go ahead and open up the <code>requirements.txt</code> file in the <code>python</code> directory, and replace it&rsquo;s contents with the following:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div>
<p>Then, whenever we need to reinstall the requirements for our program, we can use the following command when we are in the <code>python</code> directory:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div>
<p>tox will also use this requirements file to set up our test environment, as we&rsquo;ll see in the next section.</p>
<h2 id="tox-configuration">tox Configuration</h2>
<p>Next, we&rsquo;ll need to create a configuration file for tox. The tox configuration file should be stored directly in the <code>python</code> directory with the name <code>tox.ini</code>. So, we should have the following structure once that file is created:</p>
<p><a href="#R-image-1b9bba60f099a1b86cecfa15521bbfcd" class="lightbox-link"><img alt="Tox Config File" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/e1/24toxconfig.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1b9bba60f099a1b86cecfa15521bbfcd"><img alt="Tox Config File" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/e1/24toxconfig.png"></a></p>
<p>The basics of creating a configuration file for tox are detailed in the <a href="https://tox.readthedocs.io/en/latest/config.html" rel="external" target="_blank">tox documentation</a>. For now, we can use a quick starter file. So, place the following contents in the <code>tox.ini</code> file:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[tox]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">envlist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">py310</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">skipsdist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[testenv]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">deps</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">-rrequirements.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m pytest --html=reports/pytest/index.html</span></span></span></code></pre></div>
<p>Let&rsquo;s go through the settings in this configuration file to understand what it does</p>
<ol>
<li><code>[tox]</code> - the <code>[tox]</code> entry is the header for a section of the file. In this case, it stores the global settings for tox.</li>
<li><code>envlist = py310</code> - this tells tox to only use Python version 3.10 for testing. If we want tox to test our program using multiple versions of Python, we can add them to this list.</li>
<li><code>skipsdist = True</code> - this tells tox to skip the step of installing our application in the test environment. We do this because we haven&rsquo;t set configured our application to be installed. We&rsquo;ll cover how to do this later in this course.</li>
<li><code>[testenv]</code> - this section defines the test environments that tox will create</li>
<li><code>deps = -rrequirements.txt</code> - this tells tox to install the requirements listed in the <code>requirements.txt</code> file. We include a <code>-r</code> at the beginning to match the <code>pip</code> command. There is no space between <code>-r</code> and <code>requirements</code> for some reason.</li>
<li><code>commands = python3 -m pytest --html=reports/pytest/index.html</code> - this is a list of command that tox should execute to test our application. We&rsquo;ll use the <code>python -m pytest</code> method to execute pytest here, since that will better match the commands we&rsquo;ll add to this file as we continue to build our project.</li>
</ol>
<p>That&rsquo;s a very basic configuration file for tox, but it allows us to begin automating the process of testing our code.</p>
<h2 id="running-tox">Running tox</h2>
<p>Now that we&rsquo;ve configured tox, let&rsquo;s try to run it. Thankfully, running tox is super simple. In a Linux terminal that is in the <code>python</code> directory, simply run this command:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox</span></span></code></pre></div>
<p>If everything is working correctly, we should get the following output:</p>
<p><a href="#R-image-81042b2ebc824e44782817001668957c" class="lightbox-link"><img alt="Tox Output" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/e1/24toxout.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-81042b2ebc824e44782817001668957c"><img alt="Tox Output" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/e1/24toxout.png"></a></p>
<p>When we execute tox, it performs a few tasks:</p>
<ol>
<li>tox will create a <strong>virtual environment</strong> for Python 3.10 in the <code>.tox</code> folder it creates. This allows it to run tests in isolation, away from the version of Python we are using in Codio.</li>
<li>It will then install all of the requirements listed in the <code>requirements.txt</code> file. This makes sure our application and unit tests can execute.</li>
<li>Then, it will run all of the test commands in the <code>commands</code> list in <code>tox.ini</code>. Right now there is just one command, so it will run our unit tests with pytest.</li>
</ol>
<p>The first time we run tox it may take a little while to set up the virtual environment. Thankfully, subsequent runs will be much faster since the virtual environment is already set up.</p>
<p>However, if we ever want to force tox to completely reset the virtual environment, we can just delete the <code>.tox</code> folder it creates.</p>
<p>Now that we have successfully set up and configured tox, let&rsquo;s explore some of the other tools we can use with tox.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1757434985" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1757434985" defer></script>
    <script src="/cc410/js/theme.min.js?1757434985" defer></script>
      
      
      
    </div> 
  <script src="/cc410/js/tele-scroll.min.js?1757434985" defer></script>
  </body>
</html>
