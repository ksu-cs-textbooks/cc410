




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 410 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Python :: CC 410 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/index.html" rel="canonical" type="text/html" title="Python :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/index.xml" rel="alternate" type="application/rss+xml" title="Python :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/tele.html" rel="alternate" type="text/html" title="Python :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/embed.html" rel="alternate" type="text/html" title="Python :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/images/favicon.ico?1705426536" rel="icon" type="image/x-icon" sizes="any">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1705426616" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1705426616" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/nucleus.css?1705426616" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1705426616" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1705426616" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/perfect-scrollbar.min.css?1705426616" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1705426616" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1705426616" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme.css?1705426616" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme-auto.css?1705426616" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/variant.css?1705426616" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/print.css?1705426616" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/format-print.css?1705426616" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/ie.css?1705426616" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/url.js?1705426616"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/variant.js?1705426616"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc410/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc410/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc410/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/custom.css?1705426616" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/index.html"><span itemprop="name">CC 410 - Advanced Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/z-examples/index.html"><span itemprop="name">Example Projects</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/index.html"><span itemprop="name">Hello Real World</span></a><meta itemprop="position" content="3"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Python</span><meta itemprop="position" content="4"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="python">Python</h1>

<p>This section contains content for the <strong>Python</strong> programming language only.</p>
<p><a href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/../04-java/">Skip to Java</a>
<br>
<a href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/04-python/../05-create-release">Skip to Creating Release</a>
</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Python</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="create-new-project">Create New Project</h1>

<p><a href="https://www.youtube.com/watch?v=d_KfhEA5Rsc">YouTube Video</a></p>
<p>Prior to this course, most of our Python projects consisted of a few source files, all contained in the same directory. However, as projects get larger, it can be very difficult to keep track of all the various source code files. In addition, we&rsquo;ll want to keep our source code separate from other files, such as unit tests and the output from various tools we use. So, let&rsquo;s look at how we can create a more professional structure for our Python &ldquo;Hello Real World&rdquo; project.</p>
<h2 id="directory-structure">Directory Structure</h2>
<p>Python, unlike many other languages, does not really have a standard structure for the source code of a professional project. There are many reasons for this, but most notably is Python&rsquo;s focus on being completely flexible and not enforcing any particular structure upon developers. However, this flexibility can make it difficult for Python developers to move between projects or organizations if they use vastly different project structures.</p>
<p>So, in this course, we&rsquo;re going to build a directory structure that is similar to those used by other object-oriented programming languages such as Java and C#. This structure may also be found in many open source projects written in Python.</p>
<h3 id="source-and-test-folders">Source and Test Folders</h3>
<p>First, find the <code>python</code> folder in the Codio file tree to the left. We&rsquo;ll create three folders inside of that folder:</p>
<ul>
<li><code>src</code> - this folder will store the source code for our application.</li>
<li><code>test</code> - this folder will store the unit tests for our application.</li>
<li><code>reports</code> - this folder will store reports generated by various tools we&rsquo;ll use later in this module.</li>
</ul>
<p>Once you&rsquo;ve created those three folders, you should see a structure similar to this:</p>
<p>
<a href="#image-b3cf9a3669ee779d45e66b11b878e50b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/21pythonfolder.png" alt="Python Folder Structure" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b3cf9a3669ee779d45e66b11b878e50b">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/21pythonfolder.png" alt="Python Folder Structure" class="lightbox-image" loading="lazy">
</a></p>
<p>As we work through this example, we&rsquo;ll slowly populate these folders to build our application.</p>
<h2 id="creating-a-package">Creating a Package</h2>
<p>Next, let&rsquo;s create a <strong>package</strong> to store our Python source code. We&rsquo;ll discuss what a package is later in this course, but in essence packages are a way to organize large programs by grouping similar classes together.</p>
<p>In Python, to create a package we must simply perform two steps:</p>
<ol>
<li>Create a directory in our <code>src</code> folder to store the Python source files, or <strong>modules</strong> that will be in this package</li>
<li>Create a <code>__init__.py</code> file in that folder to tell Python to treat this directory as a package.</li>
</ol>
<p>So, let&rsquo;s create a package called <code>hello</code> for our application. First, we&rsquo;ll need to create a directory called <code>hello</code> in the <code>src</code> directory we created earlier, and then we&rsquo;ll create a blank file called <code>__init__.py</code> in that directory. Once we are done, we should see this structure:</p>
<p>
<a href="#image-f6c177240fb5b186652f1373b38a8918" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/21pythonpackage.png" alt="Python Package" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f6c177240fb5b186652f1373b38a8918">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/21pythonpackage.png" alt="Python Package" class="lightbox-image" loading="lazy">
</a></p>
<p>In most cases, the <code>__init__.py</code> file can be left blank. However, it is executed each time the package is used, so we can include some code in that file to help initialize the package. For now, let&rsquo;s put the following line of code in the <code>__init__.py</code> file in the <code>src/hello</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;In /src/hello/__init__.py&#34;</span>)</span></span></code></pre></div><p>Later, when we execute our application, this will help us see when the package is loaded and how it is used.</p>
<p>You can read more about creating Python packages and modules in the <a href="https://docs.python.org/3/tutorial/modules.html" target="_blank">Python Documentation</a>
</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="write-hello-world">Write Hello World</h1>

<p><a href="https://www.youtube.com/watch?v=Gx_nV1Y-0ek">YouTube Video</a></p>
<p>Now that we&rsquo;ve created a package for our code, let&rsquo;s write the code for our &ldquo;Hello Real World&rdquo; application. Traditionally, a Python &ldquo;Hello World&rdquo; program is a single line of code, but for this example we&rsquo;ll follow all of the object-oriented standards by creating a class and a method.</p>
<h2 id="create-a-class">Create a Class</h2>
<p>First, we need to create a source code file for our application. We&rsquo;ll place this code inside of the <code>src/hello</code> package we&rsquo;ve already created. So, let&rsquo;s create a file called <code>HelloWorld.py</code> in that directory. Once it is created, we should see the following structure:</p>
<p>
<a href="#image-ba2a757a2d4bc6ed4be21ae16da0036a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22hellostruct.png" alt="Python Hello File" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ba2a757a2d4bc6ed4be21ae16da0036a">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22hellostruct.png" alt="Python Hello File" class="lightbox-image" loading="lazy">
</a></p>
<p>Then, inside of that file, we can place the following code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Hello World&#34;</span>)</span></span></code></pre></div><p>This code should be pretty familiar at this point. The one thing to notice is that this file does not include a main guard. We do this for a couple of reasons:</p>
<ol>
<li>If the class is executed directly, it will simply load the class but there isn&rsquo;t any code outside of the class that would actually be executed.</li>
<li>We will use a different process to start our entire application, which we will detail below.</li>
</ol>
<p>So, by using this structure, we can actually simplify our code a bit by omitting the main guard!</p>
<h2 id="make-an-application">Make an Application</h2>
<p>Next, we&rsquo;ll need to create a couple more files in order to make our application easily executable. In fact, what we&rsquo;ll end up doing is making the entire <code>src</code> folder act like a &ldquo;meta package&rdquo; that includes all of the packages in the application.</p>
<p>To do this, we&rsquo;ll need to create two more files directly inside of the <code>src</code> folder:</p>
<ul>
<li><code>__init__.py</code> - this will make Python treat the entire <code>src</code> directory as a package</li>
<li><code>__main__.py</code> - this will allow Python to execute that package directly as an application</li>
</ul>
<p>Once those files are created, we should have a structure similar to this image:</p>
<p>
<a href="#image-02fab57819e994d90d9d041bb0321e7c" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22meta.png" alt="Python Meta Package" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-02fab57819e994d90d9d041bb0321e7c">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22meta.png" alt="Python Meta Package" class="lightbox-image" loading="lazy">
</a></p>
<p>Then, we need to populate those files with some code. So, in the <code>__init__.py</code> file in <code>src</code>, enter the following code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;In /src/__init__.py&#34;</span>)</span></span></code></pre></div><p>As before, this will just allow us to see when the package is loaded to help us understand how everything works together.</p>
<p>In the <code>__main__.py</code> file, we&rsquo;ll put the following code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;In /src/__main__.py&#34;</span>)
</span></span><span style="display:flex;"><span>HelloWorld<span style="color:#f92672">.</span>main(sys<span style="color:#f92672">.</span>argv)</span></span></code></pre></div><p>Hopefully this code is also pretty easy to understand. We&rsquo;ll import the <code>sys</code> library so we can access the command line arguments, and then we&rsquo;ll also import our <code>HelloWorld</code> class from the <code>src.hello</code> meta package we created. Finally, we&rsquo;ll print a message stating which file we are in, and then call the main method of our application, passing along the command line arguments.</p>
<p>The <code>__main__.py</code> file is described in the <a href="https://docs.python.org/3/library/__main__.html" target="_blank">Python Documentation</a>
.</p>
<h2 id="run-our-application">Run Our Application</h2>
<p>That&rsquo;s all we need to make our application usable. Now, let&rsquo;s see if we can execute it.</p>
<p>To use our application, we&rsquo;ll need to use the Linux terminal from within the <code>python</code> folder. So, let&rsquo;s open the Linux terminal and change our directory to that location:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd ~/workspace/python</span></span></code></pre></div><p>Of course, if you are already in the <code>~/workspace</code> folder, you can just use <code>cd python</code> to get there. In the code above, we include the whole path so that it will always work, regardless of the current working directory.</p>
<p>Once we are in that directory, we can execute our application using the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m src</span></span></code></pre></div><p>That will tell Python to execute the application stored in our <code>src</code> folder as a Python module, or meta package. When we do that, we should receive output like this:</p>
<p>
<a href="#image-dc66e9cc2361d5c5866d5aacc7b71e5a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22output.png" alt="Python Output" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-dc66e9cc2361d5c5866d5aacc7b71e5a">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/22output.png" alt="Python Output" class="lightbox-image" loading="lazy">
</a></p>
<p>As we can see, our application actually goes through a few steps before it is able to run the <code>main</code> function:</p>
<ol>
<li>First, Python finds the <code>src</code> meta package, which will reach the print statement in <code>__init__.py</code>. It will then find <code>__main__.py</code> and execute it to run the meta package as a program.</li>
<li>Then, the <code>src.hello</code> package is loaded on line 2 of <code>__main__.py</code>. So, the <code>__init__.py</code> file in that package will be loaded and executed.</li>
<li>Next, we reach the print statement on line 3 <code>__main__.py</code>.</li>
<li>Finally, line 4 of <code>__main__.py</code> executes the <code>main</code> function of our <code>HelloWorld</code> class</li>
</ol>
<p>There we go! We&rsquo;ve successfully built and run our application using Python! If you want, you can test different messages in <code>HelloWorld.py</code> to make sure the program is working correctly.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Pycache Folders</div>
  <div class="box-content">

<p>When Python code is executed, the Python interpreter creates a &ldquo;compiled&rdquo; version of the code and stores it in a folder called <code>__pycache__</code>. Those folders can be safely ignored, but they may appear in various directories as you develop and test your application. Later in this module we&rsquo;ll discuss how to omit those directories from version control applications such as Git.</p>
<p>You can read more about this process in the <a href="https://docs.python.org/3/tutorial/modules.html#compiled-python-files" target="_blank">Python Documentation</a>
.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="git-commit--push">Git Commit &amp; Push</h1>

<p><a href="https://www.youtube.com/watch?v=6EENk4EMO1Q">YouTube Video</a></p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> tl;dr</div>
  <div class="box-content">

<p>If you are familiar with using Git, here is the short version:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span><span style="color:#75715e"># check that the correct files are added</span>
</span></span><span style="display:flex;"><span>git status
</span></span><span style="display:flex;"><span><span style="color:#75715e"># update the commit message below</span>
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Commit Message Here&#34;</span>
</span></span><span style="display:flex;"><span>git push</span></span></code></pre></div><p>That will commit and push your changes to GitHub, which can now be found in the repository for this assignment.</p>
</div>
</div>
<p>At this point, we&rsquo;ve written some code for our application. Now is a great time to save that code to our git repository and push it to GitHub in the cloud. By doing so, we&rsquo;ll make sure that our code is not accidentally lost, but we can also make it quick and easy to restore a previous version of our code at any time.</p>
<h2 id="git">Git</h2>
<p>At this point, you might be pretty confused about Git, GitHub, repositories, cloning, and everything that we&rsquo;ve done so far. That&rsquo;s fine! We&rsquo;ve found that one of the best ways to learn how to use Git and GitHub is simply by doing it and observing what it does, then slowly building up your knowledge by trying new things. However, let&rsquo;s take a few minutes to explain some of the basics so you know what we are talking about.</p>
<p><a href="https://git.wiki.kernel.org/index.php/Git" target="_blank">Git</a>
 is the name of a &ldquo;distributed version control system&rdquo; that was created initially by Linus Torvalds (the originator of the Linux operating system kernel). It was meant to solve a lot of the problems that he experienced when working with other version control systems of the time, such as <a href="https://subversion.apache.org/" target="_blank">Subversion</a>
 and <a href="https://www.mercurial-scm.org/" target="_blank">Mercurial</a>
.</p>
<p>Git stores data in several different places, and there are several Git commands to transfer the data between those places. It is best summarized in this diagram:</p>
<p>
<a href="#image-fa3466c7a396c1a2ecccf4e47412a919" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/wiki_git.svg" alt="Git Workflow" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fa3466c7a396c1a2ecccf4e47412a919">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/wiki_git.svg" alt="Git Workflow" class="lightbox-image" loading="lazy">
</a>^[https://commons.wikimedia.org/w/index.php?title=File:Git_data_flow_simplified.svg&amp;oldid=511614601]</p>
<p>Let&rsquo;s look at Git from the bottom up and see how it works.</p>
<h2 id="working-directory">Working Directory</h2>
<p>For this project, our <strong>working directory</strong> in Git is the <code>python</code> folder where we&rsquo;ve been storing all of our code. This is the folder that we cloned our initial repository from GitHub Classroom into, and its where we&rsquo;re actually <em>doing</em> all of the coding. At this point, we&rsquo;ve created several new files and directories, but we&rsquo;ve not added them to our local Git repository yet. Before we can do that, we must discuss one other thing - the <code>.gitignore</code> file.</p>
<h2 id="gitignore-file">.gitignore File</h2>
<p>First, we&rsquo;ll need to create a special file called <code>.gitignore</code> in the <code>python</code> directory, or in the root of our working directory for Git. That file contains information that tells Git what files we want to &ldquo;ignore&rdquo; - files that Git shouldn&rsquo;t try to save. Typically we only want Git to store the source code for our program, and not any compiled classes, reports, or temporary files.</p>
<p>
<a href="#image-d23b47dbe42f7c4f68f6ed63d6f9e573" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonignore.png" alt="Python Gitignore" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d23b47dbe42f7c4f68f6ed63d6f9e573">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonignore.png" alt="Python Gitignore" class="lightbox-image" loading="lazy">
</a></p>
<p>Next, let&rsquo;s place the following content into our <code>.gitignore</code> file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>.mypy_cache
</span></span><span style="display:flex;"><span>.tox
</span></span><span style="display:flex;"><span>reports
</span></span><span style="display:flex;"><span>.coverage
</span></span><span style="display:flex;"><span>__pycache__/</span></span></code></pre></div><p>These are simply the names of files or folders, but may also include wildcards like an asterisk <code>*</code> as well. Anytime we want to ignore anything in our project we can just add its file or folder name or path to this file, and Git will dutifully ignore it.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Screenshot Inconsistencies</div>
  <div class="box-content">

<p>Some of the screenshots in this section were taken later in the creation of this project, so the exact files listed may be a bit different in your version. That&rsquo;s fine - just use these as a baseline for the overall look and feel of the process, and feel free to ask questions if you aren&rsquo;t sure things are correct.</p>
</div>
</div>
<h2 id="adding-to-the-index">Adding to the Index</h2>
<p>The next level of Git is the <strong>index</strong>, sometimes referred to as the <strong>stage</strong>. The index contains a list of files that we&rsquo;ve modified and would like to store in our local repository. We can add and remove items from the index at any time, and it won&rsquo;t affect our working directory.</p>
<p>To see what is in the index, we can use the following command from within the <code>python</code> folder:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>You should see output similar to this:</p>
<p>
<a href="#image-9b72ce46ffff834aa8b4030a166e27a9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonstatus.png" alt="Python Git Status" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-9b72ce46ffff834aa8b4030a166e27a9">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonstatus.png" alt="Python Git Status" class="lightbox-image" loading="lazy">
</a></p>
<p>At this point, all of the files are &ldquo;untracked&rdquo; and listed in red, which means that they aren&rsquo;t part of the index. So, we need to add files to the index before we can commit them. To do that, we can use the <code>git add</code> command, followed by the files we&rsquo;d like to add to the index. Of course, naming each file individually can be time consuming, so we can use the following shortcut to add all of the untracked files in our working directory to the index:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add .</span></span></code></pre></div><p>In Linux, a single period <code>.</code> on the command line refers to the current working directory, so in this case it will add all of the files in the <code>python</code> folder to the Git index. When we run that command, we won&rsquo;t see any output. But, if we run this command again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>We should now see a whole bunch of files listed as &ldquo;Changes to be committed&rdquo;:</p>
<p>
<a href="#image-faee209fba5d46231e70dcfe6bdb87a3" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonindex.png" alt="Python Git Index" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-faee209fba5d46231e70dcfe6bdb87a3">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonindex.png" alt="Python Git Index" class="lightbox-image" loading="lazy">
</a></p>
<p>Those files listed in green are now &ldquo;staged&rdquo; and ready to commit to our local repository. So, before we move on to the next step, we&rsquo;ll want to make sure that all the files we changed are included in the list of files to be committed. In this case, we see our <code>HelloWorld.py</code> file, as well as the other file we modified in the previous step.</p>
<h2 id="committing-to-the-local-repository">Committing to the Local Repository</h2>
<p>Once we&rsquo;ve added the new and updated files to the index, the next step is to <strong>commit</strong>, or <strong>save</strong>, those files in our local repository. This will permanently^[There are ways to undo a commit once it is made, but in general it is poor practice to do so unless a major mistake has been made. For now, we&rsquo;ll consider it permanent.] save these changes in our local repository, helping us keep track of the changes we&rsquo;ve made to the code.</p>
<p>To commit to the local repository, we will use the <code>git commit</code> command. When committing to a repository, you are required to include a message describing the changes you made to the code. At this point, the commit message is just for your use, but it is always a good idea to make your commit messages very concise and descriptive so that it is helpful for you later on if you need to go back and restore this version of the code.</p>
<p>There are two ways to use the <code>git commit</code> command. Let&rsquo;s briefly cover both of them, just so you can choose your preferred method.</p>
<h4 id="using-nano">Using Nano</h4>
<p>The first method just calls for you to execute the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit</span></span></code></pre></div><p>When you do, your terminal will open a text editor program called Nano, which you can use to place your commit message at the top of the file. It will look something like this:</p>
<p>
<a href="#image-0cb3a4b45e990bc675bad85b93ffc8eb" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonnano.png" alt="Python Nano" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0cb3a4b45e990bc675bad85b93ffc8eb">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonnano.png" alt="Python Nano" class="lightbox-image" loading="lazy">
</a></p>
<p>As you can see, we&rsquo;ve already entered the message &ldquo;Commit Message Here&rdquo; at the top of the file. Once we&rsquo;ve done that, we need to save and close the file. To do that, follow these steps:</p>
<ol>
<li>Press <strong>CTRL+X</strong> to exit Nano. That will open a message at the bottom that says &ldquo;Save modified buffer?&rdquo;</li>
<li>Press <strong>Y</strong> to respond &ldquo;yes&rdquo;. That will change the message to &ldquo;File Name to Write:&rdquo;</li>
<li>Press <strong>ENTER</strong> to save the file using the name given.</li>
</ol>
<h4 id="using-the-command-line">Using the Command Line</h4>
<p>Commit messages can also be specified directly on the terminal using the <code>-m</code> command line option. For example, if we wish for our commit message to be &ldquo;Commit Message Here&rdquo; we would use the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Commit Message Here&#34;</span></span></span></code></pre></div><p>This is a quick and easy way to add a commit message to our commit without using a text editor.</p>
<h2 id="successful-commit">Successful Commit</h2>
<p>Once we&rsquo;ve specified our commit message, Git will commit our changes to the local repository. We should see output similar to this if it was successful:</p>
<p>
<a href="#image-2efc35a8aa7b07537e99983d3a59d83e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythoncommit.png" alt="Python Commit Success" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2efc35a8aa7b07537e99983d3a59d83e">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythoncommit.png" alt="Python Commit Success" class="lightbox-image" loading="lazy">
</a></p>
<p>If so, we&rsquo;ve just made our first commit to our local repository. Now, if we ever need to restore our code back to that point, we can! As we continue to work with Git in this course, we&rsquo;ll explore some of these more advanced features. For now, we&rsquo;ll just us it to track our work.</p>
<h2 id="pushing-to-a-remote">Pushing to a Remote</h2>
<p>The last step we can take is to <strong>push</strong> our local repository to a remote location, called a <strong>remote</strong>. <a href="https://github.com" target="_blank">GitHub</a>
 is a great example of a remote that works with Git, but there are many others as well. For this course, since we are using GitHub Classroom, we&rsquo;ll be using GitHub as our remote.</p>
<p>Thankfully, because we&rsquo;ve already <strong>cloned</strong> this assignment from GitHub Classroom, we don&rsquo;t have to do anything to be able to use it. In Git, <strong>cloning</strong> is the term we use for the first time we download a remote repository and store it on our computer. Once we&rsquo;ve downloaded it the first time, we can get access to any changes by <strong>pulling</strong> from the remote.</p>
<p>So, to push a copy of our local repository to the remote, we can run this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push</span></span></code></pre></div><p>We should then get output that looks like this:</p>
<p>
<a href="#image-fedd333866c8c2e6b330ed124a99ffda" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonpush.png" alt="Python Git Push" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fedd333866c8c2e6b330ed124a99ffda">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythonpush.png" alt="Python Git Push" class="lightbox-image" loading="lazy">
</a></p>
<p>There we go! We&rsquo;ve now pushed our code to GitHub. Now, let&rsquo;s go check it out. So, navigate to your repository on GitHub classroom, and refresh the page if needed to see your changes. For me, it now looks like this:</p>
<p>
<a href="#image-ff1fd1104d11276e15295b11ba1c3487" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythongithub.png" alt="Python GitHub" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ff1fd1104d11276e15295b11ba1c3487">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/33pythongithub.png" alt="Python GitHub" class="lightbox-image" loading="lazy">
</a></p>
<p>Now all of our code is visible on GitHub, and we can see our commit message next to all of the files that have changed. As we continue to make commits and push them to GitHub, we can use this website to explore the different versions of each file. In addition, the instructors for this course can explore your repository and help you resolve errors and assign grades based on your work here.</p>
<p>At the end of this example project, you&rsquo;ll create a <strong>release</strong> on GitHub to signify that you are done with the assignment. We&rsquo;ll cover how to do that later in this example. For now, let&rsquo;s forge ahead and learn about unit tests.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="unit-tests">Unit Tests</h1>

<p><a href="https://www.youtube.com/watch?v=OuG9rmdl2_A">YouTube Video</a></p>
<p>At this point, we&rsquo;ve written the basic code for our &ldquo;Hello World&rdquo; program. However, how can we automatically verify that the source code works properly? To do that, we&rsquo;ll need to create some <strong>unit tests</strong> that verify our code.</p>
<h2 id="pytest">pytest</h2>
<p>There are many different libraries that can be used to create unit tests for Python. Python itself includes a package called <a href="https://docs.python.org/3/library/unittest.html" target="_blank">unittest</a>
 that can serve this purpose. However, many Python developers choose to use an external application called <a href="https://docs.pytest.org/en/stable/" target="_blank">pytest</a>
 for unit testing. There are many reasons for this, some of which are discussed in <a href="https://blog.j-labs.pl/2019/02/Pytest-why-its-more-popular-than-unittest" target="_blank">this blog post</a>
.</p>
<p>To use pytest, we&rsquo;ll need to install it.</p>
<h2 id="installing-external-python-libraries">Installing External Python Libraries</h2>
<p>Before we do that, let&rsquo;s take a step back and discuss installing external libraries via Python. One of the major selling points of the Python programming language is the number of external libraries that can be easily installed. These range from simple game engines all the way to popular scientific and machine learning libraries such as <a href="https://www.scipy.org/" target="_blank">SciPy</a>
 and <a href="https://scikit-learn.org/stable/" target="_blank">scikit-learn</a>
.</p>
<p>Thankfully, nearly every external library available for Python can be downloaded and installed from the <a href="https://pypi.org/" target="_blank">Python Package Index</a>
, also known as PyPI. To do this, we use a tool that is included with Python called the <a href="https://pip.pypa.io/en/stable/" target="_blank">Package Installer for Python</a>
 or <code>pip</code>.</p>
<p>So, when we find an external library we&rsquo;d like to use in Python, usually all we have to do to install it is to find the library&rsquo;s name on PyPI, and then use the <code>pip</code> tool to install it. In fact, most libraries include those instructions as part of their documentation, as we can see in the <a href="https://docs.pytest.org/en/stable/getting-started.html" target="_blank">Installation Instructions</a>
 for pytest.</p>
<h2 id="install-pytest">Install pytest</h2>
<p>So, to install pytest, we should run the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install pytest</span></span></code></pre></div><p>Notice that this is a little bit different than the command given in the pytest <a href="https://docs.pytest.org/en/stable/getting-started.html" target="_blank">Installation Instructions</a>
. First, we will use the command <code>pip3</code> instead of <code>pip</code> to ensure that we are installing pytest for Python version 3. If we use the <code>pip</code> command instead, it will install pytest for Python 2, which we don&rsquo;t want.</p>
<p>Additionally, the <code>-U</code> command line flag shown in the documentation simply tells <code>pip</code> to upgrade the package if it is already installed. Since we know it isn&rsquo;t installed in this case, we&rsquo;ll just omit it.</p>
<p>When we execute that command, we should get output similar to the following:</p>
<p>
<a href="#image-7fdaf1dc53d6cbf65419e658ec402795" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23pytest.png" alt="Install Pytest" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-7fdaf1dc53d6cbf65419e658ec402795">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23pytest.png" alt="Install Pytest" class="lightbox-image" loading="lazy">
</a></p>
<p>The <code>pip</code> tool will automatically install any additional libraries that are required for pytest, so we might see several items listed. At the bottom of the output, it will list all of the libraries installed. Since we see pytest in that list, we have successfully installed it.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Linux Command Prefixes</div>
  <div class="box-content">

<p>One point of confusion for many new developers is the inconsistent way Linux terminal commands are denoted in the documentation of various tools. For example, in the pytest documentation, Linux terminal commands are sometimes, but not always, prefixed by a dollar sign <code>$</code>:</p>
<p>
<a href="#image-e14b19d7183216b721bb4a1a62f73950" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23prefix.png" alt="Dollar Sign" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e14b19d7183216b721bb4a1a62f73950">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23prefix.png" alt="Dollar Sign" class="lightbox-image" loading="lazy">
</a></p>
<p>In other documentation, you might see either a pound sign <code>#</code> or a greater than sign <code>&gt;</code>, as seen in this example:</p>
<p>
<a href="#image-c0452c2e11e61844d2a435fba261906b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/7arrow.png" alt="Arrow Prefix" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c0452c2e11e61844d2a435fba261906b">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/7arrow.png" alt="Arrow Prefix" class="lightbox-image" loading="lazy">
</a></p>
<p>However, when we execute those commands, we shouldn&rsquo;t include the greater-than symbol or dollar sign. Why is that? Many places that include documentation for the Linux terminal helpfully include either the last symbol of the command prompt before the command, or some other symbol like an arrow, indicating that this is a command to be entered in the terminal. Linux typically uses two different types of command prompts:</p>
<ul>
<li>Dollar sign <code>$</code> - indicating that the terminal is logged in to a normal user account</li>
<li>Pound sign <code>#</code> - indicating that the terminal is logged in with administrator permissions (<code>root</code>)</li>
</ul>
<p>Documentation also often uses the <code>&gt;</code> symbol in front of commands to be entered by the user. So, in general, when you see a Linux terminal command in documentation that starts with a <code>&gt;</code>, <code>$</code> or <code>#</code>, you should omit that character when executing the command. This can be very confusing and frustrating to get used to, especially since it is not standardized. As we&rsquo;ll learn later in this course, standardized documentation is a very important part of being a good programmer!</p>
</div>
</div>
<h2 id="create-unit-test-package">Create Unit Test Package</h2>
<p>Now that we&rsquo;ve installed pytest, let&rsquo;s create a unit test for our &ldquo;Hello World&rdquo; application. As you might guess, we&rsquo;ll use the <code>test</code> directory we created earlier to store all of our unit tests. It is typically good practice to have packages in our unit tests that match the packages in our source code, so we&rsquo;ll start by creating a package named <code>hello</code> in that directory. To do that, we&rsquo;ll need to do the following:</p>
<ol>
<li>Create a folder named <code>hello</code> in the <code>test</code> folder</li>
<li>Create a file named <code>__init__.py</code> in the new <code>test/hello</code> folder</li>
<li>Place the code <code>print(&quot;In /test/hello/__init__.py&quot;)</code> in the <code>test/hello/__init__.py</code> file</li>
</ol>
<p>Once we are done, we should see the following structure in our <code>python</code> folder:</p>
<p>
<a href="#image-fbe218ebcba0d7fb3a068fa2feebf710" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23struct.png" alt="Python Unit Test Structure" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fbe218ebcba0d7fb3a068fa2feebf710">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23struct.png" alt="Python Unit Test Structure" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="write-unit-test">Write Unit Test</h2>
<p>Next, let&rsquo;s create a file called <code>test_HelloWorld.py</code> in our <code>test/hello</code> package. Our file structure should now include that file:</p>
<p>
<a href="#image-31afcbe1bd0fe14b60bd3854d95ce4cf" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23file.png" alt="Python Unit Test File" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-31afcbe1bd0fe14b60bd3854d95ce4cf">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23file.png" alt="Python Unit Test File" class="lightbox-image" loading="lazy">
</a></p>
<p>Let&rsquo;s put some code in the <code>test_HelloWorld.py</code> file to test our &ldquo;Hello World&rdquo; application. Here&rsquo;s a sample of what a unit test for this might look like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorld</span>():
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys):
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>])
</span></span><span style="display:flex;"><span>        captured <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> captured<span style="color:#f92672">.</span>out <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Hello World</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span></span></span></code></pre></div><p>We can break this code down line by line to discuss what it does and how it works.</p>
<ol>
<li><code>from src.hello.HelloWorld import HelloWorld</code> - in our unit tests, we can import our other packages using the <code>src</code> meta package we created earlier</li>
<li><code>class TestHelloWorld():</code> - unlike Java, Python allows us to create classes with names that differ from the filename. For unit tests, our class names should begin with the word <code>Test</code></li>
<li><code>def test_hello_world(self, capsys):</code> - Likewise, our test methods should begin with <code>test_</code>. The <code>capsys</code> argument tells pytest that we&rsquo;d like to capture output printed to the terminal. This is documented in the <a href="https://docs.pytest.org/en/stable/capture.html" target="_blank">pytest Documentation</a>
.</li>
<li><code>HelloWorld.main([&quot;HelloWorld&quot;])</code> - this line executes the <code>main</code> method of our <code>HelloWorld</code> class. We must provide a list of strings that represent the expected command line arguments for the program. Recall that Python always includes the name of the script as the first command line argument, so we should simulate that in our unit tests. More about that convention can be found in the <a href="https://docs.python.org/3/library/sys.html#sys.argv" target="_blank">Python Documentation</a>
</li>
<li><code>captured = capsys.readouterr()</code> - this allows us to get the output printed to the terminal by our program. See the <a href="https://docs.pytest.org/en/stable/capture.html" target="_blank">pytest Documentation</a>
.</li>
</ol>
<p>Then, we reach the most important line of the program: <code>assert captured.out == &quot;Hello World\n&quot;, &quot;Unexpected Output&quot;</code>. This line is called an <strong>assertion</strong>, and it is the basis of most unit tests. In this line, we are stating that the output we receive from the program, stored in <code>captured.out</code>, should exactly match <code>&quot;Hello World\n&quot;</code> in order for the test to pass. If it doesn&rsquo;t, then we can share a helpful error message, in this case &ldquo;Unexpected Output&rdquo; when the test fails.</p>
<p>Typically, most unit tests contain several of these assertions, and there are many different assertion methods we can use, but for right now we&rsquo;ll just use the <code>assert</code> method.</p>
<p>There we go! That&rsquo;s all it takes to write a simple unit test. However, as you&rsquo;ve probably noticed, the code for a unit test is much more complex than the code that we are testing. That&rsquo;s actually pretty typical - many times it is much more difficult to write tests that ensure the code works than writing the code itself. However, the usefulness of those tests will often outweigh the cost, as it can be even <em>more</em> costly to constantly fix bugs and errors that would have been caught by a proper set of unit tests.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> pytest Naming Conventions</div>
  <div class="box-content">

<p>One important aspect of the pytest tool is how it uses naming conventions to easily find files that contain unit tests. The naming conventions are fully described in the <a href="https://docs.pytest.org/en/stable/goodpractices.html#test-discovery" target="_blank">pytest Documentation</a>
. In short, any Python file that matches either <code>test_*.py</code> or  <code>*_test.py</code> will be included. For this course, we&rsquo;ll use the <code>test_*.py</code> convention.</p>
<p>Then, inside of those files, it will look for classes that begin with the name <code>Test</code>, and methods inside of that class that begin with <code>test</code>. This is an example of a <strong>convention</strong> that dictates how the program functions. So, we&rsquo;ll need to make sure our unit tests follow this pattern.</p>
</div>
</div>
<h2 id="running-unit-tests">Running Unit Tests</h2>
<p>Now that we&rsquo;ve written our unit tests, let&rsquo;s see if we can execute them. First, we&rsquo;ll need to open a Linux terminal. Then, we&rsquo;ll need to navigate to the <code>python</code> directory. Once we are there, we can run pytest using the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pytest</span></span></code></pre></div><p>When we do, we&rsquo;ll probably get output that looks like this:</p>
<p>
<a href="#image-4b38a568197222c351c7e5bbc1b7e09d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23error.png" alt="PyTest Error" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-4b38a568197222c351c7e5bbc1b7e09d">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23error.png" alt="PyTest Error" class="lightbox-image" loading="lazy">
</a></p>
<p>If we read this error closely, we&rsquo;ll see that it is unable to find our <code>src.hello.HelloWorld</code> class. That&rsquo;s strange - we were able to find it earlier. Let&rsquo;s dive into that and see what&rsquo;s going on.</p>
<p>Since pytest is installed as a library in Python, there is another way we can execute it. Let&rsquo;s try that and see what happens:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m pytest</span></span></code></pre></div><p>When we do that, we&rsquo;ll see that our tests work properly:</p>
<p>
<a href="#image-1da847c31f99f5a0c3833ac079a94ae1" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23works.png" alt="PyTest Works" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-1da847c31f99f5a0c3833ac079a94ae1">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23works.png" alt="PyTest Works" class="lightbox-image" loading="lazy">
</a></p>
<p>What&rsquo;s going on here? Well, this gets a bit complicated, but in short the <code>pytest</code> command does not include the current directory as part of the <code>PYTHONPATH</code>, which is a set of locations where Python should look for additional code. However, when we launch pytest using the standard <code>python3</code> command, Python will add the current directory to the <code>PYTHONPATH</code>. That means that our <code>src</code> meta package will get included, and pytest is able to find it.</p>
<p>Thankfully, there are a number of ways to fix this. The simplest is actually a bit of a &ldquo;hack&rdquo; that involves creating a blank file named <code>conftest.py</code> in the <code>src</code> package. This will tell pytest to include this directory in the <code>PYTHONPATH</code> correctly. This is well described in this <a href="https://stackoverflow.com/q/34466027" target="_blank">StackOverflow Post</a>
 So, let&rsquo;s go ahead and create that file:</p>
<p>
<a href="#image-ff3a8c641d164d39deab5b6ec91aed9d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23conftest.png" alt="Python Conftest" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ff3a8c641d164d39deab5b6ec91aed9d">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23conftest.png" alt="Python Conftest" class="lightbox-image" loading="lazy">
</a></p>
<p>Then, in that file, we should put a note that explains what&rsquo;s going on. So, let&rsquo;s put the following comment in that file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Sample test configuration file.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This file is used to configure testing parameters for PyTest. It is included
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">as a hack to get PyTest to recognize and include this directory in the Python
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">path. See https://stackoverflow.com/q/34466027.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><p>That will help us remember what that file is for.</p>
<p>Now, let&rsquo;s try to run our tests again using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pytest</span></span></code></pre></div><p>If everything is configured correctly, we should see output similar to this:</p>
<p>
<a href="#image-1c4038a1c88ce6108b4183c122b1c0a6" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23success.png" alt="Pytest Success" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-1c4038a1c88ce6108b4183c122b1c0a6">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23success.png" alt="Pytest Success" class="lightbox-image" loading="lazy">
</a></p>
<p>That means our unit tests are working! However, we aren&rsquo;t getting any useful feedback beyond the number of tests that were executed and whether they succeed.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Pytest Cache</div>
  <div class="box-content">

<p>You might also have noticed a <code>.pytest_cache</code> directory appear after running pytest for the first time. This is simply a folder that pytest uses to cache data that it needs, and you can safely ignore it.</p>
</div>
</div>
<h2 id="unit-test-reports">Unit Test Reports</h2>
<p>Thankfully, we can install another Python library, <code>pytest-html</code> that will allow us to create HTML reports from our unit test results. So, in a Linux terminal, we can install that library using <code>pip</code> with the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install pytest-html</span></span></code></pre></div><p>Then, from within the <code>python</code> directory, we can run our tests using this new command to generate a report:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pytest --html<span style="color:#f92672">=</span>reports/pytest/index.html</span></span></code></pre></div><p>In that command, we have specified that the report should be created in the <code>reports/pytest/index.html</code> file. So, after running that command, we should see the following folder structure:</p>
<p>
<a href="#image-7289904e809346a4f05aa964a68fca48" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23html.png" alt="PyTest HTML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-7289904e809346a4f05aa964a68fca48">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23html.png" alt="PyTest HTML" class="lightbox-image" loading="lazy">
</a></p>
<p>So, find that file in the Codio file tree to the left and open it. When you do, you&rsquo;ll see a file full of HTML like this one:</p>
<p>
<a href="#image-598ab5ffbd1aa3f29eb3dab186503f36" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23htmlfile.png" alt="Test Report HTML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-598ab5ffbd1aa3f29eb3dab186503f36">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23htmlfile.png" alt="Test Report HTML" class="lightbox-image" loading="lazy">
</a></p>
<p>That&rsquo;s really difficult to read, isn&rsquo;t it? Thankfully, we can tell Codio to open that HTML file as a webpage by <strong>right-clicking</strong> on it and selecting <strong>Preview Static</strong>:</p>
<p>
<a href="#image-f15bd1ad9bd5a384dc4df6762910c826" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23static.png" alt="Preview Static" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f15bd1ad9bd5a384dc4df6762910c826">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23static.png" alt="Preview Static" class="lightbox-image" loading="lazy">
</a></p>
<p>If done correctly, you should see a webpage that looks like this:</p>
<p>
<a href="#image-b861dfe5303b3cf14f8cf618d34d1397" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23webpage.png" alt="Test Report" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b861dfe5303b3cf14f8cf618d34d1397">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/23webpage.png" alt="Test Report" class="lightbox-image" loading="lazy">
</a></p>
<p>Hopefully, we should see that our code passed the test!</p>
<p>On the next page, we&rsquo;ll explore how to expand the usefulness of our unit tests and automate this process a bit more.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="install-tox">Install Tox</h1>

<p><a href="https://www.youtube.com/watch?v=tBQEX4F_jzE">YouTube Video</a></p>
<p>Working with Python on the Linux terminal can be complicated, especially as projects become larger and larger. Thankfully, there are many tools that have been developed to simplify this process. For this course, we&rsquo;re going to use one such tool, called <strong>tox</strong>.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Tox</div>
  <div class="box-content">

<p><a href="https://tox.readthedocs.io/en/latest/" target="_blank">tox</a>
 is a tool that is developed to help automate and standardize the process of testing applications written in Python. It vastly simplifies many of the steps we&rsquo;d have to follow to do this in our own project.</p>
<p>tox works by creating virtual test environments and then running our code within those environments. This allows us to test our program using a clean copy of Python with the version and libraries we specify.</p>
<p>The main reason we&rsquo;ve chosen to use tox in this course is the ease with which it can be used, and the fact that it is available directly as a Python library.</p>
</div>
</div>
<h2 id="install-tox">Install tox</h2>
<p>To install tox, we can simply install it using <code>pip</code>. So, in a Linux terminal, enter the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install tox</span></span></code></pre></div><p>That&rsquo;s all it takes! As we&rsquo;ll quickly learn, using <code>pip</code> to install Python libraries is quick and easy to do.</p>
<h2 id="creating-a-requirements-file">Creating a Requirements File</h2>
<p>One of the things that we&rsquo;ll need in order to use tox is a <strong>requirements</strong> file. A requirements file simply lists the libraries that we&rsquo;ve installed via <code>pip</code> as part of this project. Then, if we decide to work on this project either on a different computer or within a virtual test environment, like the one we&rsquo;ll create with tox, we can easily reinstall all of those libraries again. You can learn more about requirements files in the <a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files" target="_blank">pip Documentation</a>
</p>
<p>To create a requirements file, navigate to the <code>python</code> directory in the Linux terminal, and then run the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 freeze &gt; requirements.txt</span></span></code></pre></div><p>That should create a file called <code>requirements.txt</code> in the <code>python</code> directory. When we open it, we should see contents similar to this:</p>
<p>
<a href="#image-03da463f3f4e5df88a5a1a01d1560b9d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24req.png" alt="Requirements File" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-03da463f3f4e5df88a5a1a01d1560b9d">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24req.png" alt="Requirements File" class="lightbox-image" loading="lazy">
</a></p>
<p>As we can see, there are a lot of libraries already installed - many more than we installed manually. This is because the <code>pip3 freeze</code> command will list all libraries installed, even if they were installed as a dependency for another library.</p>
<p>There are some pros and cons to this approach:</p>
<ul>
<li><strong>Pro</strong>: Listing all of the libraries makes it easy to see exactly what is required, including the specific versions</li>
<li><strong>Con</strong>: It is difficult to tell which of the libraries are required, and which ones are simply dependencies</li>
</ul>
<p>Because of this, we&rsquo;re going to create our own requirements file that just lists that basic libraries we need. This will make it easier for us to keep track of the libraries we are using for this application.</p>
<p>So, go ahead and open up the <code>requirements.txt</code> file in the <code>python</code> directory, and replace it&rsquo;s contents with the following:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Then, whenever we need to reinstall the requirements for our program, we can use the following command when we are in the <code>python</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>tox will also use this requirements file to set up our test environment, as we&rsquo;ll see in the next section.</p>
<h2 id="tox-configuration">tox Configuration</h2>
<p>Next, we&rsquo;ll need to create a configuration file for tox. The tox configuration file should be stored directly in the <code>python</code> directory with the name <code>tox.ini</code>. So, we should have the following structure once that file is created:</p>
<p>
<a href="#image-268266cd1e3be8c8dbe9956e2cd1e42f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24toxconfig.png" alt="Tox Config File" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-268266cd1e3be8c8dbe9956e2cd1e42f">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24toxconfig.png" alt="Tox Config File" class="lightbox-image" loading="lazy">
</a></p>
<p>The basics of creating a configuration file for tox are detailed in the <a href="https://tox.readthedocs.io/en/latest/config.html" target="_blank">tox documentation</a>
. For now, we can use a quick starter file. So, place the following contents in the <code>tox.ini</code> file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[tox]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">envlist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">py310</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">skipsdist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[testenv]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">deps</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">-rrequirements.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m pytest --html=reports/pytest/index.html</span></span></span></code></pre></div><p>Let&rsquo;s go through the settings in this configuration file to understand what it does</p>
<ol>
<li><code>[tox]</code> - the <code>[tox]</code> entry is the header for a section of the file. In this case, it stores the global settings for tox.</li>
<li><code>envlist = py310</code> - this tells tox to only use Python version 3.10 for testing. If we want tox to test our program using multiple versions of Python, we can add them to this list.</li>
<li><code>skipsdist = True</code> - this tells tox to skip the step of installing our application in the test environment. We do this because we haven&rsquo;t set configured our application to be installed. We&rsquo;ll cover how to do this later in this course.</li>
<li><code>[testenv]</code> - this section defines the test environments that tox will create</li>
<li><code>deps = -rrequirements.txt</code> - this tells tox to install the requirements listed in the <code>requirements.txt</code> file. We include a <code>-r</code> at the beginning to match the <code>pip</code> command. There is no space between <code>-r</code> and <code>requirements</code> for some reason.</li>
<li><code>commands = python3 -m pytest --html=reports/pytest/index.html</code> - this is a list of command that tox should execute to test our application. We&rsquo;ll use the <code>python -m pytest</code> method to execute pytest here, since that will better match the commands we&rsquo;ll add to this file as we continue to build our project.</li>
</ol>
<p>That&rsquo;s a very basic configuration file for tox, but it allows us to begin automating the process of testing our code.</p>
<h2 id="running-tox">Running tox</h2>
<p>Now that we&rsquo;ve configured tox, let&rsquo;s try to run it. Thankfully, running tox is super simple. In a Linux terminal that is in the <code>python</code> directory, simply run this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox</span></span></code></pre></div><p>If everything is working correctly, we should get the following output:</p>
<p>
<a href="#image-e441ebc076e7e872a5209f85e0858038" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24toxout.png" alt="Tox Output" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e441ebc076e7e872a5209f85e0858038">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/24toxout.png" alt="Tox Output" class="lightbox-image" loading="lazy">
</a></p>
<p>When we execute tox, it performs a few tasks:</p>
<ol>
<li>tox will create a <strong>virtual environment</strong> for Python 3.10 in the <code>.tox</code> folder it creates. This allows it to run tests in isolation, away from the version of Python we are using in Codio.</li>
<li>It will then install all of the requirements listed in the <code>requirements.txt</code> file. This makes sure our application and unit tests can execute.</li>
<li>Then, it will run all of the test commands in the <code>commands</code> list in <code>tox.ini</code>. Right now there is just one command, so it will run our unit tests with pytest.</li>
</ol>
<p>The first time we run tox it may take a little while to set up the virtual environment. Thankfully, subsequent runs will be much faster since the virtual environment is already set up.</p>
<p>However, if we ever want to force tox to completely reset the virtual environment, we can just delete the <code>.tox</code> folder it creates.</p>
<p>Now that we have successfully set up and configured tox, let&rsquo;s explore some of the other tools we can use with tox.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="code-coverage">Code Coverage</h1>

<p><a href="https://www.youtube.com/watch?v=jB6VoijiOVo">YouTube Video</a></p>
<p>We&rsquo;ve now written our program, as well as a unit test that runs our program and make sure it works. But, how can we be sure that our unit tests are adequately testing every part of our program? For that, we have to rely on another tool to help us calculate the <strong>code coverage</strong> of our unit tests.</p>
<h2 id="install-coveragepy">Install Coverage.py</h2>
<p>Thankfully, there are many easy to use tools that will compute the code coverage of a set of tests. For Python, one of the most commonly used tools is the aptly-named Coverage.py. <a href="https://coverage.readthedocs.io/en/coverage-5.3.1/" target="_blank">Coverage.py</a>
 is a free code coverage library designed for Python, and it is easy to install.</p>
<p>As we&rsquo;ve already learned, we could easily install it using <code>pip</code>. However, since we are now using tox and a requirements file, we need to make sure that we update our requirements file as well. One easy way to do that is to just update the requirements file to include the new library, then use <code>pip</code> to make sure everything is installed properly.</p>
<p>So, let&rsquo;s open <code>requirements.txt</code> and make sure it now includes the following content:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>coverage
</span></span><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Once we&rsquo;ve updated our requirements file, we can then install it by opening a Linux terminal, going to the <code>python</code> folder, and then using <code>pip</code> to install everything from the requirements list:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>As you might guess, the <code>-r</code> command line argument for <code>pip3</code> will allow us to install the requirements listed in a requirements file. Once we run that command, the last line of output will list the packages installed, and we should see that Coverage.py is now installed:</p>
<p>
<a href="#image-2720c64443423566119d35eecfd237ff" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25installcov.png" alt="Install Coverage" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2720c64443423566119d35eecfd237ff">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25installcov.png" alt="Install Coverage" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="compute-code-coverage-with-coveragepy">Compute Code Coverage with Coverage.py</h2>
<p>Now that we&rsquo;ve installed and configured Coverage.py, let&rsquo;s execute it and see what happens. Coverage.py uses a two step process to compute the code coverage from a set of tests - first we must execute the tests using the Coverage.py tool, then we can use another command to generate a report. So, from within the <code>python</code> folder, we can run the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m coverage run --source src -m pytest --html<span style="color:#f92672">=</span>reports/pytest/index.html</span></span></code></pre></div><p>This command is getting pretty complex, so let&rsquo;s break it down:</p>
<ul>
<li><code>python3</code> - as always, we are running these commands using Python 3. From here onward, we&rsquo;ll run each library as as module in Python instead of running the commands themselves.</li>
<li><code>-m coverage run</code> - we want to execute the Coverage.py <code>run</code> command. We use <code>-m</code> to tell Python that we are executing the Coverage.py library as a Python module</li>
<li><code>--source src</code> - this tells Coverage.py where our source code is located. It will compute the coverage only for files in that directory</li>
<li><code>-m pytest</code> - we also have to tell Coverage.py how to execute the tests, so we include a second <code>-m</code> followed by <code>pytest</code>. Basically, we are taking our existing command for pytest and adding a few bits in front of it for Coverage.py</li>
<li><code>--html=reports/pytest/index.html</code> - as we saw earlier, this will tell pytest to create and store a report of the test results.</li>
</ul>
<p>When we execute that command, it will tell Python to run our unit tests and generate a test report. Since we are now using Coverage.py to compute code coverage, we&rsquo;ll also see a new file appear, named <code>.coverage</code>:</p>
<p>
<a href="#image-ba8701d0ccda0a8210c7cc896122db2e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25dotcov.png" alt="Dot Coverage File" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ba8701d0ccda0a8210c7cc896122db2e">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25dotcov.png" alt="Dot Coverage File" class="lightbox-image" loading="lazy">
</a></p>
<p>This file contains the data the Coverage.py collected from the unit tests. If needed, we can run multiple sets of unit tests and combine the data files using other Coverage.py commands. However, for now we won&rsquo;t worry about that.</p>
<p>Once we&rsquo;ve run our unit tests, we need to run one more command to generate a report. So, once again from within the <code>python</code> directory, run the following command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m coverage html -d reports/coverage</span></span></code></pre></div><p>The <code>coverage html</code> command will generate a report, and the <code>-d</code> command line option sets the directory where the report will be stored. Once we execute this command, we should see the <code>coverage</code> directory structure appear in <code>reports</code>:</p>
<p>
<a href="#image-e2abcd0422234414aa509b0ee489c23d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25covreport.png" alt="Coverage Report Structure" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e2abcd0422234414aa509b0ee489c23d">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25covreport.png" alt="Coverage Report Structure" class="lightbox-image" loading="lazy">
</a></p>
<p>Inside of that folder is another <code>index.html</code> file. So, let&rsquo;s <strong>right-click</strong> it and select <strong>Preview Static</strong> to open it as a webpage. Hopefully we should see something like this:</p>
<p>
<a href="#image-8e60127d55e57cf671f7758d52382ec9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25covhtml.png" alt="Coverage Report" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8e60127d55e57cf671f7758d52382ec9">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25covhtml.png" alt="Coverage Report" class="lightbox-image" loading="lazy">
</a></p>
<p>While our test only reports that it achieved 56% code coverage, we can see that it is because the <code>__main__.py</code> file was not executed. If we look at the other source files, we&rsquo;ll see that we achieved 100% code coverage with our tests! That&rsquo;s the goal, though it was pretty easy to achieve when our application really only contains one line of code. By clicking the links on the page, we can even see which lines are tested by our program, as shown below:</p>
<p>
<a href="#image-367578271167746230844c3a855ce20d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25hello.png" alt="Coverage Highlight" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-367578271167746230844c3a855ce20d">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25hello.png" alt="Coverage Highlight" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="code-coverage-in-tox">Code Coverage in Tox</h2>
<p>Now that we have our Coverage.py library working, let&rsquo;s update our tox configuration file to allow us to run those commands automatically via tox. All we have to do is open <code>tox.ini</code> in the <code>python</code> folder and update the <code>commands</code> section at the end of the file to look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m coverage run --source src -m pytest --html=reports/pytest/index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage html -d reports/coverage</span></span></span></code></pre></div><p>Notice that those are the exact same commands we used earlier to execute our tests and generate a report using Coverage.py. That&rsquo;s one of the most powerful features of tox - you are able to use the same commands within tox that you would use to manually execute the program.</p>
<p>Once we&rsquo;ve updated <code>tox.ini</code>, let&rsquo;s run it once to make sure it works. This time, since we&rsquo;ve installed a new requirement, we&rsquo;ll need to tell tox to rebuild its environment by using the <code>-r</code> command line flag:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox -r</span></span></code></pre></div><p>That will tell tox to completely rebuild its virtual environment and reinstall any libraries listed in the requirements file.</p>
<p>We should once again be able to see tox execute our tests and generate a report:</p>
<p>
<a href="#image-58d0d9363dd1861731459d386f1a994a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25toxrebuild.png" alt="Tox Rebuild" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-58d0d9363dd1861731459d386f1a994a">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/25toxrebuild.png" alt="Tox Rebuild" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="more-complex-code">More Complex Code</h2>
<p>Let&rsquo;s modify our application a bit and see how we can use Coverage.py to make sure we are really testing everything our application can do. In the <code>HelloWorld.py</code> file, found in <code>src/hello</code>, replace the existing code with this code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(args[<span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello World&#34;</span>)</span></span></code></pre></div><p>This program will now print &ldquo;Hello World&rdquo; if executed without any command line arguments, but if one is provided it will use that argument in the message instead. So, let&rsquo;s run our program again using this command from within the <code>python</code> folder:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Once the tests have finished, we can open the Coverage.py report stored in <code>reports/coverage/index.html</code> and we should find that it no longer achieves 100% coverage:</p>
<p>
<a href="#image-2104163be12b8ecbf5fb62997dd34317" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26badcoverage.png" alt="Coverage.py Not Full Coverage" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2104163be12b8ecbf5fb62997dd34317">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26badcoverage.png" alt="Coverage.py Not Full Coverage" class="lightbox-image" loading="lazy">
</a></p>
<p>If we drill down deeper, we can find the lines of code that aren&rsquo;t covered by our tests:</p>
<p>
<a href="#image-42a79402fffdfe12e9e066d3ea9ef52e" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26highlight.png" alt="Coverage.py Missing Lines" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-42a79402fffdfe12e9e066d3ea9ef52e">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26highlight.png" alt="Coverage.py Missing Lines" class="lightbox-image" loading="lazy">
</a></p>
<p>As we expected, our single unit test is not able to test each and every line of code in our application. That&rsquo;s not good! So, we&rsquo;ll need to update our tests to account for the change in our code.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Test-Driven Development</div>
  <div class="box-content">

<p>As a quick aside, if we were engaging in <strong>test-driven development</strong>, we would write the new unit test before changing the code. We won&rsquo;t model that behavior right now, but it is worth noting that you don&rsquo;t have to do these steps in the order presented here.</p>
</div>
</div>
<h2 id="update-unit-tests">Update Unit Tests</h2>
<p>So, let&rsquo;s update our unit tests to account for this new code. There are a couple of ways we can do this:</p>
<ol>
<li>We can add more code to our existing <code>test_hello_world</code> method to call the method multiple times, both with and without arguments.</li>
<li>We can add additional test methods to test different behaviors.</li>
</ol>
<p>In general, when working with unit tests, it is <strong>always</strong> preferred to add additional test methods to test additional functionality in the program. We want to keep our tests as simple and focused as possible, so that we can easily find the source of any errors it finds. If we simply added more code to the existing test, it would be difficult to tell exactly what caused the error. We&rsquo;ll cover this in more detail when we formally discuss unit testing later in this course.</p>
<p>For now, let&rsquo;s open the <code>test_HelloWorld.py</code> file stored in <code>test/hello</code> and add the following method to the <code>TestHelloWorld</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world_arg</span>(self, capsys):
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>, <span style="color:#e6db74">&#34;CC 410&#34;</span>])
</span></span><span style="display:flex;"><span>        captured <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> captured<span style="color:#f92672">.</span>out <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Hello CC 410</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span></span></span></code></pre></div><p>Notice that this is nearly identical to the previous unit test method - we simply changed the arguments that are provided to the <code>main</code> method, and also updated the assertion to account for the changed output we expect to receive. As discussed earlier, there are things we can do to prevent duplication of code like this in our unit tests, but we won&rsquo;t worry about that for now.</p>
<p>Once again, let&rsquo;s rerun our tests using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Once that is done, we can open the JaCoCo report and see if we are back to 100% coverage:</p>
<p>
<a href="#image-82fef07d4f3be57862622533f2468a67" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26goodhighlight.png" alt="Coverage.py Fixed Coverage" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-82fef07d4f3be57862622533f2468a67">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/26goodhighlight.png" alt="Coverage.py Fixed Coverage" class="lightbox-image" loading="lazy">
</a></p>
<p>If everything is working correctly, we should see that we are back at 100% coverage, and each line of code in our program is tested.</p>
<p>Of course, achieving 100% code coverage does not mean that you&rsquo;ve completely tested everything that your application could possibly do - it simply means that you are <em>at least</em> testing every line of code at least once. It&rsquo;s a great baseline to start with!</p>
<h2 id="git-commit-and-push">Git Commit and Push</h2>
<p>This is a good point to stop and commit our code to our Git repository. So, like before, we&rsquo;ll start by checking the status of our Git repository to see the files we&rsquo;ve changed:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>In that list, we should see everything we&rsquo;ve updated listed in red. Next, we&rsquo;ll add them to our index using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add .</span></span></code></pre></div><p>And then we can review our changes using the status command again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>If we are satisfied that everything looks correctly, we can commit our changes using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Unit Tests and Code Coverage&#34;</span></span></span></code></pre></div><p>And finally, we can push those changes to the remote repository on GitHub using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push</span></span></code></pre></div><p>As you can quickly see, this is a pretty short set of 5 commands that we can use to quickly store our code in our local Git repository and on GitHub. We just have to carefully pay attention to the files we commit and make sure it is correct.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="documentation">Documentation</h1>

<p><a href="https://www.youtube.com/watch?v=Z67W_xDtW1s">YouTube Video</a></p>
<p>The next step in writing good code is adding proper documentation and comments to describe the code and what it does. By writing good documentation, we can pass on helpful information to other developers who need to maintain this code, including our future selves!</p>
<h2 id="python-docstrings">Python Docstrings</h2>
<p>Unlike most other programming languages, which specify that documentation for classes and functions should be in a large comment above the class or function, Python uses a different documentation structure known as <strong>docstrings</strong>. A <strong>docstring</strong> is a comment that is surrounded by three sets of double quotation marks <code>&quot;&quot;&quot;</code> and can be found starting on the first line of the class or function declaration.</p>
<p>The Python programming language specification doesn&rsquo;t include a whole lot of information about the specific structure of docstrings, but there are a few resources that developers can look to for examples. The original docstring format was specified in <a href="https://www.python.org/dev/peps/pep-0257/" target="_blank">PEP 257</a>
. However, many Python developers prefer to follow the <a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Python Style Guide published by Google</a>
, which includes examples and specifications for docstrings.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> PEPs</div>
  <div class="box-content">

<p>In Python documentation, many times you&rsquo;ll see references to various &ldquo;PEP&rdquo; documents. &ldquo;PEP&rdquo; is short for &ldquo;Python Enhancement Proposal,&rdquo; and the collected set of PEP documents form the basis for the Python programming language. If you are familiar with the <a href="https://www.rfc-editor.org/rfc-index.html" target="_blank">Requests for Comment</a>
, or RFCs, that provide the technical information underpinning much of the Internet, PEPs serve a very similar purpose for Python. The full archive of PEPs can be found in <a href="https://www.python.org/dev/peps/" target="_blank">PEP 0</a>
.</p>
</div>
</div>
<p>So, let&rsquo;s explore how to create this documentation for our code.</p>
<h2 id="file-docstring">File Docstring</h2>
<p>First, let&rsquo;s look at a docstring that would be placed at the top of a source code file for Python. This is a sample docstring that we would place at the top of our <code>HelloWorld.py</code> file in the <code>src/hello</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Sample HelloWorld Program.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This is a sample HelloWorld program to demonstrate proper
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Python coding style, testing, documentation, and more.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><p>There are lots of new things in this block of comments, so let&rsquo;s look at each part individually:</p>
<ul>
<li>Each docstring in Python is surrounded by three pairs of double quotation marks <code>&quot;&quot;&quot;</code>.</li>
<li>Immediately following the opening quotation marks, we include a short description for the file. It should be a single line summary of the file, with a period at the end.</li>
<li>After the summary, there should be a single blank line.</li>
<li>Then, any additional paragraphs can be included to further explain the code.</li>
<li>While not required as part of the Google style guide, it is a good practice to place both the author and the version in this docstring, as shown in the example above.</li>
</ul>
<p>In most cases, it is recommended that every Python source file contain a docstring at the top of the file that describes its purpose. So, let&rsquo;s look at a few other docstrings we may want to include in our program:</p>
<h4 id="src__init__py"><code>src/__init__.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Meta package for all project packages.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This is the __init__ file for this package.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Typically this file can be left blank, but for this example we have
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">included a print statement so we can see what it does and when.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Usage:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    python3 -m src - execute this program (when run from project root).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><h4 id="src__main__py"><code>src/__main__.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Sample Main Project File.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This file is executed when the entire src directory is run using Python
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">and serves as the main entry point for the application.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Usage:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    python3 -m src - execute this program (when run from project root).
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><h4 id="srcconftestpy"><code>src/conftest.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Sample test configuration file.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This file is used to configure testing parameters for PyTest. It is included
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">as a hack to get PyTest to recognize and include this directory in the Python
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">path. See https://stackoverflow.com/q/34466027.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><h4 id="srchello__init__py"><code>src/hello/__init__.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;hello Package.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This is the __init__ file for this package.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Typically this file can be left blank, but for this example we have
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">included a print statement so we can see what it does and when.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><p>If you haven&rsquo;t already, go ahead and include the above docstrings in the files specified. Don&rsquo;t forget to update the author and version information as needed.</p>
<h2 id="class-docstring">Class Docstring</h2>
<p>Next, we should also include a docstring at the beginning of each class. This will include information about the class itself, including any attributes stored at the class level. Here&rsquo;s an example of a class docstring for our <code>HelloWorld</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Simple HelloWorld Class.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Prints &#34;Hello World&#34; to the terminal when the main function is executed.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># code goes here</span></span></span></code></pre></div><p>It follows the same structure as the file docstring - a one line description first, followed by a period and a blank line, then additional paragraphs as required.</p>
<h2 id="function-docstring">Function Docstring</h2>
<p>Finally, we should also include a docstring at the beginning of most functions. Here&rsquo;s an example of a docstring for the <code>main</code> function in our <code>HelloWorld</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Prints a hello message.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        This method prints the standard &#34;Hello World&#34; message to the terminal.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            args: The command-line arguments provided to the program.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># code goes here</span></span></span></code></pre></div><p>Notice that this docstring has a section named &ldquo;Args:&rdquo; that describes the parameters for the method. The <a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Google Style Guide</a>
 describes three sections that could be included in a function docstring:</p>
<ul>
<li><strong>Args</strong> - list and describe each parameter by name</li>
<li><strong>Returns</strong> - describe the value returned by the function</li>
<li><strong>Raises</strong> - list all exceptions which could be raised by this code and why</li>
</ul>
<p>Feel free to refer to the <a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Google Style Guide</a>
 for examples as well.</p>
<h2 id="other-comments">Other Comments</h2>
<p>Finally, individual variables and tricky sections in the source code can also be documented using comments. Typically any attributes or fields stored directly within the class itself are documented in this way. We don&rsquo;t have any attributes in our current program, so we won&rsquo;t worry about this part for now.</p>
<p>We&rsquo;ll discuss the creation of Python docstrings in more detail later in this course. For now, feel free to refer to these resources for additional information:</p>
<ul>
<li><a href="https://www.python.org/dev/peps/pep-0257/" target="_blank">PEP 257</a>
</li>
<li><a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Google Style Guide</a>
</li>
<li><a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html" target="_blank">Example Google Style Python Docstrings</a>
 from Sphinx</li>
<li><a href="https://github.com/google/python-fire/tree/master/fire" target="_blank">Python Fire Source Code</a>
 - Many of these source files contain Google style docstrings</li>
</ul>
<h2 id="documenting-tests">Documenting Tests</h2>
<p>Let&rsquo;s briefly look at a documented version of our unit test code as well, just to see what that looks like. Some of the code has been omitted so we can just focus on the comments:</p>
<h4 id="testhello__init__py"><code>test/hello/__init__.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;test package for hello.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">This is the __init__ file for this package.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Typically this file can be left blank, but for this example we have
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">included a print statement so we can see what it does and when.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span></span></span></code></pre></div><h4 id="testhellotest_helloworldpy"><code>test/hello/test_HelloWorld.py</code></h4>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Test Class for HelloWorld.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># imports omitted</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorld</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Test Class for `src.hello.HelloWorld`.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Test Method for `src.hello.HelloWorld.main`.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        This will test the main method with no arguments.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            capsys: PyUnit fixture to capture output.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># code omitted</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world_arg</span>(self, capsys):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Test Method for `src.hello.HelloWorld.main`.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        This will test the main method with 1 argument.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            capsys: PyUnit fixture to capture output.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># code omitted</span></span></span></code></pre></div><p>Go ahead and place comments similar to what you see above in the appropriate files in the <code>test</code> folder. As before, don&rsquo;t forget to change the author to your name!</p>
<h2 id="generating-documentation-with-pdoc3">Generating Documentation with pdoc3</h2>
<p>One of the most powerful uses of the docstrings is to generate documentation for users and developers automatically based on the comments stored in the docstrings. This can make it much easier for developers to understand how the code works, even without exploring the code itself.</p>
<p>One of the best tools to create documentation for Python is pdoc3. [pdoc3] makes it quick and easy to generate easy to read documentation based on the docstrings in the source code, and it supports Google style docstrings and even markdown!</p>
<p>To install pdoc3, we&rsquo;ll simply add it to our <code>requirements.txt</code> file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>coverage
</span></span><span style="display:flex;"><span>pdoc3
</span></span><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p><strong>Make sure it is <code>pdoc3</code> and not <code>pdoc</code>, which is an older version that <code>pdoc3</code> is based on.</strong></p>
<p>Once it is there, we can install it by going to the <code>python</code> directory in a Linux terminal and running this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>As before, if everything works correctly we should see that pdoc3 was installed:</p>
<p>
<a href="#image-fc7cf0394309c7855b370fcebd28b114" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27installpdoc.png" alt="Install pdoc" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fc7cf0394309c7855b370fcebd28b114">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27installpdoc.png" alt="Install pdoc" class="lightbox-image" loading="lazy">
</a></p>
<p>Once we&rsquo;ve installed pdoc3, we can use the following command from within the <code>python</code> directory to generate our documentation:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m pdoc --html --force --output-dir reports/doc .</span></span></code></pre></div><p>Let&rsquo;s look at that command to understand what it does:</p>
<ul>
<li><code>python3 -m pdoc</code> - like always, we are running pdoc as a module using <code>python3</code>.</li>
<li><code>--html</code> - this tells pdoc to create HTML documentation.</li>
<li><code>--force</code> - this tells pdoc to overwrite any existing documentation if needed.</li>
<li><code>--output-dir reports/doc</code> - this tells pdoc where to place the completed documentation.</li>
<li><code>.</code> - the period at the end <code>.</code> represents the current directory in Linux. So, it is telling pdoc to generate documentation starting at the current directory, which should be <code>python</code>. This will make sure that both our <code>src</code> and <code>test</code> folders and all the code they contain are included.</li>
</ul>
<p>Once it has been executed, we should now see a new directory called <code>doc</code> in our <code>reports</code> folder:</p>
<p>
<a href="#image-8bed5899541d74b660db9c2c002447ef" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdocreport.png" alt="Pdoc3 Output" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8bed5899541d74b660db9c2c002447ef">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdocreport.png" alt="Pdoc3 Output" class="lightbox-image" loading="lazy">
</a></p>
<p>To open the report, we can <strong>right-click</strong> on the <code>reports/doc/python/index.html</code> file and choose <strong>Preview Static</strong>. We should see a webpage that looks like this:</p>
<p>
<a href="#image-09c9c6744d5fe45902f548170daf4e4f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdochtml.png" alt="pdoc HTML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-09c9c6744d5fe45902f548170daf4e4f">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdochtml.png" alt="pdoc HTML" class="lightbox-image" loading="lazy">
</a></p>
<p>We can follow the links on that page to explore the entirety of our project. For example, if we drill down to the <code>main</code> method in the <code>HelloWorld</code> class, we can see the &ldquo;Args&rdquo; section and how it appears in the documentation. We can even show the original source code for the method directly from the documentation:</p>
<p>
<a href="#image-5b3e8702b4246f3f4b416d5c7e9707b4" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdocmethod.png" alt="pdoc Main Method" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-5b3e8702b4246f3f4b416d5c7e9707b4">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/27pdocmethod.png" alt="pdoc Main Method" class="lightbox-image" loading="lazy">
</a></p>
<p>As we can see, this documentation would be very valuable to anyone who wants to explore and learn more about our code. So, we&rsquo;ll need to make sure we always include helpful docstrings in our Python code!</p>
<h2 id="integrating-with-tox">Integrating with tox</h2>
<p>Integrating pdoc into tox is simple! We&rsquo;ll just add the command we used above to our commands list in <code>tox.ini</code>. Once we&rsquo;ve done that, it should look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m coverage run --source src -m pytest --html=reports/pytest/index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage html -d reports/coverage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m pdoc --html --force --output-dir reports/doc .</span></span></span></code></pre></div><p>Then, we can execute it by using the <code>tox</code> command. Since we&rsquo;ve installed a new library and updated our requirements file since the last time we executed tox, we&rsquo;ll need to use the <code>-r</code> flag so it will rebuild its virtual environment:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox -r</span></span></code></pre></div><p>Once we run that command, it should successfully update our documentation.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="flake8">Flake8</h1>

<p><a href="https://www.youtube.com/watch?v=vcClFM560-g">YouTube Video</a></p>
<p>Finally, we&rsquo;re at the point that we&rsquo;ve written our application, a couple of unit tests, verified that the unit tests achieve a high level of code coverage, and we&rsquo;ve written helpful documentation comments in our code. That&rsquo;s a lot of content we&rsquo;ve written, especially in our source code files. Now let&rsquo;s see how good our coding style is by checking it using a linter.</p>
<h2 id="flake8">Flake8</h2>
<p>There are many different tools that can be used to check the style of source code. Python has a very thorough style guide available in <a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">PEP 8</a>
 that most developers follow. In addition, we&rsquo;ve already looked at the <a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Google Style Guide for Python</a>
. So, we&rsquo;ll want to find a tool that can help us follow the style guide of our choice.</p>
<p>There are many different linters available for Python. One of the most commonly used tools is called <a href="https://flake8.pycqa.org/en/latest/" target="_blank">Flake8</a>
. Flake8 is a very powerful linter that can be configured to perform all sorts of style checks on our code.</p>
<h2 id="installing-flake8">Installing Flake8</h2>
<p>As expected, we can install Flake8 by simply adding it to our <code>requirements.txt</code> file. We&rsquo;ll also add a few additional plugins for Flake8 that allow us to perform additional checks and generate a helpful HTML report. So, let&rsquo;s update our <code>requirements.txt</code> to look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>coverage
</span></span><span style="display:flex;"><span>flake8
</span></span><span style="display:flex;"><span>flake8-docstrings
</span></span><span style="display:flex;"><span>flake8-html
</span></span><span style="display:flex;"><span>pdoc3
</span></span><span style="display:flex;"><span>pep8-naming
</span></span><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p>This will install several new items:</p>
<ul>
<li><a href="https://flake8.pycqa.org/en/latest/" target="_blank">flake8</a>
 - the base library for Flake8</li>
<li><a href="https://gitlab.com/pycqa/flake8-docstrings" target="_blank">flake8-docstrings</a>
 - an extension for Flake8 to validate the structure of docstrings</li>
<li><a href="https://github.com/lordmauve/flake8-html" target="_blank">flake8-html</a>
 - a plugin to create HTML reports of the violations found by Flake8</li>
<li><a href="https://github.com/PyCQA/pep8-naming" target="_blank">pep8-naming</a>
 - a plugin to enforce naming conventions described in <a href="https://www.python.org/dev/peps/pep-0008/" target="_blank">PEP 8</a>
</li>
</ul>
<p>Once we&rsquo;ve updated <code>requirements.txt</code>, we can install those libraries by opening a Linux terminal, navigating to the <code>python</code> folder, and running this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>After that command executes, we should see that those libraries are now installed:</p>
<p>
<a href="#image-6d83c06b9c35ccc232b9b3427272ac84" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8install.png" alt="Pip install Flake8" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-6d83c06b9c35ccc232b9b3427272ac84">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8install.png" alt="Pip install Flake8" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="running-flake8">Running Flake8</h2>
<p>Once we&rsquo;ve installed Flake8, we can execute it and see what errors are contained in our code. So, to do this, we can use the following command from within the <code>python</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m flake8 --docstring-convention google --format<span style="color:#f92672">=</span>html --htmldir<span style="color:#f92672">=</span>reports/flake</span></span></code></pre></div><p>Let&rsquo;s look at this command and see what it does:</p>
<ul>
<li><code>python3 -m flake8</code> - as always, we&rsquo;ll execute Flake8 as a module using Python 3.</li>
<li><code>--docstring-convention google</code> - this will configure the <code>flake-docstrings</code> extension to enforce the docstring format specified in the <a href="https://google.github.io/styleguide/pyguide.html#s3.8-comments-and-docstrings" target="_blank">Google Style Guide for Python</a>
.</li>
<li><code>--format=html --htmldir=reports/flake</code> - these two arguments will create an HTML report in the <code>reports/flake</code> directory.</li>
</ul>
<p>Once we run that command, we&rsquo;ll probably get a bunch of output that looks like this:</p>
<p>
<a href="#image-d45d5c301ec192430a8478fb9179fdfd" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8output.png" alt="Flake8 Output" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d45d5c301ec192430a8478fb9179fdfd">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8output.png" alt="Flake8 Output" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="resolving-flake8-errors">Resolving Flake8 Errors</h2>
<p>As we can see, our code has several errors in it. So, let&rsquo;s look at the errors in our <code>HelloWorld.py</code> file and see if we can resolve them. To view the errors, we can <strong>right-click</strong> the <code>reports/flake/index.html</code> file and select <strong>Preview Static</strong> to view it as a webpage:</p>
<p>
<a href="#image-fd0c457e4b21b4098d0241dc1ccd3768" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8report.png" alt="Flake8 Report" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fd0c457e4b21b4098d0241dc1ccd3768">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8report.png" alt="Flake8 Report" class="lightbox-image" loading="lazy">
</a></p>
<p>By clicking on the links on that page and expanding the code, we can clearly see the errors in our <code>HelloWorld.py</code> file:</p>
<p>
<a href="#image-71b62a62152dde0771005592d12f3b79" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28helloerrors.png" alt="HelloWorld Errors" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-71b62a62152dde0771005592d12f3b79">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28helloerrors.png" alt="HelloWorld Errors" class="lightbox-image" loading="lazy">
</a></p>
<p>It looks like there are two errors:</p>
<ul>
<li>On line 10, it expects to find 2 blank lines but only found 1.</li>
<li>On line 27, it expects to find a newline at the end of the file, but didn&rsquo;t find one.</li>
</ul>
<p>If we open that file in the Codio editor, we may also see similar errors:</p>
<p>
<a href="#image-77bc53694305f1821c07c93c4eccf98a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28hellolsp.png" alt="HelloWorld LSP" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-77bc53694305f1821c07c93c4eccf98a">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28hellolsp.png" alt="HelloWorld LSP" class="lightbox-image" loading="lazy">
</a></p>
<p>Thankfully, the Codio editor includes a feature that performs many of the same checks as Flake8, so we can see many of the same messages by looking for yellow or red dots to the left of the code. Of course, Codio isn&rsquo;t guaranteed to find the same errors as Flake8, so we always have to use the Flake8 tool to be sure we found all the errors.</p>
<p>In this case, we need to resolve two things:</p>
<ul>
<li>The Python coding standard requires 2 blank lines before a class definition if there is anything above it. So, we&rsquo;ll need to add an extra blank line at line 10. See <a href="https://www.python.org/dev/peps/pep-0008/#blank-lines" target="_blank">Blank Lines</a>
 in PEP 8.</li>
<li>Likewise, all Python files should end with a newline. In this case, we see that the last line of the file contains text, so we need to add a newline at the end by pressing enter.</li>
</ul>
<p>Once we&rsquo;ve made those changes, we can rerun Flake8:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m flake8 --docstring-convention google --format<span style="color:#f92672">=</span>html --htmldir<span style="color:#f92672">=</span>reports/flake</span></span></code></pre></div><p>and then check the report to see if we fixed the problems:</p>
<p>
<a href="#image-b675c855a2a580d052a093bd7c17fd84" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flakefixed.png" alt="Flake8 Errors Fixed" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b675c855a2a580d052a093bd7c17fd84">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flakefixed.png" alt="Flake8 Errors Fixed" class="lightbox-image" loading="lazy">
</a></p>
<p>Yup! Since the file is no longer listed, we are good to go.</p>
<p>One other error that is very common with Python code is this one:</p>
<p>
<a href="#image-81d537d519ebdfec7900ee3543723df5" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28blankline.png" alt="Whitespace in Blank Lines" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-81d537d519ebdfec7900ee3543723df5">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28blankline.png" alt="Whitespace in Blank Lines" class="lightbox-image" loading="lazy">
</a></p>
<p>Our Python style guide requires that blank lines be completely blank, without any whitespace in them. However, the Codio editor (and many other IDEs) will try to be helpful and automatically indent a blank line for us, which causes these errors. The Codio editor even highlights them to tell us that it is wrong, but it still does it:</p>
<p>
<a href="#image-52f74392ab0e63c887082adcd1ee37e8" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28blanklinecode.png" alt="Whitespace in Blank Lines in Code" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-52f74392ab0e63c887082adcd1ee37e8">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28blanklinecode.png" alt="Whitespace in Blank Lines in Code" class="lightbox-image" loading="lazy">
</a></p>
<p>So, we&rsquo;ll also have to remember to completely remove any whitespace from blank lines in our files in order to pass the Flake8 style checker. Before moving on with this example, modify the code in the various Python source files to ensure that everything is able to pass the Flake8 tool. In many professional software development roles, you aren&rsquo;t even able to save your code unless it passes a style checking tool, so it is a very good habit to get into. In this course, part of your grade will depend on your code following the appropriate style!</p>
<p>Once you&rsquo;ve resolved all the errors, you should get the following message in the Flake8 report:</p>
<p>
<a href="#image-f499bbfd16cf3c012317bd2cafd250b4" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8good.png" alt="Flake8 Good" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f499bbfd16cf3c012317bd2cafd250b4">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/28flake8good.png" alt="Flake8 Good" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="integrating-flake8-with-tox">Integrating Flake8 with tox</h2>
<p>As we&rsquo;ve already seen, integrating Flake8 with tox is as simple as adding the command to the list of commands in our <code>tox.ini</code> file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m coverage run --source src -m pytest --html=reports/pytest/index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage html -d reports/coverage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m flake8 --docstring-convention google --format=html --htmldir=reports/flake
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m pdoc --html --force --output-dir reports/doc .</span></span></span></code></pre></div><p>In this case, notice that we placed the Flake8 command before pdoc - we want to make sure that our code passes all style checks before generating our documentation. If the Flake8 command exits with any errors, it will stop executing the tests and prevent the documentation from being generated.</p>
<p>As before, we can then rerun tox using the <code>-r</code> flag to reset the virtual environment and install the new libraries:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox -r</span></span></code></pre></div><p>That should allow us to run our tests, check the style of our code, and regenerate our documentation quickly and easily.</p>
<h2 id="git-commit-and-push">Git Commit and Push</h2>
<p>This is a good point to stop and commit our code to our Git repository. So, like before, we&rsquo;ll start by checking the status of our Git repository to see the files we&rsquo;ve changed:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>In that list, we should see everything we&rsquo;ve updated listed in red. Next, we&rsquo;ll add them to our index using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git add .</span></span></code></pre></div><p>And then we can review our changes using the status command again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git status</span></span></code></pre></div><p>If we are satisfied that everything looks correctly, we can commit our changes using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit -m <span style="color:#e6db74">&#34;Unit Tests and Code Coverage&#34;</span></span></span></code></pre></div><p>And finally, we can push those changes to the remote repository on GitHub using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push</span></span></code></pre></div><p>There we go! We&rsquo;ve updated our repository once again.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="type-checking">Type Checking</h1>

<p><a href="https://www.youtube.com/watch?v=MFaEO1cTlck">YouTube Video</a></p>
<p>One of the major selling points of Python is that it is <strong>dynamically typed</strong>. This means that the data type of variables is determined at runtime, and a single variable can store multiple data types throughout the execution of the program.</p>
<p>While this can make development seem quick and easy, it can also cause programmers to make mistakes related to the handling of various data types that wouldn&rsquo;t be present in statically typed languages such as Java, C++, or C#. Those languages require compilation before they can be executed, and one step that the compiler performs is <strong>type checking</strong>. Type checking is a process that makes sure each value that is ever assigned to a variable has the correct type - otherwise the program won&rsquo;t compile properly.</p>
<p>Thankfully, with the addition of <strong>type hinting</strong> in Python, we can use a tool to perform type checking on our code as well. Let&rsquo;s see what that would look like!</p>
<h2 id="type-hinting-in-python">Type Hinting in Python</h2>
<p>Let&rsquo;s review our existing code in <code>HelloWorld.py</code> and see what it would look like with type hints added. The code is shown here without any docstrings just to make it easier to read:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(args[<span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello World&#34;</span>)</span></span></code></pre></div><p>To add type hinting, we need to add information to each variable and function at a bare minimum. So, let&rsquo;s look at the function first.</p>
<p>Recall that functions can return a value using the <code>return</code> keyword. We don&rsquo;t see that in our <code>main</code> function, so it doesn&rsquo;t return a value, right? In fact, any Python function that doesn&rsquo;t explicitly return a value within the code actually returns the value <code>None</code> by default. So, we would say that the &ldquo;return type&rdquo; of the function <code>main</code> is <code>None</code></p>
<p>To annotate that with a type hint, we would modify the code to look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(args[<span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello World&#34;</span>)</span></span></code></pre></div><p>Notice that we simply added <code>-&gt; None</code> after the function name and arguments, but before the colon <code>:</code>. That&rsquo;s all it takes!</p>
<p>Likewise, we should annotate each variable, including all of the function parameters. So, in our function, we are expecting a parameter named <code>args</code>. What type of data would be stored in <code>args</code>?</p>
<p>Recall that <code>args</code> is a stand in for <code>sys.argv</code>, which are the command line arguments provided to Python when the program is executed. <code>sys.argv</code> is a list of strings, so the type of <code>args</code> would also be a list of strings. Therefore, we can annotate it in this way:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorld</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args: List[str]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(args) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(args[<span style="color:#ae81ff">1</span>]))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;Hello World&#34;</span>)</span></span></code></pre></div><p>In this case, we added two things:</p>
<ul>
<li>For some special types, such as collections like lists, we&rsquo;ll need to import the proper type from the <code>typing</code> library.</li>
<li>After each variable is named, we can place a colon followed by the type of the variable. In the case of <code>args</code>, we set the type to <code>List[str]</code>, which represents a list of strings.</li>
</ul>
<p>There we go! We&rsquo;ve added type hints to our source code. If you want to learn more about how to add type hints to your code, here are some great resources:</p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html" target="_blank">Typing</a>
 in the Python Documentation</li>
<li><a href="https://realpython.com/python-type-checking/" target="_blank">Python Type Checking Guide</a>
 from Real Python</li>
<li><a href="https://mypy.readthedocs.io/en/stable/cheat_sheet_py3.html" target="_blank">Type Hints Cheat Sheet</a>
 from Mypy</li>
<li><a href="https://mypy.readthedocs.io/en/stable/builtin_types.html" target="_blank">Type System Reference</a>
 from Mypy</li>
</ul>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Codio IDE and Type Hinting</div>
  <div class="box-content">

<p>Unfortunately, the Codio IDE does not properly deal with type hinting in Python, and will tell us that our code contains a syntax error:</p>
<p>
<a href="#image-eb80fb5aa4c3960fde1d3b0e1497a1ce" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29codiotype.png" alt="Codio LSP Type Hinting" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-eb80fb5aa4c3960fde1d3b0e1497a1ce">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29codiotype.png" alt="Codio LSP Type Hinting" class="lightbox-image" loading="lazy">
</a></p>
<p>We can safely ignore that error, provided that our code passes the Flake8 style checker itself.</p>
</div>
</div>
<h2 id="type-checking-with-mypy">Type Checking with Mypy</h2>
<p>Now that we&rsquo;ve added some type hints to our code, how can we check to make sure our code doesn&rsquo;t violate those hints? To do that, we can use a static type checker called Mypy. [Mypy] is a powerful tool that allows us to quickly and easily spot typing errors in our Python code. However, it has one major caveat - it will only catch type errors for variables or functions that include type hints. It <strong>will not</strong> report all type errors in code that does not include type hints, nor will it tell us if some type hints are missing. So, it is up to us as developers to include all of the appropriate type hints ourselves!</p>
<p>To install Mypy, we can simply add the appropriate line to our <code>requirements.txt</code> file. We&rsquo;ll also install the <code>lxml</code> library, so we can generate HTML reports from Mypy. Once we&rsquo;ve added those lines, our requirements file should now look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>coverage
</span></span><span style="display:flex;"><span>flake8
</span></span><span style="display:flex;"><span>flake8-docstrings
</span></span><span style="display:flex;"><span>flake8-html
</span></span><span style="display:flex;"><span>lxml
</span></span><span style="display:flex;"><span>mypy
</span></span><span style="display:flex;"><span>pdoc3
</span></span><span style="display:flex;"><span>pep8-naming
</span></span><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Then, we can make sure those libraries are installed by running this command from within the <code>python</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>As always, once we&rsquo;ve run that command we can verify that the library was installed by looking at the output:</p>
<p>
<a href="#image-bb4c9385bf6f1a8e4c7334463338d2fd" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29installmypy.png" alt="Install Mypy" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-bb4c9385bf6f1a8e4c7334463338d2fd">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29installmypy.png" alt="Install Mypy" class="lightbox-image" loading="lazy">
</a></p>
<h2 id="running-mypy">Running Mypy</h2>
<p>Once we&rsquo;ve installed Mypy, we can execute it using the following command from within the <code>python</code> directory:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m mypy -p src --strict --html-report reports/mypy</span></span></code></pre></div><p>As always, let&rsquo;s break this command down into its separate parts:</p>
<ul>
<li><code>python3 -m mpyp</code> - we want to run the Mypy library as a Python module</li>
<li><code>-p src</code> - this tells Mypy to execute the code in our <code>src</code> meta package, which will include all source code files inside of that directory.</li>
<li><code>--strict</code> - we want to enable all optional checks that Mypy can perform</li>
<li><code>--html-report reports/mypy</code> - this will create an HTML report in the <code>reports/mypy</code> directory</li>
</ul>
<p>If everything is working correctly, we should get the following output:</p>
<p>
<a href="#image-7c4eea311d6a45cae40c84ece9a3867f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypygood.png" alt="Mypy Success" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-7c4eea311d6a45cae40c84ece9a3867f">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypygood.png" alt="Mypy Success" class="lightbox-image" loading="lazy">
</a></p>
<p>We may notice a new <code>.mypy_cache</code> folder, which can be safely ignored just like the <code>.pytest_cache</code> folder next to it. We can also find an HTML report in <code>reports/mypy/index.html</code>:</p>
<p>
<a href="#image-312696788ca38c42601bb3ddc5efded6" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypyreport.png" alt="Mypy Report" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-312696788ca38c42601bb3ddc5efded6">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypyreport.png" alt="Mypy Report" class="lightbox-image" loading="lazy">
</a></p>
<p>To open that file, simply <strong>right-click</strong> on it and select <strong>Preview Static</strong>. When we do that, we should get a report that looks like this:</p>
<p>
<a href="#image-c0b643a63a205d4872bb267646b5af4b" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypyhtml.png" alt="Mypy HTML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c0b643a63a205d4872bb267646b5af4b">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29mypyhtml.png" alt="Mypy HTML" class="lightbox-image" loading="lazy">
</a></p>
<p>As we can see, Mypy shows that we&rsquo;ve properly type hinted all of the code! That&rsquo;s great!</p>
<h2 id="integrating-with-tox">Integrating with Tox</h2>
<p>We can also integrate Mypy with tox by simply adding the command above to the <code>tox.ini</code> file in the commands section, which should now look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m mypy -p src --strict --html-report reports/mypy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage run --source src -m pytest --html=reports/pytest/index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage html -d reports/coverage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m flake8 --docstring-convention google --format=html --htmldir=reports/flake
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m pdoc --html --force --output-dir reports/doc .</span></span></span></code></pre></div><p>Notice that the Mypy command is now first in the list of commands. This mimics what most other programming languages would do - the code must pass the type checker in the compiler before the unit tests can be executed. So, we&rsquo;ll do the same with our Python code here.</p>
<p>Once we&rsquo;ve updated <code>tox.ini</code>, we can rerun tox using this command:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tox -r</span></span></code></pre></div><p>That should now run all of our test commands at once!</p>
<h2 id="type-checking-unit-tests">Type Checking Unit Tests</h2>
<p>Now, let&rsquo;s briefly review how to type check our unit tests. This is a <strong>much</strong> more difficult task, since our unit tests build upon several external libraries. Thankfully, the Mypy library includes a way for us to explore the types that it is able to infer.</p>
<p>So, in our <code>test_HelloWorld.py</code> file, let&rsquo;s add the line <code>reveal_locals()</code> to the bottom of one of our test methods. We&rsquo;ll also need to annotate the function&rsquo;s return type so that Mypy will analyze it, so we&rsquo;ll set it to <code>None</code> as we did above. As before, the docstrings have been omitted from this code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorld</span>():
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>])
</span></span><span style="display:flex;"><span>        captured <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> captured<span style="color:#f92672">.</span>out <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Hello World</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>
</span></span><span style="display:flex;"><span>        reveal_locals()</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Mypy Expressions</div>
  <div class="box-content">

<p>The line <code>reveal_locals()</code> is a handy expression for adding type checking to our Python code. However, the Python interpreter itself won&rsquo;t recognize that line as valid Python code, so we&rsquo;ll have to remove it before we can actually execute our tests again. We&rsquo;re just using it temporarily to help us determine the types that Mypy finds for the variables in our code</p>
</div>
</div>
<p>Now, let&rsquo;s analyze the code in our <code>test</code> folder using Mypy:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m mypy --strict test</span></span></code></pre></div><p>Notice that we are just giving it the name of the directory <code>test</code> instead of loading it as a Python meta package. This is because we didn&rsquo;t include an <code>__init__.py</code> file inside of the <code>test</code> directory itself. Don&rsquo;t worry - Mypy is able to handle it just fine! When we run that command, we&rsquo;ll see output like this:</p>
<p>
<a href="#image-fc3660e39084e23e23c8d4c3be9abc21" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29locals.png" alt="Local Variable Types" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-fc3660e39084e23e23c8d4c3be9abc21">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29locals.png" alt="Local Variable Types" class="lightbox-image" loading="lazy">
</a></p>
<p>In that output, we&rsquo;ll see that the Mypy library was not able to determine the type of the <code>capsys</code> and <code>captured</code> variables. Instead, it just reports that they could be <code>Any</code> type, which is a special type annotation that matches any possible type. This is due to the fact that we didn&rsquo;t actually have to import the <code>pytest</code> library to use those variables. This is a powerful feature of Python, but it makes it more difficult to perform proper type checking. It will also complain that we now have method arguments that are missing annotations, so let&rsquo;s see if we can resolve that.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Read the Source, Luke</div>
  <div class="box-content">

<p>Unfortunately, figuring out the rest of this required lots of poking around the <a href="https://github.com/pytest-dev/pytest/blob/master/src/_pytest/capture.py" target="_blank">pytest source code</a>
, specifically in the file for capturing system output. Static type checking in Python is simply more difficult than in other languages because of the way it handles dynamic typing and library imports at runtime.</p>
<p>We&rsquo;ll go ahead and explore what it takes to properly add type hinting to unit tests here, but you <strong>will not</strong> be required to be this thorough in your own unit tests in this course. That is simply asking too much!</p>
</div>
</div>
<p>So, let&rsquo;s import those libraries by adding them to the top of the file. We&rsquo;ll start by importing the <code>CaptureFixture</code> class from <code>pytest</code>, as well as the <code>AnyStr</code> type from the <code>typing</code> library. Then, we can annotate the <code>capsys</code> parameter with the appropriate type, which is <code>CaptureFixture[Any]</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pytest <span style="color:#f92672">import</span> CaptureFixture
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> Any
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorld</span>():
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys: CaptureFixture[Any]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>])
</span></span><span style="display:flex;"><span>        captured <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> captured<span style="color:#f92672">.</span>out <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Hello World</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>
</span></span><span style="display:flex;"><span>        reveal_locals()</span></span></code></pre></div><p>Once that is in place, we can rerun our Mypy check and should get the following output:</p>
<p>
<a href="#image-40890006a0001e63b1124cec5a260851" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29fixture.png" alt="Mypy Fixtures" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-40890006a0001e63b1124cec5a260851">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29fixture.png" alt="Mypy Fixtures" class="lightbox-image" loading="lazy">
</a></p>
<p>That&rsquo;s closer! Now Mypy is finding the correct types for <code>capsys</code> and was able to use the information in the <code>pytest</code> library to infer the type of the <code>captured</code> variable, which is returned from the <code>capsys.readouterr()</code> function call. So, let&rsquo;s annotate that variable as well. To do that, we&rsquo;ll need to import the <code>CaptureResult</code> class from the <code>_pytest.capture</code> library. As you might guess by the underscore at the beginning of the library name, we are importing a class that is meant to be internal to pytest. This is generally considered bad practice, but it helps for type checking, so we&rsquo;ll do it for now. Our updated code looks like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pytest <span style="color:#f92672">import</span> CaptureFixture
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> _pytest.capture <span style="color:#f92672">import</span> CaptureResult
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> Any
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorld</span>():
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys: CaptureFixture[Any]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>])
</span></span><span style="display:flex;"><span>        captured: CaptureResult[Any] <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> captured<span style="color:#f92672">.</span>out <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Hello World</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>
</span></span><span style="display:flex;"><span>        reveal_locals()</span></span></code></pre></div><p>Notice that we can easily add a type hint to a variable in the same way we added type hints to method parameters - we just place a colon <code>:</code> after the variable name and then add the type. Now, when we run the Mypy command, we should get the same output, which confirms that we have the correct type hints:</p>
<p>
<a href="#image-66f3fc3e7102358911d959855d007b5c" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29result.png" alt="Mypy Result" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-66f3fc3e7102358911d959855d007b5c">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/29result.png" alt="Mypy Result" class="lightbox-image" loading="lazy">
</a></p>
<p>Once we&rsquo;ve done that, we can remove the <code>reveal_locals()</code> line to make sure the tests will still execute.</p>
<p>Feel free to add the appropriate type hints to your unit tests if you&rsquo;d like. However you <strong>are not required</strong> to include type hints in your unit tests, due to the complexity that we encountered here.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="hamcrest">Hamcrest</h1>

<p><a href="https://www.youtube.com/watch?v=C5HJWKFLm0Q">YouTube Video</a></p>
<p>Let&rsquo;s introduce one more useful tool as part of this example, the Hamcrest assertion library. <a href="https://github.com/hamcrest/PyHamcrest" target="_blank">Hamcrest</a>
 is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let&rsquo;s explore what it takes to add Hamcrest to our project.</p>
<h2 id="installing-hamcrest">Installing Hamcrest</h2>
<p>To make Hamcrest available, we simply have to add an entry for <code>pyhamcrest</code> to our <code>requirements.txt</code> file. Once we update that file, it will look like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>coverage
</span></span><span style="display:flex;"><span>flake8
</span></span><span style="display:flex;"><span>flake8-docstrings
</span></span><span style="display:flex;"><span>flake8-html
</span></span><span style="display:flex;"><span>lxml
</span></span><span style="display:flex;"><span>mypy
</span></span><span style="display:flex;"><span>pdoc3
</span></span><span style="display:flex;"><span>pep8-naming
</span></span><span style="display:flex;"><span>pyhamcrest
</span></span><span style="display:flex;"><span>pytest
</span></span><span style="display:flex;"><span>pytest-html
</span></span><span style="display:flex;"><span>tox</span></span></code></pre></div><p>Then we can install it using this command from within the <code>python</code> folder:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install -r requirements.txt</span></span></code></pre></div><p>That&rsquo;s all there is to it! We now can use Hamcrest in our unit tests</p>
<h2 id="unit-test-with-hamcrest">Unit Test with Hamcrest</h2>
<p>Now, let&rsquo;s build a unit test that uses Hamcrest. So, in the <code>test/hello</code> directory, create a new file called <code>test_HelloWorldHamcrest.py</code> and paste the following code in that file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;Test Class for HelloWorld using Hamcrest.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Author: Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Version: 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> hamcrest.core.assert_that <span style="color:#f92672">import</span> assert_that
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> hamcrest.core.core.is_ <span style="color:#f92672">import</span> is_
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pytest <span style="color:#f92672">import</span> CaptureFixture
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> _pytest.capture <span style="color:#f92672">import</span> CaptureResult
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> Any
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> src.hello.HelloWorld <span style="color:#f92672">import</span> HelloWorld
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TestHelloWorldHamcrest</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Test Class for `src.hello.HelloWorld`.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world</span>(self, capsys: CaptureFixture[Any]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Test Method for `src.hello.HelloWorld.main`.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        This will test the main method with no arguments.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            capsys: PyUnit fixture to capture output.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>])
</span></span><span style="display:flex;"><span>        captured: CaptureResult[Any] <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        assert_that(captured<span style="color:#f92672">.</span>out, is_(<span style="color:#e6db74">&#34;Hello World</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>), <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_hello_world_arg</span>(self, capsys: CaptureFixture[Any]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Test Method for `src.hello.HelloWorld.main`.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        This will test the main method with 1 argument.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        Args:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            capsys: PyUnit fixture to capture output.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        HelloWorld<span style="color:#f92672">.</span>main([<span style="color:#e6db74">&#34;HelloWorld&#34;</span>, <span style="color:#e6db74">&#34;CC 410&#34;</span>])
</span></span><span style="display:flex;"><span>        captured: CaptureResult[Any] <span style="color:#f92672">=</span> capsys<span style="color:#f92672">.</span>readouterr()
</span></span><span style="display:flex;"><span>        assert_that(captured<span style="color:#f92672">.</span>out, is_(<span style="color:#e6db74">&#34;Hello CC 410</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>), <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>)</span></span></code></pre></div><p>The code is nearly identical to the other unit test class, but with two major changes:</p>
<ol>
<li>There are a couple of new import statements at the top to include the <code>assert_that</code> and <code>is_</code> methods from Hamcrest.</li>
<li>Instead of using <code>assert</code> the last line of each unit test uses <code>assert_that</code>. The order of the arguments and the basic idea is pretty much the same. Also, note the use of the <code>is_</code> method, which is simply stating that it should be equal. That method name includes an underscore to differentiate it from the <code>is</code> keyword in Python.</li>
</ol>
<p>Of course, a simple test case such as this doesn&rsquo;t show the power of using Hamcrest instead of the built-in assertions in pyunit. If you want to know more about Hamcrest, feel free to check out the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/" target="_blank">Hamcrest documentation</a>
. We&rsquo;ll explore more about using Hamcrest in our unit tests later in this course.</p>
<h2 id="running-tests">Running Tests</h2>
<p>Now that we&rsquo;ve created a new unit test class, let&rsquo;s go ahead and run it. Thankfully, we don&rsquo;t have to do anything else - pyunit will automatically find the new unit test class and execute it along with all the others. So, in a Linux terminal in the <code>python</code> directory, run the following command to execute those tests, along with the rest of our commands:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>tox <span style="color:#f92672">-</span>r</span></span></code></pre></div><p>When the tests are complete, we can open the report and we should now see that there are 4 tests that executed successfully:</p>
<p>
<a href="#image-cd24ae556591642a7b8e40e363a9339c" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30tests.png" alt="Hamcrest Test Report" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-cd24ae556591642a7b8e40e363a9339c">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30tests.png" alt="Hamcrest Test Report" class="lightbox-image" loading="lazy">
</a></p>
<p>While we&rsquo;re at it, since we added new code and unit tests we should also check to make sure that our code coverage is still good:</p>
<p>
<a href="#image-0833d295412a5efdd7fce3ebea7a1032" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30cov.png" alt="Hamcrest Code Coverage" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0833d295412a5efdd7fce3ebea7a1032">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30cov.png" alt="Hamcrest Code Coverage" class="lightbox-image" loading="lazy">
</a></p>
<p>As long as the tox command executes, we also know that the code passed all of our Flake8 style checks, and updated the documentation using pdoc3 as well.</p>
<p>
<a href="#image-28cfa7c7fdfa91e095838cffa65de7d9" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30flake.png" alt="Hamcrest Flake" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-28cfa7c7fdfa91e095838cffa65de7d9">
<img src="https://ksu-cs-textbooks.github.io/cc410/images/e1/30flake.png" alt="Hamcrest Flake" class="lightbox-image" loading="lazy">
</a></p>
<p>If you run into any errors on any of those commands, now is a good time to get them resolved before moving on! This is the last step before we submit our code!</p>
<p>Click the link below to jump to the end where we submit our code.</p>
<p><a href="https://ksu-cs-textbooks.github.io/cc410/z-examples/01-hello-real-world/05-create-release/">Create GitHub Release</a>
</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/410/generic/textbook/-/commit/cb8d27fac362d7f59a5835bd828ec5da3dc25158">Sep 8, 2021</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/clipboard.min.js?1705426644" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/perfect-scrollbar.min.js?1705426644" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/theme.js?1705426644" defer></script>
  </body>
</html>
