<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Let’s introduce one more useful tool as part of this example, the Hamcrest assertion library. Hamcrest is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let’s explore what it takes to add Hamcrest to our project.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Hamcrest :: CC 410 Textbook">
    <meta name="twitter:description" content="Let’s introduce one more useful tool as part of this example, the Hamcrest assertion library. Hamcrest is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let’s explore what it takes to add Hamcrest to our project.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Hamcrest :: CC 410 Textbook">
    <meta property="og:description" content="Let’s introduce one more useful tool as part of this example, the Hamcrest assertion library. Hamcrest is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let’s explore what it takes to add Hamcrest to our project.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Example Projects">
    <meta property="article:modified_time" content="2024-06-17T14:13:48-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Hamcrest :: CC 410 Textbook">
    <meta itemprop="description" content="Let’s introduce one more useful tool as part of this example, the Hamcrest assertion library. Hamcrest is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let’s explore what it takes to add Hamcrest to our project.">
    <meta itemprop="dateModified" content="2024-06-17T14:13:48-05:00">
    <meta itemprop="wordCount" content="691">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Hamcrest :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/index.html" rel="canonical" type="text/html" title="Hamcrest :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/index.xml" rel="alternate" type="application/rss+xml" title="Hamcrest :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/index.print.html" rel="alternate" type="text/html" title="Hamcrest :: CC 410 Textbook">
    <link href="/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/tele.html" rel="alternate" type="text/html" title="Hamcrest :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1757434985" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1757434985" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1757434985" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/search.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1757434985";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1757434985" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/z-examples\/01-hello-real-world\/04-java\/09-hamcrest\/index.html';
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1757434985" rel="stylesheet">
  </head>
  <body class="mobile-support embed html" data-url="/cc410/z-examples/01-hello-real-world/04-java/09-hamcrest/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable z-examples" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="hamcrest">Hamcrest</h1>


<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/_0aEv1GDRfQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Let&rsquo;s introduce one more useful tool as part of this example, the Hamcrest assertion library. <a href="http://hamcrest.org/JavaHamcrest/" rel="external" target="_blank">Hamcrest</a> is a library of unit test assertions that is available for multiple programming languages, including both Java and Python. Hamcrest makes it easy to write very advanced assertions in a way that is both readable and flexible. In fact, most of the autograders in prior CC courses use Hamcrest as the primary assertion library to make them easy to develop. Let&rsquo;s explore what it takes to add Hamcrest to our project.</p>
<h2 id="installing-hamcrest-in-gradle">Installing Hamcrest in Gradle</h2>
<p>To make Hamcrest available, we simply have to add an entry to our <code>build.gradle</code> file. This process is described in the <a href="http://hamcrest.org/JavaHamcrest/distributables#using-hamcrest-in-a-gradle-project" rel="external" target="_blank">Hamcrest Documentation</a>. In that file, locate the &ldquo;dependencies&rdquo; section:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Use JUnit Jupiter for testing.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    testImplementation <span style="color:#e6db74">&#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// This dependency is used by the application.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    implementation <span style="color:#e6db74">&#39;com.google.guava:guava:31.1-jre&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div>
<p>In the line for <code>testImplementation</code>, we&rsquo;ll add an entry for the latest version of Hamcrest, <code>org.hamcrest:hamcrest:2.2</code>. When we are done, it should look like this:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-groovy" data-lang="groovy"><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Use JUnit Jupiter for testing.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    testImplementation <span style="color:#e6db74">&#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#39;org.hamcrest:hamcrest:2.2&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// This dependency is used by the application.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    implementation <span style="color:#e6db74">&#39;com.google.guava:guava:31.1-jre&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div>
<p>That&rsquo;s all there is to it! We now can use Hamcrest in our unit tests</p>
<h2 id="unit-test-with-hamcrest">Unit Test with Hamcrest</h2>
<p>Now, let&rsquo;s build a unit test that uses Hamcrest. So, in the <code>app/src/test/java/hello</code> directory, create a new file called <code>HelloWorldHamcrestTest.java</code> and paste the following code in that file:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> hello;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> org.hamcrest.MatcherAssert.assertThat; 
</span></span><span style="display:flex;"><span><span style="color:#f92672">import static</span> org.hamcrest.Matchers.is;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.ByteArrayOutputStream;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.PrintStream;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.api.Test;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/** 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * The HelloWorldTestHamcrest class.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * &lt;p&gt;This is the test class for the HelloWorld program using Hamcrest
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @author Russell Feldhausen russfeld@ksu.edu
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @version 0.1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HelloWorldHamcrestTest</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Tests the HelloWorld.main() function with no arguments.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see    HelloWorld#main(String[])
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testHelloWorldMain</span>() {
</span></span><span style="display:flex;"><span>        HelloWorld hw <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HelloWorld();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">final</span> PrintStream systemOut <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">out</span>;
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream testOut <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setOut</span>(<span style="color:#66d9ef">new</span> PrintStream(testOut));
</span></span><span style="display:flex;"><span>        hw.<span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span>{});
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setOut</span>(systemOut);
</span></span><span style="display:flex;"><span>        assertThat(<span style="color:#e6db74">&#34;Unexpected Output&#34;</span>, testOut.<span style="color:#a6e22e">toString</span>(), is(<span style="color:#e6db74">&#34;Hello World\n&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * Tests the HelloWorld.main() function with 1 argument.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     * @see    HelloWorld#main(String[])
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testHelloWorldMainArgument</span>() {
</span></span><span style="display:flex;"><span>        HelloWorld hw <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HelloWorld();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">final</span> PrintStream systemOut <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">out</span>;
</span></span><span style="display:flex;"><span>        ByteArrayOutputStream testOut <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setOut</span>(<span style="color:#66d9ef">new</span> PrintStream(testOut));
</span></span><span style="display:flex;"><span>        hw.<span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span>{<span style="color:#e6db74">&#34;CC 410&#34;</span>});
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setOut</span>(systemOut);
</span></span><span style="display:flex;"><span>        assertThat(<span style="color:#e6db74">&#34;Unexpected Output&#34;</span>, testOut.<span style="color:#a6e22e">toString</span>(), is(<span style="color:#e6db74">&#34;Hello CC 410\n&#34;</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>The code is nearly identical to the other unit test class, but with two major changes:</p>
<ol>
<li>There are a couple of new import statements at the top to include the <code>assertThat</code> and <code>is</code> methods from Hamcrest.</li>
<li>Instead of using <code>assertEquals</code> the last line of each unit test uses <code>assertThat</code>. The order of the arguments is different, but the idea is the same. Also, note the use of the <code>is</code> method, which is simply stating that it should be equal.</li>
</ol>
<p>Of course, a simple test case such as this doesn&rsquo;t show the power of using Hamcrest instead of the built-in assertions in JUnit. If you want to know more about Hamcrest, feel free to check out the <a href="http://hamcrest.org/JavaHamcrest/" rel="external" target="_blank">Hamcrest documentation</a>. We&rsquo;ll explore more about using Hamcrest in our unit tests later in this course.</p>
<h2 id="running-tests">Running Tests</h2>
<p>Now that we&rsquo;ve created a new unit test class, let&rsquo;s go ahead and run it. Thankfully, we don&rsquo;t have to do anything else - Gradle will automatically find the new unit test class and execute it along with all the others. So, in a Linux terminal in the <code>java</code> directory, run the following command to execute those tests:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>gradle test</span></span></code></pre></div>
<p>When the tests are complete, we can open the report and we should now see that there are 4 tests that executed successfully:</p>
<p><a href="#R-image-12dadbc8ca839b93a6d6bdc6a9f7317b" class="lightbox-link"><img alt="Hamcrest Test Report" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/e1/20tests.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-12dadbc8ca839b93a6d6bdc6a9f7317b"><img alt="Hamcrest Test Report" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/e1/20tests.png"></a></p>
<p>While we&rsquo;re at it, since we added new code and unit tests we should also check to make sure that our code coverage is still good:</p>
<p><a href="#R-image-ab7f86d08dc289fa37e8e31700411eae" class="lightbox-link"><img alt="Hamcrest Code Coverage" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/e1/20cov.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ab7f86d08dc289fa37e8e31700411eae"><img alt="Hamcrest Code Coverage" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/e1/20cov.png"></a></p>
<p>And that our code passes all style checks by running:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>gradle check</span></span></code></pre></div>
<p>And finally we can regenerate our documentation by executing:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>gradle javadoc</span></span></code></pre></div>
<p>If you run into any errors on either of those commands, now is a good time to get them resolved before moving on! This is the last step before we submit our code!</p>
<p>Click the link below to jump to the end where we submit our code.</p>
<p><a href="/cc410/z-examples/01-hello-real-world/05-create-release/index.html">Create GitHub Release</a></p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1757434985" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1757434985" defer></script>
    <script src="/cc410/js/theme.min.js?1757434985" defer></script>
  <script src="/cc410/js/embed-iframe.min.js?1757434985" defer></script>
  </body>
</html>
