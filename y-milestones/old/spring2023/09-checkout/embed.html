<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=robots content="noindex, nofollow, noarchive, noimageindex"><meta name=description content="This page lists the milestone requirements for Milestone 9 of the CC 410 Restaurant Project. Read the requirements carefully and discuss any questions with the instructors or TAs.
Purpose The CC 410 Restaurant Project project for this semester is centered around building a point of sale (POS) system for a fictional restaurant named Game Grub, offering food of all kinds to celebrate our love of games of all kinds.
The ninth milestone involves finalizing the GUI for creating orders and combos, and handling the steps to check out and pay for an order, including printing a receipt."><meta name=author content="Russell Feldhausen"><meta name=twitter:card content="summary"><meta name=twitter:title content="Checkout :: CC 410 Textbook"><meta name=twitter:description content="This page lists the milestone requirements for Milestone 9 of the CC 410 Restaurant Project. Read the requirements carefully and discuss any questions with the instructors or TAs.
Purpose The CC 410 Restaurant Project project for this semester is centered around building a point of sale (POS) system for a fictional restaurant named Game Grub, offering food of all kinds to celebrate our love of games of all kinds.
The ninth milestone involves finalizing the GUI for creating orders and combos, and handling the steps to check out and pay for an order, including printing a receipt."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/y-milestones/old/spring2023/09-checkout/embed.html"><meta property="og:site_name" content="CC 410 Textbook"><meta property="og:title" content="Checkout :: CC 410 Textbook"><meta property="og:description" content="This page lists the milestone requirements for Milestone 9 of the CC 410 Restaurant Project. Read the requirements carefully and discuss any questions with the instructors or TAs.
Purpose The CC 410 Restaurant Project project for this semester is centered around building a point of sale (POS) system for a fictional restaurant named Game Grub, offering food of all kinds to celebrate our love of games of all kinds.
The ninth milestone involves finalizing the GUI for creating orders and combos, and handling the steps to check out and pay for an order, including printing a receipt."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Project Milestones"><meta property="article:modified_time" content="2023-08-16T11:31:12-05:00"><meta itemprop=name content="Checkout :: CC 410 Textbook"><meta itemprop=description content="This page lists the milestone requirements for Milestone 9 of the CC 410 Restaurant Project. Read the requirements carefully and discuss any questions with the instructors or TAs.
Purpose The CC 410 Restaurant Project project for this semester is centered around building a point of sale (POS) system for a fictional restaurant named Game Grub, offering food of all kinds to celebrate our love of games of all kinds.
The ninth milestone involves finalizing the GUI for creating orders and combos, and handling the steps to check out and pay for an order, including printing a receipt."><meta itemprop=dateModified content="2023-08-16T11:31:12-05:00"><meta itemprop=wordCount content="2562"><title>Checkout :: CC 410 Textbook</title>
<link href=/cc410/images/favicon.ico?1719507172 rel=icon type=image/x-icon sizes=any><link href=/cc410/css/fontawesome-all.min.css?1719507266 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cc410/css/fontawesome-all.min.css?1719507266 rel=stylesheet></noscript><link href=/cc410/css/nucleus.css?1719507266 rel=stylesheet><link href=/cc410/css/auto-complete.css?1719507266 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cc410/css/auto-complete.css?1719507266 rel=stylesheet></noscript><link href=/cc410/css/perfect-scrollbar.min.css?1719507266 rel=stylesheet><link href=/cc410/css/fonts.css?1719507266 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cc410/css/fonts.css?1719507266 rel=stylesheet></noscript><link href=/cc410/css/theme.css?1719507266 rel=stylesheet><link href=/cc410/css/theme-light-theme.css?1719507266 rel=stylesheet id=R-variant-style><link href=/cc410/css/chroma-relearn-light.css?1719507266 rel=stylesheet id=R-variant-chroma-style><link href=/cc410/css/variant.css?1719507266 rel=stylesheet><link href=/cc410/css/print.css?1719507266 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cc410",window.index_js_url="/cc410/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cc410/css/custom.css?1719507266 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cc410/y-milestones/old/spring2023/09-checkout/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><p>This page lists the milestone requirements for <strong>Milestone 9</strong> of the <strong>CC 410 Restaurant Project</strong>. Read the requirements carefully and discuss any questions with the instructors or TAs.</p><h2 id=purpose>Purpose</h2><p>The <strong>CC 410 Restaurant Project</strong> project for this semester is centered around building a point of sale (POS) system for a fictional restaurant named <em>Game Grub</em>, offering food of all kinds to celebrate our love of games of all kinds.</p><p>The ninth milestone involves finalizing the GUI for creating orders and combos, and handling the steps to check out and pay for an order, including printing a receipt. The purpose is to continue to learn how to use and modify an existing GUI and interface with an external library.</p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>Fewer hints will be given as to the overall structure of your implementation for this milestone. Therefore, you will have to make some decisions about how you feel this milestone should be best achieved and the overall structure of your code!</p><p>When in doubt, feel free to contact the course instructor to discuss possible ideas. You may also choose to write small &ldquo;demo&rdquo; implementations either in this project or one of the related example projects before committing to a particular solution.</p></div></div><h2 id=general-requirements>General Requirements</h2><div class=expand><input type=checkbox id=R-expand-77a1dea1e403d71b7537fc114006fdf8 aria-controls=R-expandcontent-77a1dea1e403d71b7537fc114006fdf8>
<label class=expand-label for=R-expand-77a1dea1e403d71b7537fc114006fdf8><i class="fa-fw fas fa-chevron-down"></i>
<i class="fa-fw fas fa-chevron-right"></i>
All projects must follow the professional coding standards listed here (click to expand):</label><div id=R-expandcontent-77a1dea1e403d71b7537fc114006fdf8 class=expand-content><ul><li><strong>All code must be object-oriented.</strong><ul><li>All executable code must be within a class<ul><li>Python package files such as <code>__init__.py</code> and <code>__main__.py</code> are exempt.</li></ul></li><li>Classes must be organized into packages based on common usage.</li></ul></li><li><strong>All projects must include automation for testing, style checking, and documentation generation.</strong><ul><li>Java: Use Gradle with the <code>application</code>, <code>jacoco</code>, and <code>checkstyle</code> plugins.</li><li>Python: Use tox configured to use Python 3.10 and a requirements file to install libraries.</li></ul></li><li><strong>All code must properly compile and be executable.</strong><ul><li>Java: It must compile and execute using Gradle.</li><li>Python: It must execute using Python 3.10. Where specified, type hints should be included in the code, and all code should pass a strict Mypy type check.</li></ul></li><li><strong>All code submitted must be free of style errors.</strong> We will be using the <a href=https://google.github.io/styleguide/ rel=external target=_blank>Google Style Guide</a> for each language.<ul><li>Java: Use Checkstyle 10.6.0+ and the <a href=https://raw.githubusercontent.com/checkstyle/checkstyle/checkstyle-10.6.0/src/main/resources/google_checks.xml rel=external target=_blank>Google Style Configuration</a>.<ul><li>You may modify the configuration to allow 4 space indentations instead of 2 space indentations.</li></ul></li><li>Python: Use Flake8 with the <code>flake8-docstrings</code> and <code>pep8-naming</code> plugins. Code should conform to PEP 8 style with Google style docstrings.</li></ul></li><li><strong>Where specified, code should contain appropriate unit tests that achieve the specified level of code coverage.</strong><ul><li>Java: Use JUnit 5. You may choose to use Hamcrest for assertions.</li><li>Python: Use pytest. You may choose to use Hamcrest for assertions.</li></ul></li><li><strong>Where specified, code should contain appropriate documentation comments following the language&rsquo;s style guide.</strong><ul><li>In any class that should be documented, <strong>every method in that class should have complete documentation comments.</strong></li><li>Java: Use javadoc to generate documentation.</li><li>Python: Use pdoc3 to generate documentation.</li></ul></li><li>Submissions to Canvas should be tagged GitHub releases that are numbered according to <a href=https://semver.org/ rel=external target=_blank>Semantic Versioning</a>.</li></ul></div></div><h2 id=assignment-requirements>Assignment Requirements</h2><p>Implement the following features into your existing project.</p><h4 id=checkout>Checkout</h4><p>Implement the functionality for a user to checkout and complete an order. This process will make use of an external library to handle credit cards, cash transactions, and printing a receipt. First, you&rsquo;ll need to install the <code>register</code> library into your application:</p><ul><li><strong>Java</strong><ul><li>Download and install the latest JAR file release from <a href=https://github.com/K-State-Computational-Core/restaurantregister-java/releases rel=external target=_blank>GitHub</a>.</li><li>View the <a href=https://k-state-computational-core.github.io/restaurantregister-java/ rel=external target=_blank>Javadoc</a> for specifics of how to use it.</li><li>Review the <a href=https://github.com/K-State-Computational-Core/restaurantregister-java/tree/main/app/src/main/java/edu/ksu/cs/cc410/register rel=external target=_blank>Source Code</a> if desired.</li><li>All library classes are in the <code>edu.ksu.cs.cc410.register</code> package.</li><li>Post any questions or bugs regarding the library to the <a href=https://github.com/K-State-Computational-Core/restaurantregister-java/issues rel=external target=_blank>GitHub Issues</a> page.</li><li>Pull requests for bug fixes are welcome! However, in general we won&rsquo;t greatly change or enhance the functionality of the library overall.</li></ul></li><li><strong>Python</strong><ul><li>Download and install the latest wheel file release from <a href=https://github.com/K-State-Computational-Core/restaurantregister-python/releases rel=external target=_blank>GitHub</a>.</li><li>View the <a href=https://k-state-computational-core.github.io/restaurantregister-python/ rel=external target=_blank>Documentation</a> for specifics of how to use it.</li><li>Review the <a href=https://github.com/K-State-Computational-Core/restaurantregister-python/tree/main/cc410/register rel=external target=_blank>Source Code</a> if desired.</li><li>All library classes are in the <code>cc410.register</code> package.</li><li>Post any questions or bugs regarding the library to the <a href=https://github.com/K-State-Computational-Core/restaurantregister-python/issues rel=external target=_blank>GitHub Issues</a> page.</li><li>Pull requests for bug fixes are welcome! However, in general we won&rsquo;t greatly change or enhance the functionality of the library overall.</li></ul></li></ul><p>When the user clicks the &ldquo;Checkout&rdquo; button in the GUI, they should be presented with the following options:</p><ul><li>Pay by Credit/Debit Card</li><li>Pay by Cash</li><li>Cancel</li></ul><p>Clicking &ldquo;Cancel&rdquo; will return to the main GUI screen without changing the existing order.</p><p>Otherwise, see the descriptions below for the process of paying by credit/debit card or cash.</p><p>You may wish to use modal dialogs in various places in this milestone to present responses or error message to the user. See <a href=https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html rel=external target=_blank>How to Make Dialogs</a> for Java or <a href=https://tkdocs.com/tutorial/windows.html#dialogs rel=external target=_blank>Dialog Windows</a> for Python.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Read this entire section before attempting to build this part of the application. You may wish to develop the wrapper classes and unit tests discussed in the unit testing section first, then use those wrappers in your eventual GUI panels. The design of the wrappers may inform the overall interaction design in the GUI.</p></div></div><h5 id=pay-by-credit-card>Pay by Credit Card</h5><p>When a user chooses to pay by credit card, the application should call the appropriate method of the <code>CardReader</code> class in the external library. That method will return one of the <code>CardTransactionResult</code> enumeration values, which describes the result. If the response is <code>APPROVED</code>, the transaction is completed and the application may proceed to print the receipt (see the description below). Otherwise, the appropriate error message from the <code>CardTransactionResult</code> should be displayed to the user, and they may choose to try again.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>The <code>CardReader</code> class will return <code>APPROVED</code> roughly 40% of the time, and each other result will be returned around 10% of the time each.</p></div></div><h5 id=pay-by-cash>Pay by Cash</h5><p>When the user chooses to pay by cash, the application should show a window where the user can enter the cash denominations and amounts provided from the customer. One possible GUI sketch for this window is included at the bottom of this page.</p><p>The GUI should include a &ldquo;Cancel&rdquo; button that can be used at any time to cancel the cash transaction and return back to the main GUI screen without changing the existing order.</p><p>The <code>CashDrawer</code> class in the external library is used to keep track of the available amount of each denomination in the drawer and to balance transactions. Each transaction begins by opening the drawer and providing the expected amount to be deposited. Then, while the drawer is open, cash denominations are added to the drawer from the customer and any change given back is deducted from the drawer. When the drawer is closed, the amount it contains must equal the previous amount plus the expected transaction amount. In addition, the total value in the drawer and the count of each denomination in the drawer may only be accessed when the drawer is closed.</p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>Your project must only instantiate a <code>CashDrawer</code> instance once, when the project is first launched. It should use that same <code>CashDrawer</code> instance for all transactions, updating it as needed, until the application is closed.</p></div></div><p>Cash denominations are listed in the <code>CashDenomination</code> enum, which includes both the name and value of each denomination.</p><p>If the customer has not provided enough money to pay for the transaction, your application should not allow it to be finalized. Your application should also handle making appropriate change from the cash drawer when finalizing a transaction. This includes determining the count of each denomination to be given back to the customer. Some tips for completing this portion of the project:</p><ul><li>The contents of the drawer cannot be queried while the drawer is open, nor can the contents of the drawer be updated while it is closed. The external library will throw exceptions if this rule is violated.</li><li>To make change, find the amount to be given back and work from the highest denomination to the lowest. Make use of division and modulo arithmetic. (This is exactly backwards to how you were most likely taught to do this in your head!) If you use any online resources to create this algorithm, make sure you cite them in the comments of your code.</li><li>The cash drawer contains limited amounts of each denomination. So, when making change, you may find that you don&rsquo;t have enough of a particular denomination. If that is the case, deduct one from the next largest available denomination and use that to refill this denomination. We will assume that you are able to freely convert one denomination to another using an external source. <strong>This is more difficult than it may seem. Make sure the rest of the process works before worrying about this edge case - it is not worth very many points!</strong></li></ul><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>Thankfully, the monetary system in the United States will always guarantee that change will be made with the fewest possible coins by following the naive algorithm described above. So, that greatly simplifies this process.</p><p>In addition, since the cash drawer will only accept deposits, we never have to worry about running out of cash. Simply make sure that the cash received from the customer is added to the drawer before removing the change. If needed, you can exchange the denominations provided from the customer to other denominations as part of your algorithm to make change.</p><p>Finally, consider multiplying all values by 100 to work with whole integers instead of floating-point values. There is a great risk of <a href=https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems rel=external target=_blank>floating-point error</a> when working with cash values in this way.</p></div></div><p>When the transaction is completed successfully, the application may proceed to print the receipt (see the description below).</p><h5 id=printing-a-receipt>Printing a Receipt</h5><p>Once a transaction has been completed successfully, the system should print a receipt containing the details of the transaction. The <code>ReceiptPrinter</code> class in the external library is used to print a receipt.</p><p>The receipt should include the following information:</p><ul><li>The order number</li><li>The date and time of the transaction</li><li>A list of all items in the order, including price and special instructions.</li><li>The subtotal</li><li>The tax amount</li><li>The total amount</li><li>The payment method (credit/debit or cash)</li><li>If paid by cash, the amount received and the change given.</li></ul><p>The receipt can only be printed one line at a time using the appropriate method in the <code>ReceiptPrinter</code> class, and each line is limited to <strong>no more than 40 characters</strong>. You are encouraged to make use of simple formatting, ASCII art, and short indentations to make the receipt more readable. There are methods provided in the <code>ReceiptPrinter</code> class to start and end a receipt.</p><p>The <code>ReceiptPrinter</code> class will print the receipt to a file named <code>receipt.txt</code> in the project folder. By default, the <code>ReceiptPrinter</code> will append new receipts to the end of that file. You may wish to empty this file regularly as part of testing, and should not commit it to GitHub.</p><h5 id=documentation-comments>Documentation Comments</h5><p>All new and updated classes in this milestone should contain full documentation comments. <strong>All methods must be fully documented!</strong></p><h5 id=unit-tests>Unit Tests</h5><p>Your application should include <strong>unit tests</strong> to test any functionality provided by your application. Specifically, you should test the following:</p><ul><li>When a cash transaction is finalized, the customer must have provided an amount of money equal to or greater than the transaction amount.</li><li>When a cash transaction is completed, your application makes the correct change - both the amount and the denominations returned.</li><li>When making change, the application will correctly handle the situation when not enough of a denomination is present.</li><li>When a receipt is printed, it includes all of the information in an order.</li></ul><p>You <strong>do not</strong> have to verify that the external library functions correctly. It already contains a complete set of unit tests. You are encouraged to review the source code of the unit tests contained in the external library for examples of how to test your own code!</p><p>Instead, you are <strong>highly</strong> encouraged to write wrapper classes around the classes in the external library using the <strong>adapter pattern</strong> and test those wrapper classes that contain your logic.</p><p>For example:</p><ul><li>Write a method in your <code>CashDrawer</code> wrapper that accepts a transaction amount and a description of the cash denominations provided by the user, and then computes the correct change and returns a description of the denominations and amounts to be given as change. If the user did not provide enough cash, it could throw an exception or some other error.</li><li>Write a method in your <code>CashDrawer</code> wrapper that accepts a description of the cash provided by the user, and a description of the change to be given. The method should compute the updated contents of the drawer using its existing contents, making substitutions when needed to handle situations where not enough of a denomination are present, and then return a description of those changes.<ul><li>Your wrapper would also include a separate method to actually send those changes to the cash drawer, but that method <strong>does not</strong> need to be unit tested for correctness and shouldn&rsquo;t be directly called by the method above. That would technically be an <em>integration test</em>, which we aren&rsquo;t worrying about for now.</li></ul></li><li>Write a method in your <code>ReceiptPrinter</code> wrapper that accepts an <code>Order</code> object and returns a list of strings that represent the receipt to be printed. Verify that the contents of that list fully reflect the <code>Order</code> given to it.<ul><li>Your wrapper would also include a separate method to actually print a list of strings to a receipt, but that method <strong>does not</strong> need to be unit tested for correctness and shouldn&rsquo;t be directly called by the method above.</li></ul></li></ul><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Review the source code of the <code>CashDrawer</code> class in the external library to see how it uses a hash map or dictionary to keep track of its contents. This is a good model for describing &ldquo;cash&rdquo; amounts made up of several denominations and amounts in these methods.</p></div></div><p>If done correctly, you <strong>should not</strong> have to create a test double for any of the classes in the external library. While not an unbreakable rule, it is generally considered a bad practice to <a href=https://github.com/mockito/mockito/wiki/How-to-write-good-tests#dont-mock-a-type-you-dont-own rel=external target=_blank>mock a type you don&rsquo;t own</a>, as that can lead to issues if the external library&rsquo;s API changes in the future. The mock version of the library will continue to function as before, meaning tests will pass that would otherwise fail when executed on the real library.</p><h2 id=time-requirements>Time Requirements</h2><p>Completing this project is estimated to require <strong>5 - 10</strong> hours.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p><em>A rough estimate for this milestone would be around 1500-2000 lines of new or updated code. -Russ</em></p></div></div><h2 id=grading-rubric>Grading Rubric</h2><p>This assignment will be graded based on the rubric below:</p><ul><li>Credit Card - 10%</li><li>Cash Interface - 10%</li><li>Makes Change - 30%</li><li>Prints Receipt - 30%</li><li>Unit Tests - 20%</li></ul><p>The following deductions apply:</p><ul><li>Any portion of the project which will not compile (Java), pass a strict type check (Python), or execute properly will be given a grade of 0.</li></ul><p>This is not an exhaustive list of possible deductions. The instructors will strive to provide reasonable and fair grading, but we can&rsquo;t predict all possible defects. It is up to the student to ensure that the project is complete and correct before submission.</p><h2 id=submission>Submission</h2><p>Submit this assignment by creating a release on GitHub and uploading the release URL to the assignment on Canvas. You <strong>should not</strong> submit this Codio project or mark it as complete in Codio, in case you need to come back to it and make changes later.</p><hr><hr><hr><h4 id=sample-cash-transaction-gui>Sample Cash Transaction GUI</h4><p>You may wish to review the <a href=https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html rel=external target=_blank>Spinner</a> (Java) or <a href=https://tkdocs.com/tutorial/morewidgets.html#spinbox rel=external target=_blank>Spinbox</a> (Python) GUI elements.</p><p><a href=#R-image-7a3a0d78b2a9b318b2495f194f2f592b class=lightbox-link><img alt="Cash Window" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cc410/images/m7/410_m7_gui_cash.svg style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7a3a0d78b2a9b318b2495f194f2f592b><img alt="Cash Window" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cc410/images/m7/410_m7_gui_cash.svg></a></p><footer class=footline></footer></article></div></main></div><script src=/cc410/js/clipboard.min.js?1719507266 defer></script><script src=/cc410/js/perfect-scrollbar.min.js?1719507266 defer></script><script src=/cc410/js/theme.js?1719507266 defer></script><script src=/cc410/js/embed-iframe.js?1719507266 defer></script></body></html>