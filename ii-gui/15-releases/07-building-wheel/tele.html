




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 410 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Building Python Wheel :: CC 410 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc410/ii-gui/15-releases/07-building-wheel/index.html" rel="canonical" type="text/html" title="Building Python Wheel :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/ii-gui/15-releases/07-building-wheel/index.xml" rel="alternate" type="application/rss+xml" title="Building Python Wheel :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/ii-gui/15-releases/07-building-wheel/index.print.html" rel="alternate" type="text/html" title="Building Python Wheel :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/ii-gui/15-releases/07-building-wheel/embed.html" rel="alternate" type="text/html" title="Building Python Wheel :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/images/favicon.ico?1695766418" rel="icon" type="image/x-icon" sizes="any">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1695766523" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1695766523" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/nucleus.css?1695766523" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1695766523" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1695766523" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/perfect-scrollbar.min.css?1695766523" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1695766523" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1695766523" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme.css?1695766523" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme-auto.css?1695766523" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/variant.css?1695766523" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/print.css?1695766523" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/ie.css?1695766523" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/url.js?1695766523"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/variant.js?1695766523"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc410/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc410/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc410/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/custom.css?1695766523" rel="stylesheet">

  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc410/ii-gui/15-releases/07-building-wheel/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="building-python-wheel">Building Python Wheel</h1>

<p>Building a Python wheel file is super simple using the <code>setuptools</code> library - it handles almost all of the heavy lifting for us. The basic steps are outlined in the <a href="https://packaging.python.org/tutorials/packaging-projects/" target="_blank">Packaging Python Projects</a>
 guide in the Python documentation. Below, we&rsquo;ll go through the steps we&rsquo;ll need to follow for most of the applications we&rsquo;ve created in this course.</p>
<h2 id="create-pyprojecttoml">Create Pyproject.toml</h2>
<p>First, we&rsquo;ll need to create a file named <code>pyproject.toml</code> in the root our project directory. This file is responsible for defining the exact tools needed to build this package. We&rsquo;re just going to use the default file provided in the documentation for now:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">build-system</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">requires</span> = [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;setuptools&gt;=42&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;wheel&#34;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">build-backend</span> = <span style="color:#e6db74">&#34;setuptools.build_meta&#34;</span></span></span></code></pre></div><h2 id="create-readmemd">Create README.md</h2>
<p>If we haven&rsquo;t already done this, now is a great time to create a <code>README.md</code> file in the root directory of our project and include some basic information about our project. Once it is published, we can come back to this file and update it with links to the documentation hosted in GitHub pages.</p>
<h2 id="create-a-license-file">Create a LICENSE file</h2>
<p>In addition, we may wish to add a license to our project at this step, before packaging it. We can use the <a href="https://choosealicense.com/" target="_blank">choosealicense.com</a>
 website to help find a license. We can also easily add a license to an existing GitHub repository following the <a href="https://docs.github.com/en/github/building-a-strong-community/adding-a-license-to-a-repository" target="_blank">Adding a license to a repository</a>
 guide from GitHub, then using the <code>git pull</code> command to pull that license file into v0.1.0r local copy of the project.</p>
<p>In either case, make sure we have a file in the root of our project named <code>LICENSE</code> before continuing.</p>
<h2 id="add-typing-files">Add Typing Files</h2>
<p>If our code contains proper typing information that can be used by Mypy, we need to mark that by placing a blank file named <code>py.typed</code> in each package that contains type annotations. So, wherever we see an <code>__init__.py</code> file, we should also add a <code>py.typed</code> file to the same directory.</p>
<h2 id="configure-metadata">Configure Metadata</h2>
<p>Next, we need to set some metadata for our project. There are a couple of ways to do this, but the simplest is to create a static <code>setup.cfg</code> file that contains all of the information for our project. Once again, we&rsquo;ll place this file in the root of our project directory.</p>
<p>The <a href="https://packaging.python.org/tutorials/packaging-projects/" target="_blank">Packaging Python Projects</a>
 tutorial provides a sample file that we can easily adapt for our needs. We&rsquo;ve made a few changes below to that file to match our project:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[<span style="color:#a6e22e">metadata</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">name</span> = <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">ourprojectname</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">version</span> = <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#ae81ff">0.1</span>.<span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">author</span> = <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">Your</span> <span style="color:#a6e22e">Name</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">author_email</span> = <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">your_email</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">description</span> = <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">A</span> <span style="color:#a6e22e">description</span> <span style="color:#a6e22e">of</span> <span style="color:#a6e22e">our</span> <span style="color:#a6e22e">project</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">long_description</span> = <span style="color:#a6e22e">file</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#a6e22e">README</span>.<span style="color:#a6e22e">md</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">long_description_content_type</span> = <span style="color:#a6e22e">text</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">markdown</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">url</span> = <span style="color:#a6e22e">https</span><span style="color:#960050;background-color:#1e0010">://</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/&lt;</span><span style="color:#a6e22e">username</span><span style="color:#960050;background-color:#1e0010">&gt;/&lt;</span><span style="color:#a6e22e">repo</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Bug</span> <span style="color:#a6e22e">Tracker</span> = <span style="color:#a6e22e">https</span><span style="color:#960050;background-color:#1e0010">://</span><span style="color:#a6e22e">github</span>.<span style="color:#a6e22e">com</span><span style="color:#960050;background-color:#1e0010">/&lt;</span><span style="color:#a6e22e">username</span><span style="color:#960050;background-color:#1e0010">&gt;/&lt;</span><span style="color:#a6e22e">repo</span><span style="color:#960050;background-color:#1e0010">&gt;/</span><span style="color:#a6e22e">issues</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">classifiers</span> =
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Programming</span> <span style="color:#a6e22e">Language</span> <span style="color:#960050;background-color:#1e0010">::</span> <span style="color:#a6e22e">Python</span> <span style="color:#960050;background-color:#1e0010">::</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">License</span> <span style="color:#960050;background-color:#1e0010">::</span> <span style="color:#a6e22e">OSI</span> <span style="color:#a6e22e">Approved</span> <span style="color:#960050;background-color:#1e0010">::</span> <span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">MIT</span> <span style="color:#a6e22e">License</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Operating</span> <span style="color:#a6e22e">System</span> <span style="color:#960050;background-color:#1e0010">::</span> <span style="color:#a6e22e">OS</span> <span style="color:#a6e22e">Independent</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">options</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">packages</span> = <span style="color:#a6e22e">find</span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">python_requires</span> = <span style="color:#960050;background-color:#1e0010">&gt;</span>=<span style="color:#ae81ff">3.9</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">include-package-data</span> = <span style="color:#a6e22e">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">package_data</span>]
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">ourprojectname</span><span style="color:#960050;background-color:#1e0010">&gt;</span> = <span style="color:#a6e22e">py</span>.<span style="color:#a6e22e">typed</span></span></span></code></pre></div><p>The portions marked with angle brackets <code>&lt;&gt;</code> should be updated to match our project information. The tutorial linked above provides a great explanation of how to configure these items in our project. We can also refer to one of the <a href="https://github.com/K-State-Computational-Core/restaurantregister-python/blob/main/setup.cfg" target="_blank">public repositories</a>
 for this course for another example.</p>
<p>Finally, we&rsquo;ve included a couple of items at the bottom that aren&rsquo;t included in the tutorial to allow our package to be compliant with <a href="https://www.python.org/dev/peps/pep-0561/" target="_blank">PEP 561</a>
 so that Mypy can make use of the typing information included in our package. This will include the <code>py.typed</code> files we added earlier to our eventual package. See the <a href="https://mypy.readthedocs.io/en/stable/installed_packages.html#making-pep-561-compatible-packages" target="_blank">Mypy Documentation</a>
 for details.</p>
<h2 id="adding-test-files">Adding Test Files</h2>
<p>One thing we may want to do is include our test files in the output. To do that, we must simply add a <code>__init__.py</code> file to the <code>test</code> directory and any subdirectories of that folder in our project. The Python build process will automatically find those and include them in our package!</p>
<h2 id="installing-the-build-library">Installing the Build Library</h2>
<p>When we are ready to create our package, we must first make sure we have the latest version of the <code>build</code> library on our system. So, we can use the <code>pip3</code> command to install it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pip3 install --upgrade build</span></span></code></pre></div><h2 id="create-the-package">Create the Package</h2>
<p>Once we are ready, we can run the following command from within our project directory to actually create our packages:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 -m build</span></span></code></pre></div><p>If all goes well, we should see it create a new folder named <code>dist</code> that contains both a <code>.whl</code> file as well as a <code>.tar.gz</code> file that include our project. That command will also produce a long list of output that contains all of the files that are included in our package. We should review that output closely and make sure it includes all of the correct files.</p>
<h2 id="updating-tox-configuration">Updating Tox Configuration</h2>
<p>If we want to automate this process, there are a few things we can do in our <code>tox.ini</code> file to make this process go a bit smoother:</p>
<ul>
<li>We can add the <code>build</code> package to our <code>requirements.txt</code> file so it will be available when we run <code>tox</code>.</li>
<li>Right now, our program uses the top level package name <code>src</code> based on the <code>src</code> directory in our project. If we want, we can change that to any other name we wish. If we do, we&rsquo;ll need to update it throughout our source code and also in a few places in our <code>tox.ini</code> file. **You may want to do this before publishing a package so it doesn&rsquo;t use the name <code>src</code> as the base of the package path.</li>
<li>When publishing a package, we probably don&rsquo;t want to include the documentation from our tests in our published documentation. So, instead of a period <code>.</code> at the end of our <code>pdoc</code> command, we can replace it with <code>src</code> or the new name of our top-level package.</li>
<li>We can automate moving the documentation generated by <code>pdoc</code> to the <code>docs</code> folder by adding a few commands to our <code>tox.ini</code> file to copy the generated documentation. To do this, we need to add an <code>allowlist_externals</code> entry that lists the commands we&rsquo;d like to use.</li>
<li>Finally, we can add the <code>python3 -m build</code> command at the very end of our commands in <code>tox.ini</code> to automatically update our package each time we successfully run <code>tox</code>.</li>
<li>Once we are ready to publish, it is a good practice to remove the <code>ignore_errors</code> line from our <code>tox.ini</code> file. In that way, we&rsquo;ll only create our package if all of the commands succeed.</li>
</ul>
<p>Below is an updated <code>tox.ini</code> file showing these changes.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[tox]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">envlist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">py39</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">skipsdist</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[testenv]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">deps</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">-rrequirements.txt</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">allowlist_externals</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">rm
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                      cp</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">commands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">python3 -m mypy -p src --html-report reports/mypy
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage run --source src -m pytest --html=reports/pytest/index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m coverage html -d reports/coverage
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m flake8 --docstring-convention google --format=html --htmldir=reports/flake
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           rm -rvf reports/doc
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m pdoc --html --force --output-dir reports/doc src
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           rm -rvf docs
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           cp -rv reports/doc/src docs/
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           python3 -m build</span></span></span></code></pre></div><p>With everything in place, we can run our <code>tox</code> command to build our project. If we recently changed our <code>requirements.txt</code> file, we&rsquo;ll need to run <code>tox -r</code> at least once to install the new requirements. If everything works correctly, it should place our built packages in the <code>dist</code> folder and copy our documentation to the <code>docs</code> folder for us.</p>
<h2 id="update-git-ignore-file">Update Git Ignore file</h2>
<p>Finally, before we commit these changes, we may wish to update our git configuration to ignore a few new files or folders created by the build process. Here&rsquo;s the new <code>.gitignore</code> file that we can use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>__pycache__/
</span></span><span style="display:flex;"><span>.tox
</span></span><span style="display:flex;"><span>reports/
</span></span><span style="display:flex;"><span>.coverage
</span></span><span style="display:flex;"><span>build
</span></span><span style="display:flex;"><span>*.egg-info/</span></span></code></pre></div><p>It now ignores the <code>build</code> and any <code>.egg-info</code> folders.</p>
<p>If everything looks good, we can save and commit our changes to the git repository for this project.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Carefully Check Commit</div>
  <div class="box-content">

<p>In this commit, we&rsquo;ll want to carefully check the output of the <code>git status</code> command to make sure we are only committing the files we want to the repository. Ideally, the only changes should be to the <code>tox.ini</code> and <code>requirements.txt</code> files, the new <code>pyproject.toml</code> and <code>setup.cfg</code> files, as well as all the contents of the new <code>dist</code> and <code>docs</code> directories.</p>
</div>
</div>
<h2 id="making-a-new-version">Making a New Version</h2>
<p>Now, with all of this automation in place, all we have to do to create a new version of our package is update the version number in our <code>setup.cfg</code> file, and then run <code>tox</code>. It will automatically create a new set of package files using the new version, and update our documentation to match.</p>
<p>On the following pages, we&rsquo;ll discuss the steps for creating a release on GitHub that includes these package files for download, and also how to publish these to a repository!</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    </div>
    
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/clipboard.min.js?1695766527" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/perfect-scrollbar.min.js?1695766527" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/theme.js?1695766527" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/tele-scroll.js?1695766527 defer"></script>
    
  </body>
</html>
