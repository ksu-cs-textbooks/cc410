<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Most of our unit tests have been following a particular pattern, commonly called arrange, act, assert. Let’s quickly review that pattern, as it is very important to understand how it integrates with the use of test doubles later in this chapter.
A simple unit test following the arrange, act, assert pattern consists of three major steps:
Arrange - first, the objects to be tested and any supporting data is created within the test. Act - secondly, the operation being tested is carried out, usually by calling one or more methods. Assert - once the operation is complete, we use assertions to verify that the outcome of the operation is correct. In some instances, we may also include a fourth step, Teardown, which is used to reset the state back to its initial state, if needed. There are times when our arrange step makes some changes to the environment that must be reversed before we can continue.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Arrange, Act, Assert :: CC 410 Textbook">
    <meta name="twitter:description" content="Most of our unit tests have been following a particular pattern, commonly called arrange, act, assert. Let’s quickly review that pattern, as it is very important to understand how it integrates with the use of test doubles later in this chapter.
A simple unit test following the arrange, act, assert pattern consists of three major steps:
Arrange - first, the objects to be tested and any supporting data is created within the test. Act - secondly, the operation being tested is carried out, usually by calling one or more methods. Assert - once the operation is complete, we use assertions to verify that the outcome of the operation is correct. In some instances, we may also include a fourth step, Teardown, which is used to reset the state back to its initial state, if needed. There are times when our arrange step makes some changes to the environment that must be reversed before we can continue.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/03-arrange-act-assert/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Arrange, Act, Assert :: CC 410 Textbook">
    <meta property="og:description" content="Most of our unit tests have been following a particular pattern, commonly called arrange, act, assert. Let’s quickly review that pattern, as it is very important to understand how it integrates with the use of test doubles later in this chapter.
A simple unit test following the arrange, act, assert pattern consists of three major steps:
Arrange - first, the objects to be tested and any supporting data is created within the test. Act - secondly, the operation being tested is carried out, usually by calling one or more methods. Assert - once the operation is complete, we use assertions to verify that the outcome of the operation is correct. In some instances, we may also include a fourth step, Teardown, which is used to reset the state back to its initial state, if needed. There are times when our arrange step makes some changes to the environment that must be reversed before we can continue.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="OOP">
    <meta property="article:modified_time" content="2023-08-10T16:05:23-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Arrange, Act, Assert :: CC 410 Textbook">
    <meta itemprop="description" content="Most of our unit tests have been following a particular pattern, commonly called arrange, act, assert. Let’s quickly review that pattern, as it is very important to understand how it integrates with the use of test doubles later in this chapter.
A simple unit test following the arrange, act, assert pattern consists of three major steps:
Arrange - first, the objects to be tested and any supporting data is created within the test. Act - secondly, the operation being tested is carried out, usually by calling one or more methods. Assert - once the operation is complete, we use assertions to verify that the outcome of the operation is correct. In some instances, we may also include a fourth step, Teardown, which is used to reset the state back to its initial state, if needed. There are times when our arrange step makes some changes to the environment that must be reversed before we can continue.">
    <meta itemprop="dateModified" content="2023-08-10T16:05:23-05:00">
    <meta itemprop="wordCount" content="558">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Arrange, Act, Assert :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/03-arrange-act-assert/index.html" rel="canonical" type="text/html" title="Arrange, Act, Assert :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/03-arrange-act-assert/index.xml" rel="alternate" type="application/rss+xml" title="Arrange, Act, Assert :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/03-arrange-act-assert/index.print.html" rel="alternate" type="text/html" title="Arrange, Act, Assert :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/03-arrange-act-assert/embed.html" rel="alternate" type="text/html" title="Arrange, Act, Assert :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1759860913" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1759860913" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1759860913" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1759860913" defer></script>
    <script src="/cc410/js/search.min.js?1759860913" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1759860913";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1759860913" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1759860913" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1759860913" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1759860913" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759860913" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759860913" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1759860913" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1759860913" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1759860913" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/10-test-doubles\/03-arrange-act-assert\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1759860913" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cc410/i-oop/10-test-doubles/03-arrange-act-assert/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="arrange-act-assert">Arrange, Act, Assert</h1>

<p>Most of our unit tests have been following a particular pattern, commonly called <strong>arrange, act, assert.</strong> Let&rsquo;s quickly review that pattern, as it is very important to understand how it integrates with the use of test doubles later in this chapter.</p>
<p>A simple unit test following the arrange, act, assert pattern consists of three major steps:</p>
<ol>
<li><strong>Arrange</strong> - first, the objects to be tested and any supporting data is created within the test.</li>
<li><strong>Act</strong> - secondly, the operation being tested is carried out, usually by calling one or more methods.</li>
<li><strong>Assert</strong> - once the operation is complete, we use assertions to verify that the outcome of the operation is correct.</li>
</ol>
<p>In some instances, we may also include a fourth step, <strong>Teardown</strong>, which is used to reset the state back to its initial state, if needed. There are times when our arrange step makes some changes to the environment that must be reversed before we can continue.</p>
<p>Let&rsquo;s go back to a unit test you may have explored in example 3 and see how it fits the arrange, act, assert pattern.</p>
<div class="tab-panel" data-tab-group="a59d84d6db2abdba8291a3ecce6b88dc">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="java"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('a59d84d6db2abdba8291a3ecce6b88dc','java')"
    >
      <span class="tab-nav-text">Java</span>
    </button>
    <button
      data-tab-item="python"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('a59d84d6db2abdba8291a3ecce6b88dc','python')"
    >
      <span class="tab-nav-text">Python</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="java"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testSevenWrongGuessesShouldLose</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Arrange</span>
</span></span><span style="display:flex;"><span>    GuessingGame game <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> GuessingGame(<span style="color:#e6db74">&#34;secret&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Act</span>
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;a&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;b&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;d&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;f&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;g&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;h&#39;</span>);
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">guess</span>(<span style="color:#e6db74">&#39;i&#39;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Assert</span>
</span></span><span style="display:flex;"><span>    assertTrue(game.<span style="color:#a6e22e">isLost</span>());
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="python"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_seven_wrong_guesses_should_lose</span>(self):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Arrange</span>
</span></span><span style="display:flex;"><span>    game <span style="color:#f92672">=</span> GuessingGame(<span style="color:#e6db74">&#34;secret&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Act</span>
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;b&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;d&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;f&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;g&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;h&#39;</span>)
</span></span><span style="display:flex;"><span>    game<span style="color:#f92672">.</span>guess(<span style="color:#e6db74">&#39;i&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Assert</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">assert</span> game<span style="color:#f92672">.</span>lost</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<p>In both of these tests, we start in the <strong>arrange</strong> portion by instantiating a <code>GuessingGame</code> object, which is the object we will be testing. Then, in the <strong>act</strong> phase, we call several methods in the <code>GuessingGame</code> object - in this case, we are checking that seven incorrect guesses should cause the game to be lost, so we must make seven incorrect guesses. Finally, in the <strong>assert</strong> section, we use a simple assertion to make sure the game has been lost.</p>

<details open class=" box cstyle notices note">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-exclamation-circle"></i> 
    Behavior-Driven Development
  </summary>
  <div class="box-content">
<p>One common alternative to this approach comes from <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" rel="external" target="_blank"><strong>behavior-driven development</strong></a>. In this development process, which is effectively an extension of the <a href="https://en.wikipedia.org/wiki/Test-driven_development" rel="external" target="_blank">test-driven development</a> process we&rsquo;ve learned about, software specifications are written to match the behaviors that a user might expect to see when the application is running. Such a specification typically follows a <a href="https://en.wikipedia.org/wiki/Given-When-Then" rel="external" target="_blank"><strong>given, when, then</strong></a> structure. Here&rsquo;s a short example of a specification from <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" rel="external" target="_blank">Wikipedia</a>.</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tex" data-lang="tex"><span style="display:flex;"><span>Given a 5 by 5 game
</span></span><span style="display:flex;"><span>When I toggle the cell at (3, 2)
</span></span><span style="display:flex;"><span>Then the grid should look like
</span></span><span style="display:flex;"><span>.....
</span></span><span style="display:flex;"><span>.....
</span></span><span style="display:flex;"><span>.....
</span></span><span style="display:flex;"><span>..X..
</span></span><span style="display:flex;"><span>.....</span></span></code></pre></div>
<p>The beauty of such a specification is that it can be easily read by a non-technical user, and allows quick and easy discussion with end users and clients regarding how the software should actually function. Once the specification is developed, we can then write unit tests that will use the specification and verify that the program operates as intended. Here&rsquo;s an example from <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" rel="external" target="_blank">Wikipedia</a> in Java using the <a href="https://jbehave.org/" rel="external" target="_blank">JBehave</a> framework.</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> Game game;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> StringRenderer renderer;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Given</span>(<span style="color:#e6db74">&#34;a $width by $height game&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">theGameIsRunning</span>(<span style="color:#66d9ef">int</span> width, <span style="color:#66d9ef">int</span> height) {
</span></span><span style="display:flex;"><span>    game <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Game(width, height);
</span></span><span style="display:flex;"><span>    renderer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringRenderer();
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">setObserver</span>(renderer);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@When</span>(<span style="color:#e6db74">&#34;I toggle the cell at ($column, $row)&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">iToggleTheCellAt</span>(<span style="color:#66d9ef">int</span> column, <span style="color:#66d9ef">int</span> row) {
</span></span><span style="display:flex;"><span>    game.<span style="color:#a6e22e">toggleCellAt</span>(column, row);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Then</span>(<span style="color:#e6db74">&#34;the grid should look like $grid&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">theGridShouldLookLike</span>(String grid) {
</span></span><span style="display:flex;"><span>    assertThat(renderer.<span style="color:#a6e22e">asString</span>(), equalTo(grid));
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This testing strategy requires a bit more work than the unit testing we&rsquo;ve covered in this course, but it can be very powerful when put into use.</p>
  </div>
</details>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1759860913" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1759860913" defer></script>
    <script src="/cc410/js/theme.min.js?1759860913" defer></script>
      
      
      
    </div> 
  <script src="/cc410/js/tele-scroll.min.js?1759860913" defer></script>
  </body>
</html>
