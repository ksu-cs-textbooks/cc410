<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="YouTube Video Resources Slides Video Script To use test doubles in Java, weâ€™re going to rely on the Mockito library. Mockito is one of the most popular libraries for this task in Java, and it easily integrates with the JUnit 5 framework weâ€™re already using.
To install Mockito, we just have to add a couple of entries to our build.gradle file, as shown here. The mockito-inline library contains the core Mockito classes, and the mockito-junit-jupiter library includes additional functionality that allows Mockito to interface directly with JUnit 5.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Java Test Doubles :: CC 410 Textbook">
    <meta name="twitter:description" content="YouTube Video Resources Slides Video Script To use test doubles in Java, weâ€™re going to rely on the Mockito library. Mockito is one of the most popular libraries for this task in Java, and it easily integrates with the JUnit 5 framework weâ€™re already using.
To install Mockito, we just have to add a couple of entries to our build.gradle file, as shown here. The mockito-inline library contains the core Mockito classes, and the mockito-junit-jupiter library includes additional functionality that allows Mockito to interface directly with JUnit 5.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Java Test Doubles :: CC 410 Textbook">
    <meta property="og:description" content="YouTube Video Resources Slides Video Script To use test doubles in Java, weâ€™re going to rely on the Mockito library. Mockito is one of the most popular libraries for this task in Java, and it easily integrates with the JUnit 5 framework weâ€™re already using.
To install Mockito, we just have to add a couple of entries to our build.gradle file, as shown here. The mockito-inline library contains the core Mockito classes, and the mockito-junit-jupiter library includes additional functionality that allows Mockito to interface directly with JUnit 5.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Java Test Doubles :: CC 410 Textbook">
    <meta itemprop="description" content="YouTube Video Resources Slides Video Script To use test doubles in Java, weâ€™re going to rely on the Mockito library. Mockito is one of the most popular libraries for this task in Java, and it easily integrates with the JUnit 5 framework weâ€™re already using.
To install Mockito, we just have to add a couple of entries to our build.gradle file, as shown here. The mockito-inline library contains the core Mockito classes, and the mockito-junit-jupiter library includes additional functionality that allows Mockito to interface directly with JUnit 5.">
    <meta itemprop="datePublished" content="2020-02-28T00:53:26-05:00">
    <meta itemprop="dateModified" content="2024-06-17T14:13:48-05:00">
    <meta itemprop="wordCount" content="623">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Java Test Doubles :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/index.html" rel="canonical" type="text/html" title="Java Test Doubles :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/index.xml" rel="alternate" type="application/rss+xml" title="Java Test Doubles :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/tele.html" rel="alternate" type="text/html" title="Java Test Doubles :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/embed.html" rel="alternate" type="text/html" title="Java Test Doubles :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1759252931" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1759252931" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1759252931" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1759252931" defer></script>
    <script src="/cc410/js/search.min.js?1759252931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1759252931";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1759252931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759252931" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759252931" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1759252931" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1759252931" rel="stylesheet">
    <link href="/cc410/css/format-print.min.css?1759252931" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/10-test-doubles\/07-junit-test-doubles\/video\/index.html';
      window.relearn.relBasePath='..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1759252931" rel="stylesheet">
  </head>
  <body class="mobile-support print" data-url="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><a itemprop="item" href="/cc410/index.html"><span itemprop="name">CC 410 - Advanced Programming</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/cc410/i-oop/index.html"><span itemprop="name">OOP</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/cc410/i-oop/10-test-doubles/index.html"><span itemprop="name">Test Doubles</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/index.html"><span itemprop="name">Test Doubles in JUnit</span></a><meta itemprop="position" content="4">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Java Test Doubles</span><meta itemprop="position" content="5"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/ksu-cs-textbooks/cc410/edit/main/content/i-oop/10-test-doubles/07-junit-test-doubles/video/_index.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/index.html" title="Test Doubles in JUnit (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/10-test-doubles/08-pytest-test-doubles/index.html" title="Test Doubles in pytest (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
            <div class="topbar-button topbar-button-embed" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/embed.html" title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a>
            </div>
            <div class="topbar-button topbar-button-tele" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/10-test-doubles/07-junit-test-doubles/video/tele.html" title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a>
            </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="java-test-doubles">Java Test Doubles</h1>


<a href="https://www.youtube.com/watch?v=sSokD2zkA8A">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="./slides" target="_blank">Slides</a></li>
</ul>
<h4 id="video-script">Video Script</h4>
<p>To use test doubles in Java, we&rsquo;re going to rely on the Mockito library. Mockito is one of the most popular libraries for this task in Java, and it easily integrates with the JUnit 5 framework we&rsquo;re already using.</p>
<p>To install Mockito, we just have to add a couple of entries to our <code>build.gradle</code> file, as shown here. The <code>mockito-inline</code> library contains the core Mockito classes, and the <code>mockito-junit-jupiter</code> library includes additional functionality that allows Mockito to interface directly with JUnit 5.</p>
<p>Once we&rsquo;ve installed those two libraries, we can use Mockito in our unit tests. This example shows the initial set of classes that need to be imported into our code in order to perform the basic work of creating fake objects and method stubs. At the bottom, we use the special <code>@ExtendWith</code> annotation above our test class to show that JUnit should use Mockito with this unit test. However, by default, this allows us to create fake objects and stubs that are unused without Mockito complaining.</p>
<p>So, instead, we can use the <code>@MockitoSettings</code> annotation and set the strictness to <code>STRICT_STUBS</code> as shown here. In this way, if we write a unit test that includes a fake object or stub that is unused, or if we try to call a method in a fake object that does not include a stub, Mockito will warn us so we can correct the error. This setting will most likely be enabled by default in future versions of Mockito, but for now we&rsquo;ll include it ourselves.</p>
<p>To create a fake object using Mockito, we can just declare an object with the <code>@Mock</code> annotation above it. That tells Mockito to create a fake version of the object instead of the real implementation. Then, we can use those objects in our code just like any other object. For example, we can add our fake <code>Teacher</code> object to our <code>Classroom</code> object, and it will see that it received an object of the expected type. As long as we don&rsquo;t call any methods in the <code>Teacher</code> class, we&rsquo;ll be fine.</p>
<p>However, if we want to call those methods, we&rsquo;ll have to include method stubs in our code. In Mockito, there are several ways to do this, but the easiest is to use the <code>when()</code> method as shown here. In this method, we are showing that when the <code>getName()</code> method is called on our fake teacher object, it should just return the string <code>&quot;Teacher Person&quot;</code>. So, in our unit test below, whenever that method is called in the <code>Classroom</code> class, it will get that result, and we can use it to verify the expected output.</p>
<p>Finally, what if we want to create a fake version of a static class? This is a bit more difficult, but thankfully it was added to a recent version of Mockito. We can use the <code>mockStatic()</code> method as shown here to create a fake version of a static class. The only catch is that we must do this in a try with resources statement, which makes sure that the fake static class doesn&rsquo;t stick around after the unit test. Just like any other class, we can add method stubs to static methods in our fake static class, and then when those static methods are called anywhere within our test it will use our stubbed versions, allowing us to control what the rest of the application sees.</p>
<p>As we can see, using Mockito to create fake objects and method stubs in Java is quite simple. However, this is just scratching the surface of what Mockito can really do. So, feel free to refer to the documentation for additional information and ideas of ways you can use Mockito in your unit tests.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
<div class="git-footer">
  <p class="theme-version-footer">8.0.0</p>
<p>Last modified by:
              <i class='fa-fw fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cc410/commit/1b3be09e9a32c703d266d0790414fde22b705b91">Jun 17, 2024</a>
</p>

</div>
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1759252931" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1759252931" defer></script>
    <script src="/cc410/js/theme.min.js?1759252931" defer></script>
  </body>
</html>
