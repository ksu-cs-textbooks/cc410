<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="One other important topic to cover in unit tests is dependency injection. In short, dependency injection is a way that we can build our classes so that the objects they depend on can be added to the class from outside. In that way, we can change them as needed in our unit tests as a way to test functionality using test doubles.
Consider the following example:
​ Java Python public class Teacher { private Gradebook gradebook; private List&lt;Student&gt; studentList; public Teacher() { this.gradebook = new Gradebook(&#34;Course Name&#34;); this.studentList = new List&lt;&gt;(); } public void addStudent(Student s) { this.studentList.add(s); } public void submitGrades() { for (Student s : this.studentList) { this.gradebook.gradeStudent(s); } } } class Teacher: def __init__(self) -&gt; None: self.__gradebook: Gradebook = Gradebook() self.__student_list: List[Student] = list() def add_student(self, s: Student) -&gt; None: self.__student_list.append(s) def submit_grades(self) -&gt; None: for s in self.__student_list: self.__gradebook.grade_student(s) In this Teacher class, we see a private Gradebook instance. That instance is not accessible outside the class, so we cannot directly interact with it in our unit tests, at least without violating the security principles of the class it is in. So, if we want to test that the submitGrades() method properly grades every student in the studentList, we would need some way to replace the gradebook attribute with a test double.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Dependency Injection :: CC 410 Textbook">
    <meta name="twitter:description" content="One other important topic to cover in unit tests is dependency injection. In short, dependency injection is a way that we can build our classes so that the objects they depend on can be added to the class from outside. In that way, we can change them as needed in our unit tests as a way to test functionality using test doubles.
Consider the following example:
​ Java Python public class Teacher { private Gradebook gradebook; private List&lt;Student&gt; studentList; public Teacher() { this.gradebook = new Gradebook(&#34;Course Name&#34;); this.studentList = new List&lt;&gt;(); } public void addStudent(Student s) { this.studentList.add(s); } public void submitGrades() { for (Student s : this.studentList) { this.gradebook.gradeStudent(s); } } } class Teacher: def __init__(self) -&gt; None: self.__gradebook: Gradebook = Gradebook() self.__student_list: List[Student] = list() def add_student(self, s: Student) -&gt; None: self.__student_list.append(s) def submit_grades(self) -&gt; None: for s in self.__student_list: self.__gradebook.grade_student(s) In this Teacher class, we see a private Gradebook instance. That instance is not accessible outside the class, so we cannot directly interact with it in our unit tests, at least without violating the security principles of the class it is in. So, if we want to test that the submitGrades() method properly grades every student in the studentList, we would need some way to replace the gradebook attribute with a test double.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/09-dependency-injection/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Dependency Injection :: CC 410 Textbook">
    <meta property="og:description" content="One other important topic to cover in unit tests is dependency injection. In short, dependency injection is a way that we can build our classes so that the objects they depend on can be added to the class from outside. In that way, we can change them as needed in our unit tests as a way to test functionality using test doubles.
Consider the following example:
​ Java Python public class Teacher { private Gradebook gradebook; private List&lt;Student&gt; studentList; public Teacher() { this.gradebook = new Gradebook(&#34;Course Name&#34;); this.studentList = new List&lt;&gt;(); } public void addStudent(Student s) { this.studentList.add(s); } public void submitGrades() { for (Student s : this.studentList) { this.gradebook.gradeStudent(s); } } } class Teacher: def __init__(self) -&gt; None: self.__gradebook: Gradebook = Gradebook() self.__student_list: List[Student] = list() def add_student(self, s: Student) -&gt; None: self.__student_list.append(s) def submit_grades(self) -&gt; None: for s in self.__student_list: self.__gradebook.grade_student(s) In this Teacher class, we see a private Gradebook instance. That instance is not accessible outside the class, so we cannot directly interact with it in our unit tests, at least without violating the security principles of the class it is in. So, if we want to test that the submitGrades() method properly grades every student in the studentList, we would need some way to replace the gradebook attribute with a test double.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="OOP">
    <meta property="article:modified_time" content="2023-08-10T16:05:23-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Dependency Injection :: CC 410 Textbook">
    <meta itemprop="description" content="One other important topic to cover in unit tests is dependency injection. In short, dependency injection is a way that we can build our classes so that the objects they depend on can be added to the class from outside. In that way, we can change them as needed in our unit tests as a way to test functionality using test doubles.
Consider the following example:
​ Java Python public class Teacher { private Gradebook gradebook; private List&lt;Student&gt; studentList; public Teacher() { this.gradebook = new Gradebook(&#34;Course Name&#34;); this.studentList = new List&lt;&gt;(); } public void addStudent(Student s) { this.studentList.add(s); } public void submitGrades() { for (Student s : this.studentList) { this.gradebook.gradeStudent(s); } } } class Teacher: def __init__(self) -&gt; None: self.__gradebook: Gradebook = Gradebook() self.__student_list: List[Student] = list() def add_student(self, s: Student) -&gt; None: self.__student_list.append(s) def submit_grades(self) -&gt; None: for s in self.__student_list: self.__gradebook.grade_student(s) In this Teacher class, we see a private Gradebook instance. That instance is not accessible outside the class, so we cannot directly interact with it in our unit tests, at least without violating the security principles of the class it is in. So, if we want to test that the submitGrades() method properly grades every student in the studentList, we would need some way to replace the gradebook attribute with a test double.">
    <meta itemprop="dateModified" content="2023-08-10T16:05:23-05:00">
    <meta itemprop="wordCount" content="1056">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Dependency Injection :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/10-test-doubles/09-dependency-injection/index.html" rel="canonical" type="text/html" title="Dependency Injection :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/09-dependency-injection/index.xml" rel="alternate" type="application/rss+xml" title="Dependency Injection :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/09-dependency-injection/index.print.html" rel="alternate" type="text/html" title="Dependency Injection :: CC 410 Textbook">
    <link href="/cc410/i-oop/10-test-doubles/09-dependency-injection/embed.html" rel="alternate" type="text/html" title="Dependency Injection :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1757434985" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1757434985" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1757434985" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/search.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1757434985";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1757434985" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1757434985" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757434985" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1757434985" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1757434985" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/10-test-doubles\/09-dependency-injection\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1757434985" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cc410/i-oop/10-test-doubles/09-dependency-injection/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="dependency-injection">Dependency Injection</h1>

<p>One other important topic to cover in unit tests is <strong>dependency injection</strong>. In short, <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="external" target="_blank">dependency injection</a> is a way that we can build our classes so that the objects they depend on can be added to the class from outside. In that way, we can change them as needed in our unit tests as a way to test functionality using test doubles.</p>
<p>Consider the following example:</p>
<div class="tab-panel" data-tab-group="64e420239d3a4f887eab3768ca6880a5">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="java"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('64e420239d3a4f887eab3768ca6880a5','java')"
    >
      <span class="tab-nav-text">Java</span>
    </button>
    <button
      data-tab-item="python"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('64e420239d3a4f887eab3768ca6880a5','python')"
    >
      <span class="tab-nav-text">Python</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="java"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Teacher</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Gradebook gradebook;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> studentList;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Teacher</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gradebook</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Gradebook(<span style="color:#e6db74">&#34;Course Name&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">studentList</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> List<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addStudent</span>(Student s) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">studentList</span>.<span style="color:#a6e22e">add</span>(s);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">submitGrades</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> (Student s : <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">studentList</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gradebook</span>.<span style="color:#a6e22e">gradeStudent</span>(s);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="python"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Teacher</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__gradebook: Gradebook <span style="color:#f92672">=</span> Gradebook()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__student_list: List[Student] <span style="color:#f92672">=</span> list()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_student</span>(self, s: Student) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__student_list<span style="color:#f92672">.</span>append(s)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">submit_grades</span>(self) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>__student_list:
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>__gradebook<span style="color:#f92672">.</span>grade_student(s)</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<p>In this <code>Teacher</code> class, we see a private <code>Gradebook</code> instance. That instance is not accessible outside the class, so we cannot directly interact with it in our unit tests, at least without violating the security principles of the class it is in. So, if we want to test that the <code>submitGrades()</code> method properly grades every student in the <code>studentList</code>, we would need some way to replace the <code>gradebook</code> attribute with a test double.</p>
<p>This is where <strong>dependency injection</strong> comes in. Instead of allowing this class to instantiate its own gradebook, we can restructure the code to inject our own gradebook instance. There are several ways we can do this.</p>
<h3 id="reduce-security-of-attributes">Reduce Security of Attributes</h3>
<p>Of course, one way we could accomplish this, even without dependency injection, would be to simply reduce the security of these objects. In Java, we could make them either <code>public</code>, which is generally a bad idea for something so secure as a gradebook, or package-private, with no modifier. We&rsquo;ve used the package-private trick in one of the earlier example videos to access some GUI elements, but in this case we probably want something better.</p>
<p>In Python, we know that any attribute can be accessed externally, so this isn&rsquo;t as big of a concern. However, since we are using a double-underscore in the name, we&rsquo;d have to get around the name mangling. We could switch it to a single underscore, which is still marked as internal to the class but would at least be more easily accessible to our tests. However, as with the Java example, there are other ways we could accomplish this.</p>
<h3 id="constructor-injection">Constructor Injection</h3>
<p>The first method of dependency injection is via the constructor. We could simply pass in a reference to a <code>Gradebook</code> object in the constructor, as in this example:</p>
<div class="tab-panel" data-tab-group="35cfd05d723124099334104c81cfd34a">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="java"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('35cfd05d723124099334104c81cfd34a','java')"
    >
      <span class="tab-nav-text">Java</span>
    </button>
    <button
      data-tab-item="python"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('35cfd05d723124099334104c81cfd34a','python')"
    >
      <span class="tab-nav-text">Python</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="java"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Teacher</span>(Gradebook grade) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (grade <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IllegalArgumentException(<span style="color:#e6db74">&#34;Gradebook cannot be null&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gradebook</span> <span style="color:#f92672">=</span> grade
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">studentList</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> List<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="python"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self, grade: Gradebook) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> grade <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Gradebook cannot be None&#34;</span>)
</span></span><span style="display:flex;"><span>    self<span style="color:#f92672">.</span>__gradebook: Gradebook <span style="color:#f92672">=</span> grade
</span></span><span style="display:flex;"><span>    self<span style="color:#f92672">.</span>__student_list: List[Student] <span style="color:#f92672">=</span> list()</span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<p>The benefit of this approach is that we can easily replace an actual <code>Gradebook</code> instance in our unit tests with any test double we&rsquo;d like, making it every easy to test the <code>submitGrades()</code> method.</p>
<p>Unfortunately, this does require any class that instantiates a <code>Teacher</code> object to also instantiate a <code>Gradebook</code> along with it, making that process more complex. This complexity can be reduced using some design patterns such as the builder pattern or factory method pattern.</p>
<p>Finally, the class that instantiates the <code>Teacher</code> object would also have a reference to the <code>Gradebook</code> that teacher is using, so it could allow a malicious coder to have access to data that should be kept private. However, typically this isn&rsquo;t a major concern we worry about, since we must always assume that any programmer on this project could access any data stored in a class, as nothing is <em>truly</em> private as we&rsquo;ve already discussed.</p>
<h3 id="setter-injection">Setter Injection</h3>
<p>Alternatively, we can provide a setter method and allow injection via the setter. This could be done either in lieu of building a <code>Gradebook</code> object in the constructor, or in addition to it.</p>
<div class="tab-panel" data-tab-group="6ffa4a2374b24e802ec20750849f16d3">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="java"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('6ffa4a2374b24e802ec20750849f16d3','java')"
    >
      <span class="tab-nav-text">Java</span>
    </button>
    <button
      data-tab-item="python"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('6ffa4a2374b24e802ec20750849f16d3','python')"
    >
      <span class="tab-nav-text">Python</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="java"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setGradebook</span> (Gradebook grade) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (grade <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IllegalArgumentException(<span style="color:#e6db74">&#34;Gradebook cannot be null&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gradebook</span> <span style="color:#f92672">=</span> grade;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="python"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">set_gradebook</span>(grade: Gradebook) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> grade <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ValueError</span>(<span style="color:#e6db74">&#34;Gradebook cannot be None&#34;</span>)
</span></span><span style="display:flex;"><span>    self<span style="color:#f92672">.</span>__gradebook: Gradebook <span style="color:#f92672">=</span> grade<span style="color:#960050;background-color:#1e0010">`</span></span></span></code></pre></div>
      </div>
    </div>
  </div>
</div>
<p>You may recognize this approach from several earlier courses in this program - we use this technique for grading some of the data structures and programs by injecting our own data and seeing how your code interacts with it. We typically include <code>debug</code> in the name of these methods, to make it clear that they are only for debugging and should be removed from the final code.</p>
<h3 id="other-methods">Other Methods</h3>
<p>In addition to the three methods listed above, there are some other ways we can accomplish this:</p>
<ul>
<li>Using Inheritance or Interfaces - we can declare methods to inject objects as part of a parent class or an interface.</li>
<li>Using the Factory Method pattern - we can replace the static methods in the factory class to return a test double instead of the real object.</li>
<li>Several frameworks exist to automate this process in various languages.</li>
</ul>
<p>Many of these are discussed in greater detail in the <a href="https://en.wikipedia.org/wiki/Dependency_injection" rel="external" target="_blank">dependency injection</a> article on Wikipedia.</p>
<h2 id="best-practices">Best Practices</h2>
<p>In general, we want to build our code in a way that it can easily be tested, and that means providing some way to perform dependency injection that doesn&rsquo;t interfere with the normal operation of our program.</p>
<p>Here are some quick tips that you may be able to use when you need to implement dependency injection:</p>
<ol>
<li>Write your class in such a way that it can either function without the dependency being provided (i.e. it instantiates its own by default, and replaces it with the injected one as needed).</li>
<li>Verify that dependencies are properly instantiated when they are injected.</li>
<li>Make the methods that inject dependencies not public, so it is clear that they should only be used internally in testing and within the class or package they are present in.</li>
<li>Use design patterns such as the builder pattern or factory method pattern to simplify creation of these objects, automatically handling injection as needed.</li>
</ol>
<p>Dependency injection is a very powerful testing technique, but one that must be used carefully to prevent introducing additional bugs and complexity to your application.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1757434985" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1757434985" defer></script>
    <script src="/cc410/js/theme.min.js?1757434985" defer></script>
      
      
      
    </div> 
  <script src="/cc410/js/tele-scroll.min.js?1757434985" defer></script>
  </body>
</html>
