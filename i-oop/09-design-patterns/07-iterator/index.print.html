<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="YouTube Video Video Materials
Let’s review three other commonly used software design patterns. These are either patterns that we’ve seen before, or ones that we might end up using soon in our code.
Iterator Pattern The first pattern is the iterator pattern. The iterator pattern is a behavioral pattern that is used to traverse through a collection of objects stored in a container. We explored this pattern in several of the data structures introduced in earlier data structures courses such as CC 310 and CC 315, as well as CIS 300.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Iterator Pattern :: CC 410 Textbook">
    <meta name="twitter:description" content="YouTube Video Video Materials
Let’s review three other commonly used software design patterns. These are either patterns that we’ve seen before, or ones that we might end up using soon in our code.
Iterator Pattern The first pattern is the iterator pattern. The iterator pattern is a behavioral pattern that is used to traverse through a collection of objects stored in a container. We explored this pattern in several of the data structures introduced in earlier data structures courses such as CC 310 and CC 315, as well as CIS 300.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/09-design-patterns/07-iterator/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Iterator Pattern :: CC 410 Textbook">
    <meta property="og:description" content="YouTube Video Video Materials
Let’s review three other commonly used software design patterns. These are either patterns that we’ve seen before, or ones that we might end up using soon in our code.
Iterator Pattern The first pattern is the iterator pattern. The iterator pattern is a behavioral pattern that is used to traverse through a collection of objects stored in a container. We explored this pattern in several of the data structures introduced in earlier data structures courses such as CC 310 and CC 315, as well as CIS 300.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Iterator Pattern :: CC 410 Textbook">
    <meta itemprop="description" content="YouTube Video Video Materials
Let’s review three other commonly used software design patterns. These are either patterns that we’ve seen before, or ones that we might end up using soon in our code.
Iterator Pattern The first pattern is the iterator pattern. The iterator pattern is a behavioral pattern that is used to traverse through a collection of objects stored in a container. We explored this pattern in several of the data structures introduced in earlier data structures courses such as CC 310 and CC 315, as well as CIS 300.">
    <meta itemprop="dateModified" content="2024-06-17T14:13:48-05:00">
    <meta itemprop="wordCount" content="689">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Iterator Pattern :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/09-design-patterns/07-iterator/index.html" rel="canonical" type="text/html" title="Iterator Pattern :: CC 410 Textbook">
    <link href="/cc410/i-oop/09-design-patterns/07-iterator/index.xml" rel="alternate" type="application/rss+xml" title="Iterator Pattern :: CC 410 Textbook">
    <link href="/cc410/i-oop/09-design-patterns/07-iterator/tele.html" rel="alternate" type="text/html" title="Iterator Pattern :: CC 410 Textbook">
    <link href="/cc410/i-oop/09-design-patterns/07-iterator/embed.html" rel="alternate" type="text/html" title="Iterator Pattern :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1757527802" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1757527802" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1757527802" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1757527802" defer></script>
    <script src="/cc410/js/search.min.js?1757527802" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1757527802";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1757527802" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1757527802" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1757527802" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1757527802" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757527802" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1757527802" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1757527802" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1757527802" rel="stylesheet">
    <link href="/cc410/css/format-print.min.css?1757527802" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/09-design-patterns\/07-iterator\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1757527802" rel="stylesheet">
  </head>
  <body class="mobile-support embed print" data-url="/cc410/i-oop/09-design-patterns/07-iterator/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="iterator-pattern">Iterator Pattern</h1>


<a href="https://www.youtube.com/watch?v=FWR6C6LS-Y8">YouTube Video</a>

<p><a href="/cc410/i-oop/09-design-patterns/07-iterator/video/index.html">Video Materials</a></p>
<p>Let&rsquo;s review three other commonly used software design patterns. These are either patterns that we&rsquo;ve seen before, or ones that we might end up using soon in our code.</p>
<h2 id="iterator-pattern">Iterator Pattern</h2>
<p>The first pattern is the <strong>iterator pattern</strong>. The <a href="https://en.wikipedia.org/wiki/Iterator_pattern" rel="external" target="_blank">iterator pattern</a> is a behavioral pattern that is used to traverse through a collection of objects stored in a container. We explored this pattern in several of the data structures introduced in earlier data structures courses such as CC 310 and CC 315, as well as CIS 300.</p>
<p><a href="#R-image-ec22e31f25f3745a5d39eea655c285b6" class="lightbox-link"><img alt="Iterator Pattern Diagram" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/12/iterator.jpg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ec22e31f25f3745a5d39eea655c285b6"><img alt="Iterator Pattern Diagram" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/12/iterator.jpg"></a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>In it&rsquo;s simplest form, the iterator pattern simply includes a <code>hasNext()</code> and <code>next()</code> method, though many implementations may also include a way to reset the iterator back to the beginning of the collection.</p>
<p>Classes that use the iterator can use the <code>hasNext()</code> method to determine if there are additional elements in the collection, and then the <code>next()</code> method is used to actually access that element.</p>
<p>In the examples below, we&rsquo;ll rely on the built-in collection classes in Java and Python to provide their own iterators, but if we must write our own collection class that doesn&rsquo;t use the built-in ones, we can easily develop our own iterators using documentation found online.</p>
<div class="tab-panel" data-tab-group="5c52707818447847eb333f0242250e01">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="java"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('5c52707818447847eb333f0242250e01','java')"
    >
      <span class="tab-nav-text">Java</span>
    </button>
    <button
      data-tab-item="python"
      class="tab-nav-button tab-panel-style cstyle initial"
      onclick="switchTab('5c52707818447847eb333f0242250e01','python')"
    >
      <span class="tab-nav-text">Python</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="java"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">
<p>In Java, classes can implement the <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html" rel="external" target="_blank">Iterable</a> interface, which requires them to return an <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html" rel="external" target="_blank">Iterator</a> object. In doing so, these objects can then be used in the Java <strong>enhanced for</strong> or <strong>for each</strong> loop.</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.lang.Iterable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Iterator;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.LinkedList;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Deck</span> <span style="color:#66d9ef">implements</span> Iterable<span style="color:#f92672">&lt;</span>Card<span style="color:#f92672">&gt;</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    List<span style="color:#f92672">&lt;</span>Card<span style="color:#f92672">&gt;</span> deck;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Deck</span>() {
</span></span><span style="display:flex;"><span>        deck <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LinkedList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Iterator<span style="color:#f92672">&lt;</span>Card<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">iterator</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> deck.<span style="color:#a6e22e">iterator</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">size</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">deck</span>.<span style="color:#a6e22e">size</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Here, we are making use of the fact that the Java collections classes, such as <code>LinkedList</code>, already implement the <code>Iterable</code> interface, so we can just return the iterator from the collection contained in our object. Even though it is not explicitly required by the <code>Iterable</code> interface, it is also a good idea to implement a <code>size()</code> method to return the size of our collection.</p>
<p>With this code in place, we can iterate through the deck just like any other collection:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CardGame</span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        String deckType <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Standard 52&#34;</span>;
</span></span><span style="display:flex;"><span>        Deck cards <span style="color:#f92672">=</span> DeckFactory.<span style="color:#a6e22e">getInstance</span>().<span style="color:#a6e22e">getDeck</span>((DeckType.<span style="color:#a6e22e">valueOf</span>(deckType)));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(Card card : cards) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// do something with each card</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
      </div>
    </div>
    <div
      data-tab-item="python"
      class="tab-content tab-panel-style cstyle initial">
      <div class="tab-content-text">
<p>In Python, we can simply provide implementation for the <code>__iter__()</code> method in a class to return an iterator object, and that iterator object should implement the <code>__next__()</code> method to get the next item, as well as the <code>__iter__()</code> method, which just returns the iterator itself. Python does not define an equivalent to the <code>has_next()</code> method; instead, the <code>__next__()</code> method should raise a <code>StopIteration</code> exception when the end of the collection is reached.</p>
<p>For the purposes of type checking, we can use the <code>Iterator</code> type and the <code>Iterable</code> parent class (which works similar to an interface).</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> Iterable, Iterator
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Deck</span>(Iterable[Card]):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__init__</span>(self) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_deck: List[Card] <span style="color:#f92672">=</span> list()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__iter__</span>(self) <span style="color:#f92672">-&gt;</span> Iterator[Card]:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> iter(self<span style="color:#f92672">.</span>_deck)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__len__</span>(self) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> len(self<span style="color:#f92672">.</span>_deck)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__getitem__</span>(self, position: int) <span style="color:#f92672">-&gt;</span> Card:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_deck[position]</span></span></code></pre></div>
<p>Here, we are making use of the fact that the built-in Python data types, such as list and dictionary, already implement the <code>__iter__()</code> method, so we can just return the iterator obtained by calling <code>iter()</code> on the collection.</p>
<p>In addition, we&rsquo;ve also implemented the <code>__len__()</code> and <code>__getitem__()</code> <a href="https://docs.python.org/3/reference/datamodel.html#emulating-container-types" rel="external" target="_blank">magic methods</a>, or &ldquo;dunder methods&rdquo;, that help our class act more like a container. With these, we can use <code>len(cards)</code> to get the number of cards in a <code>Deck</code> instance, and likewise we can access each individual card using array notation, as in <code>cards[0]</code>. There are several other magic methods we may wish to implement,  which are described in the link above.</p>
<p>With this code in place, we can iterate through the deck just like any other collection:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CardGame</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>(args: List[str]) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        deck_type: str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Standard 52&#34;</span>
</span></span><span style="display:flex;"><span>        cards: Deck <span style="color:#f92672">=</span> DeckFactory<span style="color:#f92672">.</span>get_instance()<span style="color:#f92672">.</span>get_deck(DeckType(deck_type))
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> card <span style="color:#f92672">in</span> cards:
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># do something with each card</span></span></span></code></pre></div>
<h6 id="reference">Reference</h6>
<p>See <a href="https://python-patterns.guide/gang-of-four/iterator/" rel="external" target="_blank">Iterator</a> on Python Design Patterns for more details.</p>
      </div>
    </div>
  </div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://commons.wikimedia.org/w/index.php?title=File:W3sDesign_Iterator_Design_Pattern_UML.jpg&oldid=488852077" rel="external" target="_blank">https://commons.wikimedia.org/w/index.php?title=File:W3sDesign_Iterator_Design_Pattern_UML.jpg&oldid=488852077</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1757527802" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1757527802" defer></script>
    <script src="/cc410/js/theme.min.js?1757527802" defer></script>
  <script src="/cc410/js/embed-iframe.min.js?1757527802" defer></script>
  </body>
</html>
