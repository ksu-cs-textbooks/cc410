<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the Assertions class, and many of them are described in the JUnit 5 User Guide.
Boolean Assertions For example, JUnit provides two boolean assertions:
assertTrue(condition) - asserts that the value supplied is true assertFalse(condition) - asserts that the value supplied is false As with any assertion statements in JUnit, we can also optionally supply a message string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Java Assertions :: CC 410 Textbook">
    <meta name="twitter:description" content="Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the Assertions class, and many of them are described in the JUnit 5 User Guide.
Boolean Assertions For example, JUnit provides two boolean assertions:
assertTrue(condition) - asserts that the value supplied is true assertFalse(condition) - asserts that the value supplied is false As with any assertion statements in JUnit, we can also optionally supply a message string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/05-java-assertions/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Java Assertions :: CC 410 Textbook">
    <meta property="og:description" content="Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the Assertions class, and many of them are described in the JUnit 5 User Guide.
Boolean Assertions For example, JUnit provides two boolean assertions:
assertTrue(condition) - asserts that the value supplied is true assertFalse(condition) - asserts that the value supplied is false As with any assertion statements in JUnit, we can also optionally supply a message string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="OOP">
    <meta property="article:modified_time" content="2022-07-08T13:34:06-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Java Assertions :: CC 410 Textbook">
    <meta itemprop="description" content="Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the Assertions class, and many of them are described in the JUnit 5 User Guide.
Boolean Assertions For example, JUnit provides two boolean assertions:
assertTrue(condition) - asserts that the value supplied is true assertFalse(condition) - asserts that the value supplied is false As with any assertion statements in JUnit, we can also optionally supply a message string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.">
    <meta itemprop="dateModified" content="2022-07-08T13:34:06-05:00">
    <meta itemprop="wordCount" content="1072">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Java Assertions :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/05-java-assertions/index.html" rel="canonical" type="text/html" title="Java Assertions :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/05-java-assertions/index.xml" rel="alternate" type="application/rss+xml" title="Java Assertions :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/05-java-assertions/index.print.html" rel="alternate" type="text/html" title="Java Assertions :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/05-java-assertions/embed.html" rel="alternate" type="text/html" title="Java Assertions :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1758639063" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1758639063" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1758639063" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1758639063" defer></script>
    <script src="/cc410/js/search.min.js?1758639063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1758639063";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1758639063" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1758639063" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1758639063" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1758639063" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1758639063" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1758639063" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1758639063" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/04-testing\/05-java-assertions\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1758639063" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cc410/i-oop/04-testing/05-java-assertions/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="java-assertions">Java Assertions</h1>

<p>Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html" rel="external" target="_blank">Assertions</a> class, and many of them are described in the <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions" rel="external" target="_blank">JUnit 5 User Guide</a>.</p>
<h3 id="boolean-assertions">Boolean Assertions</h3>
<p>For example, JUnit provides two boolean assertions:</p>
<ul>
<li><code>assertTrue(condition)</code> - asserts that the value supplied is <code>true</code></li>
<li><code>assertFalse(condition)</code> - asserts that the value supplied is <code>false</code></li>
</ul>
<p>As with any assertion statements in JUnit, we can also optionally supply a <code>message</code> string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.</p>
<h3 id="equality-assertions">Equality Assertions</h3>
<p>The workhorse of the JUnit assertion library are the <code>assertEquals()</code> and <code>assertNotEquals()</code> methods. That method is overloaded, with implementations that accept many different data types. These are all listed in the <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html" rel="external" target="_blank">Assertions</a> documentation, but they all follow the same basic form:</p>
<ul>
<li><code>assertEquals(expected, actual)</code></li>
<li><code>assertNotEquals(expected, actual)</code></li>
</ul>
<p>For floating-point values such as the <code>double</code> data type, you can also specify a <code>delta</code> value, such that the values are considered equal as long as their positive difference is less than <code>delta</code></p>
<ul>
<li><code>assertEquals(expected, actual, delta)</code></li>
<li><code>assertNotEquals(expected, actual, delta)</code></li>
</ul>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Floating-Point Arithmetic Error
  </summary>
  <div class="box-content">
<p>Why do we need to include a delta value? This is because floating-point values are by their nature imprecise, and can sometimes lead to strange errors. Consider this example from <a href="https://www.geeksforgeeks.org/rounding-off-errors-java/" rel="external" target="_blank">GeeksforGeeks</a>:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) 
</span></span><span style="display:flex;"><span>{ 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> a <span style="color:#f92672">=</span> 0.<span style="color:#a6e22e">7</span>; 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> b <span style="color:#f92672">=</span> 0.<span style="color:#a6e22e">9</span>; 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> x <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> 0.<span style="color:#a6e22e">1</span>; 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> y <span style="color:#f92672">=</span> b <span style="color:#f92672">-</span> 0.<span style="color:#a6e22e">1</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;x = &#34;</span> <span style="color:#f92672">+</span> x); 
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;y = &#34;</span> <span style="color:#f92672">+</span> y ); 
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(x <span style="color:#f92672">==</span> y); 
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>While we would expect both <code>x</code> and <code>y</code> to store the same value, they are actually slightly different.</p>
<p><a href="#R-image-a9f68bedfaf4e373aa8ee3598688e369" class="lightbox-link"><img alt="Java Floating Point Error" class="border lazy lightbox figure-image" loading="lazy" src="/cc410/images/4/javaerror.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a9f68bedfaf4e373aa8ee3598688e369"><img alt="Java Floating Point Error" class="border lazy lightbox lightbox-image" loading="lazy" src="/cc410/images/4/javaerror.png"></a></p>
<p>So, we may need to account for this imprecision in our unit tests. We could also rewrite our code to avoid the use of floating point values. For example, many programs that deal with monetary values actually store them as integers based on cents instead of dollars, and simply add the decimal point only when the value is printed.</p>
  </div>
</details>
<h3 id="array-assertions">Array Assertions</h3>
<p>JUnit also includes assertions for arrays. These methods are also overloaded to handle many different data types:</p>
<ul>
<li><code>assertArrayEquals(expected, actual)</code></li>
</ul>
<p>This method is really handy when we need to check that the contents of an entire array match the values we expect it to contain.</p>
<p>For lists of strings (<code>List&lt;String&gt;</code> data type), JUnit also includes a special method to confirm that each line matches what is expected.</p>
<ul>
<li><code>assertLinesMatch(expectedLines, actualLines)</code></li>
</ul>
<p>This is very handy for checking that multiple lines of output produced by a program match the expected output.</p>
<h3 id="reference-assertions">Reference Assertions</h3>
<p>JUnit also includes several helpful assertion methods that allow us to determine if two objects are the same actual object in memory (the same reference), as well as if an object is <code>null</code>:</p>
<ul>
<li><code>assertNull(actual)</code></li>
<li><code>assertNotNull(actual)</code></li>
<li><code>assertSame(expected, actual)</code></li>
<li><code>assertNotSame(expected, actual)</code></li>
</ul>
<h3 id="catching-exceptions">Catching Exceptions</h3>
<p>JUnit also includes a special type of assertion that can be used to catch exceptions. This allows us to assert that a particular piece of code being tested should, or should not, throw an exception.</p>
<p>To do this, JUnit uses a <strong>lambda expression</strong>, which we haven&rsquo;t covered yet in this course. We&rsquo;ll discuss lambdas more in a later chapter. Thankfully, the syntax is very simple. Here&rsquo;s an example, taken from the <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions" rel="external" target="_blank">JUnit 5 User Guide</a>:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">exceptionTesting</span>() {
</span></span><span style="display:flex;"><span>    Exception exception <span style="color:#f92672">=</span> assertThrows(ArithmeticException.<span style="color:#a6e22e">class</span>, () <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        calculator.<span style="color:#a6e22e">divide</span>(1, 0));
</span></span><span style="display:flex;"><span>    assertEquals(<span style="color:#e6db74">&#34;/ by zero&#34;</span>, exception.<span style="color:#a6e22e">getMessage</span>());
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>The <code>assertThrows(expectedType, executable)</code> method is used to assert that the <code>calculator.divide()</code> method will throw an exception, specifically an <code>ArithmeticException</code>. If that method call does not throw an exception, then the assertion will fail.</p>
<p>The second argument to the <code>assertThrows()</code> method is a <strong>lambda expression</strong>. In Java, a lambda expression can be thought of as an <strong>anonymous function</strong> - we are defining a block of code that acts like a function, but we&rsquo;re not giving it a name. That allows us to pass that block of code as a parameter to another method, where it can be executed. See <a href="https://en.wikipedia.org/wiki/Anonymous_function" rel="external" target="_blank">Anonymous Function</a> on Wikipedia for a deeper explanation. As we mentioned before, we&rsquo;ll learn more about lambda expressions later in this course.</p>
<p>We can also write code to assert that a method does not throw an exception using the <code>assertDoesNotThrow()</code> assertion:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">noExceptionTesting</span>() {
</span></span><span style="display:flex;"><span>    assertDoesNotThrow(() <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        calculator.<span style="color:#a6e22e">multiply</span>(1, 0));
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="fail">Fail</h3>
<p>JUnit includes one other assertion that is used to simply fail a test:</p>
<ul>
<li><code>fail(message)</code></li>
</ul>
<p>By including the <code>fail()</code> method in our unit test, we can cause a test to fail immediately. This allows us to build conditional statements to test complex values that are difficult to express in the provided assertion methods, and then fail a test if the conditional expression reaches the wrong branch. Here&rsquo;s a quick example:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testFail</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(calculator.<span style="color:#a6e22e">multiply</span>(1, 0) <span style="color:#f92672">&gt;</span> calculator.<span style="color:#a6e22e">multiply</span>(0, 1)){
</span></span><span style="display:flex;"><span>        fail(<span style="color:#e6db74">&#34;Commutative property violated!&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<h3 id="checking-output">Checking Output</h3>
<p>One task we may want to be able to perform in our unit tests is capturing output printed by the program. By default, any output that is printed using <code>System.out</code> is immediately sent to the terminal, but we can actually redirect that output without our tests in order to capture it and examine its contents.</p>
<p>We already saw how to do this in the &ldquo;Hello Real World&rdquo; project. Here&rsquo;s that code once again:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Test</span> 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testHelloWorldMain</span>() {
</span></span><span style="display:flex;"><span>    HelloWorld hw <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HelloWorld();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">final</span> PrintStream systemOut <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">out</span>;
</span></span><span style="display:flex;"><span>    ByteArrayOutputStream testOut <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ByteArrayOutputStream();
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">setOut</span>(<span style="color:#66d9ef">new</span> PrintStream(testOut));
</span></span><span style="display:flex;"><span>    hw.<span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]</span>{});
</span></span><span style="display:flex;"><span>    System.<span style="color:#a6e22e">setOut</span>(systemOut);
</span></span><span style="display:flex;"><span>    assertEquals(testOut.<span style="color:#a6e22e">toString</span>(), <span style="color:#e6db74">&#34;Hello World\n&#34;</span>, <span style="color:#e6db74">&#34;Unexpected Output&#34;</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>In that code, we start by storing a reference to the existing <code>System.out</code> as a <a href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html" rel="external" target="_blank"><code>java.io.PrintStream</code></a> named <code>systemOut</code>. This will allow us to undo our changes at the end of the test.</p>
<p>Then, we create a new <a href="https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html" rel="external" target="_blank"><code>java.io.ByteArrayOutputStream</code></a> called <code>testOut</code> to store the output printed to the terminal, and use the <code>System.setOut</code> method to redirect <code>System.out</code> to a new <code>PrintStream</code> based on our <code>testOut</code> stream. So, anything printed using <code>System.out</code> will be sent to that <code>PrintStream</code> and captured in our <code>testOut</code> variable.</p>
<p>Once we&rsquo;ve done those changes, we can then execute our code, calling any functions and including any assertions that we&rsquo;d like to check. When we are finished, we can then reset <code>System.out</code> back to the original reference using the <code>System.setOut(systemOut)</code> line.</p>
<p>Then, to check the output we received, we can use <code>testOut.toString()</code> to get the output it captured as a single string. If multiple lines of output were printed, they would be separated by <code>\n</code> character, so we could use <code>String.split()</code> to split that single string into individual lines if needed.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1758639063" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1758639063" defer></script>
    <script src="/cc410/js/theme.min.js?1758639063" defer></script>
      
      
      
    </div> 
  <script src="/cc410/js/tele-scroll.min.js?1758639063" defer></script>
  </body>
</html>
