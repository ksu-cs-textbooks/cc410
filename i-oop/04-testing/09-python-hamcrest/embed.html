<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.1">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="We can also choose to use the Hamcrest assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!
Basic Assertions Hamcrest uses a single basic assertion method called assert_that() to perform all assertions. It comes in two basic forms:">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta name="twitter:title" content="Python Hamcrest :: CC 410 Textbook">
    <meta name="twitter:description" content="We can also choose to use the Hamcrest assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!
Basic Assertions Hamcrest uses a single basic assertion method called assert_that() to perform all assertions. It comes in two basic forms:">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/09-python-hamcrest/index.html">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Python Hamcrest :: CC 410 Textbook">
    <meta property="og:description" content="We can also choose to use the Hamcrest assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!
Basic Assertions Hamcrest uses a single basic assertion method called assert_that() to perform all assertions. It comes in two basic forms:">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="OOP">
    <meta property="article:modified_time" content="2025-02-05T09:58:15-06:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <meta itemprop="name" content="Python Hamcrest :: CC 410 Textbook">
    <meta itemprop="description" content="We can also choose to use the Hamcrest assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!
Basic Assertions Hamcrest uses a single basic assertion method called assert_that() to perform all assertions. It comes in two basic forms:">
    <meta itemprop="dateModified" content="2025-02-05T09:58:15-06:00">
    <meta itemprop="wordCount" content="451">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cc410/images/hero.png">
    <title>Python Hamcrest :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/09-python-hamcrest/index.html" rel="canonical" type="text/html" title="Python Hamcrest :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/09-python-hamcrest/index.xml" rel="alternate" type="application/rss+xml" title="Python Hamcrest :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/09-python-hamcrest/index.print.html" rel="alternate" type="text/html" title="Python Hamcrest :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/09-python-hamcrest/tele.html" rel="alternate" type="text/html" title="Python Hamcrest :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1759252931" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/auto-complete/auto-complete.min.css?1759252931" rel="stylesheet">
    <script src="/cc410/js/auto-complete/auto-complete.min.js?1759252931" defer></script>
    <script src="/cc410/js/search-lunr.min.js?1759252931" defer></script>
    <script src="/cc410/js/search.min.js?1759252931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cc410/searchindex.en.js?1759252931";
    </script>
    <script src="/cc410/js/lunr/lunr.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.stemmer.support.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.multi.min.js?1759252931" defer></script>
    <script src="/cc410/js/lunr/lunr.en.min.js?1759252931" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759252931" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/fonts/fontawesome/css/fontawesome-all.min.css?1759252931" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar/perfect-scrollbar.min.css?1759252931" rel="stylesheet">
    <link href="/cc410/css/theme.min.css?1759252931" rel="stylesheet">
    <link href="/cc410/css/format-html.min.css?1759252931" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/i-oop\/04-testing\/09-python-hamcrest\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cc410/css/custom.css?1759252931" rel="stylesheet">
  </head>
  <body class="mobile-support embed html" data-url="/cc410/i-oop/04-testing/09-python-hamcrest/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable i-oop" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="python-hamcrest">Python Hamcrest</h1>

<p>We can also choose to use the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/" rel="external" target="_blank">Hamcrest</a> assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!</p>
<h3 id="basic-assertions">Basic Assertions</h3>
<p>Hamcrest uses a single basic assertion method called <code>assert_that()</code> to perform all assertions. It comes in two basic forms:</p>
<ul>
<li><code>assert_that(actual, matcher)</code> - asserts that <code>actual</code> passes the <code>matcher</code>.</li>
<li><code>assert_that(actual, matcher, message)</code> - asserts that <code>actual</code> passes the <code>matcher</code>. If not, it will print <code>message</code> as part of the failure.</li>
</ul>
<p>The real power of Hamcrest lies in the use of <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/library/" rel="external" target="_blank">Matchers</a>, which are used to determine if the <code>actual</code> value passes a test. If not, then the <code>assert_that</code> method will fail, just like a pyunit assertion.</p>
<p>For example, to test if an actual value returned by a fictional <code>calculator</code> object is equal to an expected value, we could use this statement:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>assert_that(calculator<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>), is_(<span style="color:#ae81ff">4</span>))</span></span></code></pre></div>
<p>As we can see, reading this statement out loud tells us everything we need to know: &ldquo;Assert that <code>calculator.add(1, 3)</code> is 4!&rdquo;</p>
<p>Here are a few of the most commonly used Hamcrest matchers, as listed in the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/tutorial/" rel="external" target="_blank">Hamcrest Tutorial</a>. The full list of matchers can be found in the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/library/" rel="external" target="_blank">Matcher Library</a> in the Hamcrest documentation:</p>
<ul>
<li><code>is_(expected)</code> - a shortcut for equality - an example of <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" rel="external" target="_blank"><strong>syntactic sugar</strong></a> as discussed below. Notice the underscore to differentiate it from the Python keyword <code>is</code></li>
<li><code>equal_to(expected)</code> - will call the <code>actual.equals(expected)</code> method to test equality</li>
<li><code>instance_of(type)</code> - can be used to check if an object is the correct type, helpful for testing inheritance</li>
<li><code>none()</code> - check if the value is <code>None</code></li>
<li><code>not_none()</code> - check if the value is not <code>None</code></li>
<li><code>same_instance(expected)</code> - checks if two objects are the same instance</li>
<li><code>has_entry(key, value)</code>, <code>has_key(key)</code>, <code>has_value(value)</code> - matchers for working with mapping types like <a href="https://docs.python.org/3/library/stdtypes.html#typesmapping" rel="external" target="_blank">dictionaries</a></li>
<li><code>has_item(item)</code> - matcher for sequence types like <a href="https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range" rel="external" target="_blank">lists</a></li>
<li><code>close_to(expected, delta)</code> - matcher for testing floating-point values within a range</li>
<li><code>greater_than(expected)</code>, <code>greater_than_or_equal_to(expected)</code>, <code>less_than(expected)</code>, <code>less_than_or_equal_to(expected)</code> - numerical matchers</li>
<li><code>equal_to_ignoring_case(expected)</code>, <code>equal_to_ignoring_whitespace(expected)</code>, <code>contains_string(string)</code>, <code>ends_with(string)</code>, <code>starts_with(string)</code> - string matchers</li>
<li><code>all_of(matcher1, matcher2, ...)</code>, <code>any_of(matcher1, matcher2, ...)</code>, <code>is_not(matcher)</code> - boolean logic operators used to combine multiple matchers</li>
</ul>
<h3 id="syntactic-sugar">Syntactic Sugar</h3>
<p>Hamcrest includes a helpful matcher called <code>is_()</code> that makes some assertions more easily readable. For example, each of these assertion statements from the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/tutorial/" rel="external" target="_blank">Hamcrest Tutorial</a> all test the same thing:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>assert_that(theBiscuit, equal_to(myBiscuit))
</span></span><span style="display:flex;"><span>assert_that(theBiscuit, is_(equal_to(myBiscuit)))
</span></span><span style="display:flex;"><span>assert_that(theBiscuit, is_(myBiscuit))</span></span></code></pre></div>
<p>By including the <code>is_()</code> matcher, we can make our assertions more readable. We call this <em>syntactic sugar</em> since it doesn&rsquo;t add anything new to our language structure, but it can help make it more readable.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cc410/js/clipboard/clipboard.min.js?1759252931" defer></script>
    <script src="/cc410/js/perfect-scrollbar/perfect-scrollbar.min.js?1759252931" defer></script>
    <script src="/cc410/js/theme.min.js?1759252931" defer></script>
  <script src="/cc410/js/embed-iframe.min.js?1759252931" defer></script>
  </body>
</html>
