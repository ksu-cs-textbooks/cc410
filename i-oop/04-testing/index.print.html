




  
	
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
	  

  
	
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="Making sure everything works correctly!">
    <meta name="author" content="Russell Feldhausen">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Testing :: CC 410 Textbook">
    <meta name="twitter:description" content="Making sure everything works correctly!">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/">
    <meta property="og:site_name" content="CC 410 Textbook">
    <meta property="og:title" content="Testing :: CC 410 Textbook">
    <meta property="og:description" content="Making sure everything works correctly!">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Testing :: CC 410 Textbook">
    <meta itemprop="description" content="Making sure everything works correctly!">
    <meta itemprop="datePublished" content="2021-08-17T00:00:00+00:00">
    <meta itemprop="dateModified" content="2023-08-10T16:05:23-05:00">
    <meta itemprop="wordCount" content="5">
    <title>Testing :: CC 410 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cc410/i-oop/04-testing/" rel="canonical" type="text/html" title="Testing :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/index.xml" rel="alternate" type="application/rss+xml" title="Testing :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/tele.html" rel="alternate" type="text/html" title="Testing :: CC 410 Textbook">
    <link href="/cc410/i-oop/04-testing/embed.html" rel="alternate" type="text/html" title="Testing :: CC 410 Textbook">
    <link href="/cc410/images/favicon.ico?1722884255" rel="icon" type="image/x-icon" sizes="any">
    <link href="/cc410/css/fontawesome-all.min.css?1722884363" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/css/fontawesome-all.min.css?1722884363" rel="stylesheet"></noscript>
    <link href="/cc410/css/nucleus.css?1722884363" rel="stylesheet">
    <link href="/cc410/css/auto-complete.css?1722884363" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/css/auto-complete.css?1722884363" rel="stylesheet"></noscript>
    <link href="/cc410/css/perfect-scrollbar.min.css?1722884363" rel="stylesheet">
    <link href="/cc410/css/fonts.css?1722884363" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cc410/css/fonts.css?1722884363" rel="stylesheet"></noscript>
    <link href="/cc410/css/theme.css?1722884363" rel="stylesheet">
    <link href="/cc410/css/theme-auto.css?1722884363" rel="stylesheet" id="R-variant-style">
    <link href="/cc410/css/chroma-auto.css?1722884363" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/cc410/css/variant.css?1722884363" rel="stylesheet">
    <link href="/cc410/css/print.css?1722884363" rel="stylesheet" media="print">
    <link href="/cc410/css/format-print.css?1722884363" rel="stylesheet">
    <script src="/cc410/js/variant.js?1722884363"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cc410';
      window.index_js_url="/cc410/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    
    <link href="/cc410/css/custom.css?1722884363" rel="stylesheet">
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/cc410/i-oop/04-testing/">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/cc410/i-oop/"><span itemprop="name">OOP</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Testing</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/03-documentation/08-summary/" title="Summary (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cc410/i-oop/04-testing/01-introduction/" title="Introduction (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 4</div>

<h1 id="testing">Testing</h1>

<p>Making sure everything works correctly!</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Testing</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="introduction">Introduction</h1>


  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Content Note</div>
  <div class="box-content">

<p>Much of the content in this chapter was adapted from Nathan Bean&rsquo;s <a href="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/04-testing/" rel="external" target="_blank">CIS 400</a> course at K-State, with the author&rsquo;s permission. That content is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external" target="_blank">Creative Commons BY-NC-SA</a> license.</p>
</div>
</div>
<p>A critical part of the software development process is <em>ensuring the software works!</em>  We mentioned earlier that it is possible to logically prove that software works by constructing a state transition table for the program, but once a program reaches a certain size, this strategy becomes less feasible.  Similarly, it is possible to model a program mathematically and construct a theorem that <em>proves</em> it will perform as intended.  But in practice, most software is validated through some form of <em>testing</em>.  This chapter will discuss the process of testing object-oriented systems.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Informal Testing</li>
<li>Formal Testing</li>
<li>Test Plan</li>
<li>Test Framework</li>
<li>Automated Testing</li>
<li>Assertions</li>
<li>Unit Tests</li>
<li>Testing Code Coverage</li>
<li>Regression Testing</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skill to learn in this chapter is how to write unit tests in our chosen language. For Java, we&rsquo;ll be using <a href="https://junit.org/junit5/docs/current/user-guide/" rel="external" target="_blank">JUnit 5</a> to write our tests, and in Python we&rsquo;ll use <a href="https://docs.pytest.org/en/stable/" rel="external" target="_blank">pytest</a> as our test framework. We will also explore using the <a href="http://hamcrest.org/" rel="external" target="_blank">Hamcrest</a> assertion library for both <a href="https://github.com/hamcrest/JavaHamcrest" rel="external" target="_blank">Java</a> and <a href="https://github.com/hamcrest/PyHamcrest" rel="external" target="_blank">Python</a>.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="manual-testing">Manual Testing</h1>


<a href="https://www.youtube.com/watch?v=mFLBP2hW154">YouTube Video</a>

<p><a href="/cc410/i-oop/04-testing/02-manual-testing/video/">Video Materials</a></p>
<p>As you&rsquo;ve developed programs, you&rsquo;ve probably run them, supplied input, and observed if what happened was what you wanted. This process is known as <em>informal testing</em>.  It&rsquo;s informal, because you don&rsquo;t have a set procedure you follow, i.e. what specific inputs to use, and what results to expect.  <em>Formal testing</em> adds that structure.  In a formal test, you would have a written procedure to follow, which specifies <em>exactly</em> what inputs to supply, and what results should be expected.  This written procedure is known as a <em>test plan</em>.</p>
<p>Historically, the test plan was often developed at the same time as the design for the software (but before the actual programming).  The programmers would then build the software to match the design, and the completed software and the test plan would be passed onto a testing team that would follow the step-by-step testing procedures laid out in the testing plan.  When a test failed, they would make a detailed record of the failure, and the software would be sent back to the programmers to fix.</p>
<p>This model of software development has often been referred to as the &ldquo;waterfall model&rdquo; as each task depends on the one before it:</p>
<p><a href="#R-image-1762bb130887c9c1a6f38280a1977189" class="lightbox-link"><img alt="The Waterfall Model of Software Development" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc410/images/4/waterfall.svg" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1762bb130887c9c1a6f38280a1977189"><img alt="The Waterfall Model of Software Development" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc410/images/4/waterfall.svg"></a><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>Unfortunately, as this model is often implemented, the programmers responsible for writing the software are reassigned to other projects as the software moves into the testing phase.  Rather than employ valuable programmers as testers, most companies will hire less expensive workers to carry out the testing.  So either a skeleton crew of programmers is left to fix any errors that are found during the tests, or these are passed back to programmers already deeply involved in a new project.</p>
<p>The costs involved in fixing software errors also grow larger the longer the error exists in the software. The table below comes from a NASA report of software error costs throughout the project life cycle:</p>
<p><a href="#R-image-29a667a7eb41d69b0de4e1154375aff1" class="lightbox-link"><img alt="Comparison of System Cost Factors Excluding Operations" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc410/images/4/costs.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-29a667a7eb41d69b0de4e1154375aff1"><img alt="Comparison of System Cost Factors Excluding Operations" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc410/images/4/costs.png"></a><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p>It is clear from the graph and the paper that the cost to fix a software error grows exponentially if the fix is delayed.  You probably have instances in your own experience that also speak to this - have you ever had a bug in a program you didn&rsquo;t realize was there until your project was nearly complete?  How hard was it to fix, compared to a error you found and fixed right away?</p>
<p>It was realizations like these, along with growing computing power, that led to the development of <em>automated testing</em>, which we&rsquo;ll discuss next.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>File:Waterfall model.svg. (2020, September 9). Wikimedia Commons, the free media repository. Retrieved 16:48, October 21, 2021 from <a href="https://commons.wikimedia.org/w/index.php?title=File:Waterfall_model.svg&oldid=453496509" rel="external" target="_blank">https://commons.wikimedia.org/w/index.php?title=File:Waterfall_model.svg&oldid=453496509</a>.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Jonette M. Stecklein, Jim Dabney, Brandon Dick, Bill Haskins, Randy Lovell, and Gregory Maroney. <a href="https://ntrs.nasa.gov/citations/20100036670" rel="external" target="_blank">&ldquo;Error Cost Escalation Through the Project Life Cycle&rdquo;</a>, NASA, June 19, 2014.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Manual Testing</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="automated-testing">Automated Testing</h1>

<p>Automated testing is the practice of using a program to test another program.  Much as a compiler is a program that translates a program from a higher-order language into a lower-level form, a test program executes a test plan against the program being tested.  And much like you must supply the program to be compiled, for automated testing you must supply the tests that need to be executed. In many ways, the process of writing automated tests is like writing a manual test plan - you are writing instructions of what to try, and what the results should be.  The difference is with a manual test plan, you are writing these instructions for a human.  With an automated test plan, you are writing them for a program.</p>
<p>Automated tests are typically categorized as <em>unit</em>, <em>integration</em>, and <em>system</em> tests:</p>
<ul>
<li><strong>Unit tests</strong> focus on a single unit of code, and test it in isolation from other parts of the code.  In object-oriented programs where code is grouped into objects, these are the units that are tested.  Thus, for each class you would have a corresponding file of unit tests.</li>
<li><strong>Integration</strong> tests focus on the interaction of units working together, and with infrastructure external to the program (i.e. databases, other programs, etc).</li>
<li><strong>System</strong> tests look at the entire program&rsquo;s behavior.</li>
</ul>
<p>The complexity of writing tests scales with each of these categories.  Emphasis is usually put on writing unit tests, especially as the classes they test are written.  By testing these classes early, errors can be located and fixed quickly.</p>
<h2 id="unit-tests">Unit Tests</h2>
<p>In this course, we&rsquo;ll focus on the creation of unit tests to effectively test the software we create. At a minimum, our goal is to write enough tests to achieve a high level of <strong>code coverage</strong> of our program being tested. Recall that code coverage is a measure of the amount of code in a program that is executed by a set of unit tests.</p>
<p>In theory, a good set of unit tests should, at a minimum, execute every line of code in the program at least once. Of course, that doesn&rsquo;t nearly guarantee that the unit tests are sufficient to find all bugs, or even a majority of bugs, but it is a great place to start and make sure that the unit tests are properly testing the entirety of the program.</p>
<p>On the next few pages, we&rsquo;ll discuss how to write unit tests for programs written in both Java and Python. Feel free to only read about the language you are learning, but it might be interesting to see how other languages handle the same idea in different ways.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="writing-junit-tests">Writing JUnit Tests</h1>


<a href="https://www.youtube.com/watch?v=w6rtzfr1jQ4">YouTube Video</a>

<p><a href="/cc410/i-oop/04-testing/04-writing-junit-tests/video/">Video Materials</a></p>
<p>Writing tests is in many ways just as challenging and creative an endeavor as writing programs.  Tests usually consist of invoking some portion of program code, and then using <em>assertions</em> to determine that the actual results match the expected results.  The result of these assertions are typically reported on a per-test basis, which makes it easy to see where your program is not behaving as expected.</p>
<p>Consider a class that is a software control system for a kitchen stove. We won&rsquo;t write the code for the class itself, because it is important for us to be able to write tests that effectively test the code without even seeing it. It might have properties for four burners, which correspond to what heat output they are currently set to.  Let&rsquo;s assume this is as an integer between 0 (off) and 5 (high).  When we first construct this class, we&rsquo;d probably expect them all to be off!  A test to verify that expectation would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StoveTest</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testBurnersShouldBeOffAtInitialization</span><span class="p">(){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Stove</span><span class="w"> </span><span class="n">stove</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Stove</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerOne</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner is not off after initialization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerTwo</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner is not off after initialization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerThree</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner is not off after initialization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerFour</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner is not off after initialization&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>Here we&rsquo;ve written the test using the <a href="https://junit.org/junit5/docs/current/user-guide/" rel="external" target="_blank">JUnit 5</a> test framework, which is one of the most commonly used Java unit testing frameworks today.</p>
<p>Notice that the test is simply a method, defined in a class.  This is very common for test frameworks, which tend to be written using the same programming language the programs they test are written in (which makes it easier for one programmer to write both the code unit and the code to test it).  Above the test method is a method annotation <code>@Test</code> that tells JUnit to use this method as a unit test. Omitting the <code>@Test</code> annotation allows us to build other helper methods within our test classes as needed.  Annotations are a way of supplying metadata within Java code.  This metadata can be used by the compiler and other programs to determine how it works with your code.  In this case, it indicates to the JUnit test runner that this method is a test.</p>
<p>Inside the method, we create an instance of stove, and then use the <code>assertEquals(actual, expected, message)</code> method to determine that the actual and expected values match.  If they do, the assertion is marked as passing, and the test runner will display this pass.  If it fails, the test runner will report the failure, along with details to help find and fix the problem (what value was expected, what it actually was, and which test contained the assertion).</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Install JUnit 5 Parameters Library</div>
  <div class="box-content">

<p>To use the portions listed below, we&rsquo;ll need to modify our <code>build.gradle</code> file to include the following dependencies:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gradle" data-lang="gradle"><span class="line"><span class="cl"><span class="n">dependencies</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Use JUnit Jupiter API for testing.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">testImplementation</span> <span class="s1">&#39;org.junit.jupiter:junit-jupiter-api:5.6.2&#39;</span><span class="o">,</span> <span class="s1">&#39;org.hamcrest:hamcrest:2.2&#39;</span><span class="o">,</span> <span class="s1">&#39;org.junit.jupiter:junit-jupiter-params&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Use JUnit Jupiter Engine for testing.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">testRuntimeOnly</span> <span class="s1">&#39;org.junit.jupiter:junit-jupiter-engine&#39;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// This dependency is used by the application.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">implementation</span> <span class="s1">&#39;com.google.guava:guava:29.0-jre&#39;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div><p>Notice that we added a <code>junit-jupiter-params</code> library.</p>
</div>
</div>
<p>The JUnit framework provides for two kinds of tests, <em>Test</em>, which are written as functions that have no parameters, and <em>ParameterizedTest</em>, which do have parameters.  The values for these parameters are supplied with another annotation, typically <code>@ValueSource</code>.  For example, we might test that when we set a burner to a setting within the valid 0-5 range, it is set to that value:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import static</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions.assertEquals</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.params.ParameterizedTest</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.params.provider.ValueSource</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">StoveTest</span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@ParameterizedTest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@ValueSource</span><span class="p">(</span><span class="n">ints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">2</span><span class="p">,</span><span class="w"> </span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="n">4</span><span class="p">,</span><span class="w"> </span><span class="n">5</span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ShouldBeAbleToSetBurnerOneToValidRange</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">setting</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Stove</span><span class="w"> </span><span class="n">stove</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Stove</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">stove</span><span class="p">.</span><span class="na">setBurnerOne</span><span class="p">(</span><span class="n">setting</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">setting</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerOne</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner does not have expected value&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>The values in the parentheses of the <code>@ValueSource</code> annotation are the values supplied to the parameter list of the parameterized test method.  Thus, this test is actually <em>six</em> tests; each test makes sure that one of the settings is working.  We could have done all six as separate assignments and assertions within a single test method, but using a parameterized test means that if only one of these settings doesn&rsquo;t work, we will see that one test fail while the others pass.  This level of specificity can be very helpful in finding errors.</p>
<p>So far our tests cover the expected behavior of our stove.  But where tests really prove their worth is with the <em>edge cases</em> - those things we as programmers don&rsquo;t anticipate.  For example, what happens if we try setting our range to a setting above 5?  Should it simply clamp at 5?  Should it not change from its current setting?  Or should it shut itself off entirely because its user is clearly a pyromaniac bent on burning down their house? If the specification for our program doesn&rsquo;t say, it is up to us to decide.  Let&rsquo;s say we expect it to be clamped at 5:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@ParameterizedTest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nd">@ValueSource</span><span class="p">(</span><span class="n">ints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">6</span><span class="p">,</span><span class="w"> </span><span class="n">18</span><span class="p">,</span><span class="w"> </span><span class="n">1000000</span><span class="p">})</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">BurnerOneShouldNotExceedFive</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">setting</span><span class="p">){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Stove</span><span class="w"> </span><span class="n">stove</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Stove</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">stove</span><span class="p">.</span><span class="na">setBurnerOne</span><span class="p">(</span><span class="n">setting</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">5</span><span class="p">,</span><span class="w"> </span><span class="n">stove</span><span class="p">.</span><span class="na">getBurnerOne</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Burner does not have expected value&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>Note that we don&rsquo;t need to exhaustively test all numbers above 5 - it is sufficient to provide a representative sample, ideally the first value past 5 (6), and a few others.  Also, now that we have defined our expected behavior, we should make sure the documentation of our BurnerOne property matches it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Sets the value of Burner One.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * Should be an integer between 0 (off) and 5 (high)
</span></span></span><span class="line"><span class="cl"><span class="cm"> * If a value higher than 5 is provided, the burner will be 
</span></span></span><span class="line"><span class="cl"><span class="cm"> * set to 5 instead.
</span></span></span><span class="line"><span class="cl"><span class="cm"> *
</span></span></span><span class="line"><span class="cl"><span class="cm"> * @param value        the value of the burner
</span></span></span><span class="line"><span class="cl"><span class="cm"> */</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setBurnerOne</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">){</span></span></span></code></pre></div><p>This way, other programmers (and ourselves, if we visit this code years later) will know what the expected behavior is.  We&rsquo;d also want to test the other edge cases: i.e. when the burner is set to a negative number.</p>
<p>For a complete guide to parameterized tests in JUnit, including how to use enumerations as a value source, refer to the <a href="https://www.baeldung.com/parameterized-tests-junit-5" rel="external" target="_blank">Guide to JUnit 5 Parameterized Tests</a> from Baeldung.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Edge Cases</div>
  <div class="box-content">

<p>Recognizing and testing for edge cases is a critical aspect of test writing. But it is also a difficult skill to develop, as we have a tendency to focus on expected values and expected use-cases for our software. But most serious errors occur when values outside these expectations are introduced.  Also, remember special values, like <code>Double.POSITIVE_INFINITY</code>, <code>Double.NEGATIVE_INFINITY</code>, and <code>Double.NaN</code>.</p>
</div>
</div>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing JUnit Tests</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="java-assertions">Java Assertions</h1>

<p>Like most testing frameworks, the JUnit framework provides a host of specialized assertions. They are all created as static methods within the <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html" rel="external" target="_blank">Assertions</a> class, and many of them are described in the <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions" rel="external" target="_blank">JUnit 5 User Guide</a>.</p>
<h3 id="boolean-assertions">Boolean Assertions</h3>
<p>For example, JUnit provides two boolean assertions:</p>
<ul>
<li><code>assertTrue(condition)</code> - asserts that the value supplied is <code>true</code></li>
<li><code>assertFalse(condition)</code> - asserts that the value supplied is <code>false</code></li>
</ul>
<p>As with any assertion statements in JUnit, we can also optionally supply a <code>message</code> string as an additional parameter to these assertion statements. That message will be present in the error message when this assertion fails.</p>
<h3 id="equality-assertions">Equality Assertions</h3>
<p>The workhorse of the JUnit assertion library are the <code>assertEquals()</code> and <code>assertNotEquals()</code> methods. That method is overloaded, with implementations that accept many different data types. These are all listed in the <a href="https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html" rel="external" target="_blank">Assertions</a> documentation, but they all follow the same basic form:</p>
<ul>
<li><code>assertEquals(expected, actual)</code></li>
<li><code>assertNotEquals(expected, actual)</code></li>
</ul>
<p>For floating-point values such as the <code>double</code> data type, you can also specify a <code>delta</code> value, such that the values are considered equal as long as their positive difference is less than <code>delta</code></p>
<ul>
<li><code>assertEquals(expected, actual, delta)</code></li>
<li><code>assertNotEquals(expected, actual, delta)</code></li>
</ul>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Floating-Point Arithmetic Error</div>
  <div class="box-content">

<p>Why do we need to include a delta value? This is because floating-point values are by their nature imprecise, and can sometimes lead to strange errors. Consider this example from <a href="https://www.geeksforgeeks.org/rounding-off-errors-java/" rel="external" target="_blank">GeeksforGeeks</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">7</span><span class="p">;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">9</span><span class="p">;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">1</span><span class="p">;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">0</span><span class="p">.</span><span class="na">1</span><span class="p">;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;x = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&#34;y = &#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>While we would expect both <code>x</code> and <code>y</code> to store the same value, they are actually slightly different.</p>
<p><a href="#R-image-03f72f985c6ae22370b9a8f93cfacb99" class="lightbox-link"><img alt="Java Floating Point Error" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc410/images/4/javaerror.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-03f72f985c6ae22370b9a8f93cfacb99"><img alt="Java Floating Point Error" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc410/images/4/javaerror.png"></a></p>
<p>So, we may need to account for this imprecision in our unit tests. We could also rewrite our code to avoid the use of floating point values. For example, many programs that deal with monetary values actually store them as integers based on cents instead of dollars, and simply add the decimal point only when the value is printed.</p>
</div>
</div>
<h3 id="array-assertions">Array Assertions</h3>
<p>JUnit also includes assertions for arrays. These methods are also overloaded to handle many different data types:</p>
<ul>
<li><code>assertArrayEquals(expected, actual)</code></li>
</ul>
<p>This method is really handy when we need to check that the contents of an entire array match the values we expect it to contain.</p>
<p>For lists of strings (<code>List&lt;String&gt;</code> data type), JUnit also includes a special method to confirm that each line matches what is expected.</p>
<ul>
<li><code>assertLinesMatch(expectedLines, actualLines)</code></li>
</ul>
<p>This is very handy for checking that multiple lines of output produced by a program match the expected output.</p>
<h3 id="reference-assertions">Reference Assertions</h3>
<p>JUnit also includes several helpful assertion methods that allow us to determine if two objects are the same actual object in memory (the same reference), as well as if an object is <code>null</code>:</p>
<ul>
<li><code>assertNull(actual)</code></li>
<li><code>assertNotNull(actual)</code></li>
<li><code>assertSame(expected, actual)</code></li>
<li><code>assertNotSame(expected, actual)</code></li>
</ul>
<h3 id="catching-exceptions">Catching Exceptions</h3>
<p>JUnit also includes a special type of assertion that can be used to catch exceptions. This allows us to assert that a particular piece of code being tested should, or should not, throw an exception.</p>
<p>To do this, JUnit uses a <strong>lambda expression</strong>, which we haven&rsquo;t covered yet in this course. We&rsquo;ll discuss lambdas more in a later chapter. Thankfully, the syntax is very simple. Here&rsquo;s an example, taken from the <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions" rel="external" target="_blank">JUnit 5 User Guide</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">void</span><span class="w"> </span><span class="nf">exceptionTesting</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Exception</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assertThrows</span><span class="p">(</span><span class="n">ArithmeticException</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">calculator</span><span class="p">.</span><span class="na">divide</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&#34;/ by zero&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">exception</span><span class="p">.</span><span class="na">getMessage</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>The <code>assertThrows(expectedType, executable)</code> method is used to assert that the <code>calculator.divide()</code> method will throw an exception, specifically an <code>ArithmeticException</code>. If that method call does not throw an exception, then the assertion will fail.</p>
<p>The second argument to the <code>assertThrows()</code> method is a <strong>lambda expression</strong>. In Java, a lambda expression can be thought of as an <strong>anonymous function</strong> - we are defining a block of code that acts like a function, but we&rsquo;re not giving it a name. That allows us to pass that block of code as a parameter to another method, where it can be executed. See <a href="https://en.wikipedia.org/wiki/Anonymous_function" rel="external" target="_blank">Anonymous Function</a> on Wikipedia for a deeper explanation. As we mentioned before, we&rsquo;ll learn more about lambda expressions later in this course.</p>
<p>We can also write code to assert that a method does not throw an exception using the <code>assertDoesNotThrow()</code> assertion:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">void</span><span class="w"> </span><span class="nf">noExceptionTesting</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertDoesNotThrow</span><span class="p">(()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">calculator</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><h3 id="fail">Fail</h3>
<p>JUnit includes one other assertion that is used to simply fail a test:</p>
<ul>
<li><code>fail(message)</code></li>
</ul>
<p>By including the <code>fail()</code> method in our unit test, we can cause a test to fail immediately. This allows us to build conditional statements to test complex values that are difficult to express in the provided assertion methods, and then fail a test if the conditional expression reaches the wrong branch. Here&rsquo;s a quick example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">void</span><span class="w"> </span><span class="nf">testFail</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">calculator</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">calculator</span><span class="p">.</span><span class="na">multiply</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="w"> </span><span class="n">1</span><span class="p">)){</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">fail</span><span class="p">(</span><span class="s">&#34;Commutative property violated!&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><h3 id="checking-output">Checking Output</h3>
<p>One task we may want to be able to perform in our unit tests is capturing output printed by the program. By default, any output that is printed using <code>System.out</code> is immediately sent to the terminal, but we can actually redirect that output without our tests in order to capture it and examine its contents.</p>
<p>We already saw how to do this in the &ldquo;Hello Real World&rdquo; project. Here&rsquo;s that code once again:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Test</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testHelloWorldMain</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">HelloWorld</span><span class="w"> </span><span class="n">hw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HelloWorld</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">PrintStream</span><span class="w"> </span><span class="n">systemOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ByteArrayOutputStream</span><span class="w"> </span><span class="n">testOut</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ByteArrayOutputStream</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">setOut</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">PrintStream</span><span class="p">(</span><span class="n">testOut</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">hw</span><span class="p">.</span><span class="na">main</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="p">{});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">setOut</span><span class="p">(</span><span class="n">systemOut</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">assertEquals</span><span class="p">(</span><span class="n">testOut</span><span class="p">.</span><span class="na">toString</span><span class="p">(),</span><span class="w"> </span><span class="s">&#34;Hello World\n&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;Unexpected Output&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span></span></span></code></pre></div><p>In that code, we start by storing a reference to the existing <code>System.out</code> as a <a href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html" rel="external" target="_blank"><code>java.io.PrintStream</code></a> named <code>systemOut</code>. This will allow us to undo our changes at the end of the test.</p>
<p>Then, we create a new <a href="https://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html" rel="external" target="_blank"><code>java.io.ByteArrayOutputStream</code></a> called <code>testOut</code> to store the output printed to the terminal, and use the <code>System.setOut</code> method to redirect <code>System.out</code> to a new <code>PrintStream</code> based on our <code>testOut</code> stream. So, anything printed using <code>System.out</code> will be sent to that <code>PrintStream</code> and captured in our <code>testOut</code> variable.</p>
<p>Once we&rsquo;ve done those changes, we can then execute our code, calling any functions and including any assertions that we&rsquo;d like to check. When we are finished, we can then reset <code>System.out</code> back to the original reference using the <code>System.setOut(systemOut)</code> line.</p>
<p>Then, to check the output we received, we can use <code>testOut.toString()</code> to get the output it captured as a single string. If multiple lines of output were printed, they would be separated by <code>\n</code> character, so we could use <code>String.split()</code> to split that single string into individual lines if needed.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="java-hamcrest">Java Hamcrest</h1>

<p>We can also choose to use the <a href="http://hamcrest.org/JavaHamcrest/" rel="external" target="_blank">Hamcrest</a> assertion library in our code, either instead of the JUnit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of JUnit, and also includes version for many languages, including both Java and Python. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!</p>
<h3 id="basic-assertions">Basic Assertions</h3>
<p>Hamcrest uses a single basic assertion method called <code>assertThat()</code> to perform all assertions. It comes in two basic forms:</p>
<ul>
<li><code>assertThat(actual, matcher)</code> - asserts that <code>actual</code> passes the <code>matcher</code>.</li>
<li><code>assertThat(message, actual, matcher)</code> - asserts that <code>actual</code> passes the <code>matcher</code>. If not, it will print <code>message</code> as part of the failure.</li>
</ul>
<p>The real power of Hamcrest lies in the use of <a href="http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/Matchers.html" rel="external" target="_blank">Matchers</a>, which are used to determine if the <code>actual</code> value passes a test. If not, then the <code>assertThat</code> method will fail, just like a JUnit assertion.</p>
<p>For example, to test if an actual value returned by a fictional <code>calculator</code> object is equal to an expected value, we could use this statement:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">assertThat</span><span class="p">(</span><span class="n">calculator</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">1</span><span class="p">,</span><span class="w"> </span><span class="n">3</span><span class="p">),</span><span class="w"> </span><span class="n">is</span><span class="p">(</span><span class="n">4</span><span class="p">));</span></span></span></code></pre></div><p>As we can see, reading this statement out loud tells us everything we need to know: &ldquo;Assert that <code>calculator.add(1, 3)</code> is 4!&rdquo;</p>
<p>Here are a few of the most commonly used Hamcrest matchers, as listed in the <a href="http://hamcrest.org/JavaHamcrest/tutorial" rel="external" target="_blank">Hamcrest Tutorial</a>. The full list of matchers can be found in the <a href="http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/Matchers.html" rel="external" target="_blank">Matchers</a> class in the Hamcrest documentation:</p>
<ul>
<li><code>is(expected)</code> - a shortcut for equality - an example of <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" rel="external" target="_blank"><strong>syntactic sugar</strong></a> as discussed below.</li>
<li><code>equalTo(expected)</code> - will call the <code>actual.equals(expected)</code> method to test equality</li>
<li><code>isCompatibleType(type)</code> - can be used to check if an object is the correct type, helpful for testing inheritance</li>
<li><code>nullValue()</code> - check if the value is <code>null</code></li>
<li><code>notNullValue()</code> - check if the value is not <code>null</code></li>
<li><code>sameInstance(expected)</code> - checks if two objects are the same instance</li>
<li><code>hasEntry(entry)</code>, <code>hasKey(key)</code>, <code>hasValue(value)</code> - matchers for working with <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" rel="external" target="_blank">Maps</a> such as <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html" rel="external" target="_blank">HashMaps</a></li>
<li><code>hasItem(item)</code> - matcher for <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" rel="external" target="_blank">Collections</a> such as <a href="https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html" rel="external" target="_blank">LinkedList</a></li>
<li><code>hasItemInArray(item)</code> - matcher for arrays</li>
<li><code>closeTo(expected, delta)</code> - matcher for testing floating-point values within a range</li>
<li><code>greaterThan(expected)</code>, <code>greaterThanOrEqualTo(expected)</code>, <code>lessThan(expected)</code>, <code>lessThanOrEqualTo(expected)</code> - numerical matchers</li>
<li><code>equalToIgnoringCase(expected)</code>, <code>equalToIgnoringWhiteSpace(expected)</code>, <code>containsString(string)</code>, <code>endsWith(string)</code>, <code>startsWith(string)</code> - string matchers</li>
<li><code>allOf(matcher1, matcher2, ...)</code>, <code>anyOf(matcher1, matcher2, ...)</code>, <code>not(matcher)</code> - boolean logic operators used to combine multiple matchers</li>
</ul>
<h3 id="syntactic-sugar">Syntactic Sugar</h3>
<p>Hamcrest includes a helpful matcher called <code>is</code> that makes some assertions more easily readable. For example, each of these assertion statements from the <a href="http://hamcrest.org/JavaHamcrest/tutorial" rel="external" target="_blank">Hamcrest Tutorial</a> all test the same thing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="n">assertThat</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span><span class="w"> </span><span class="n">equalTo</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">));</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">assertThat</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="p">(</span><span class="n">equalTo</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">)));</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">assertThat</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">));</span></span></span></code></pre></div><p>By including the <code>is</code> matcher, we can make our assertions more readable. We call this <em>syntactic sugar</em> since it doesn&rsquo;t add anything new to our language structure, but it can help make it more readable.</p>
<h2 id="examples">Examples</h2>
<p>There are lots of great examples of how to use Hamcrest available on the web. Here are a couple that are worth checking out:</p>
<ul>
<li><a href="https://www.vogella.com/tutorials/Hamcrest/article.html" rel="external" target="_blank">Using Hamcrest for Testing - Tutorial</a> from Vogella</li>
<li><a href="https://www.baeldung.com/java-junit-hamcrest-guide" rel="external" target="_blank">Testing with Hamcrest</a> from Baeldung</li>
</ul>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="writing-pytest-tests">Writing pytest Tests</h1>


<a href="https://www.youtube.com/watch?v=_5txXZHtFkw">YouTube Video</a>

<p><a href="/cc410/i-oop/04-testing/07-writing-pytest-tests/video/">Video Materials</a></p>
<p>Writing tests is in many ways just as challenging and creative an endeavor as writing programs.  Tests usually consist of invoking some portion of program code, and then using <em>assertions</em> to determine that the actual results match the expected results.  The result of these assertions are typically reported on a per-test basis, which makes it easy to see where your program is not behaving as expected.</p>
<p>Consider a class that is a software control system for a kitchen stove. We won&rsquo;t write the code for the class itself, because it is important for us to be able to write tests that effectively test the code without even seeing it. It might have properties for four burners, which correspond to what heat output they are currently set to.  Let&rsquo;s assume this is as an integer between 0 (off) and 5 (high).  When we first construct this class, we&rsquo;d probably expect them all to be off!  A test to verify that expectation would be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">src.hello.Stove</span> <span class="kn">import</span> <span class="n">Stove</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TestStove</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_burners_should_be_off_at_initialization</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">stove</span> <span class="o">=</span> <span class="n">Stove</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_one</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;Burner is not off after initialization&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_two</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;Burner is not off after initialization&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_three</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;Burner is not off after initialization&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_four</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;Burner is not off after initialization&#34;</span></span></span></code></pre></div><p>Here we&rsquo;ve written the test using the <a href="https://docs.pytest.org/en/stable/" rel="external" target="_blank">pytest</a> test framework, which is one of the most commonly used Python unit testing frameworks today.</p>
<p>Notice that the test is simply a method, defined in a class.  This is very common for test frameworks, which tend to be written using the same programming language the programs they test are written in (which makes it easier for one programmer to write both the code unit and the code to test it).  The test method itself is prefixed with <code>test</code>, as well as the file where the test is stored. In addition, the class name also includes the word <code>Test</code>. These naming conventions help pytest find test methods in the code, as described in the <a href="https://docs.pytest.org/en/stable/goodpractices.html#conventions-for-python-test-discovery" rel="external" target="_blank">pytest Guide</a>. Omitting the <code>test</code> prefix in the method name allows us to build other helper methods within our test classes as needed.</p>
<p>Inside the method, we create an instance of stove, and then use the <code>assert</code> statement to determine that the actual and expected values match.  If they do, the assertion is marked as passing, and the test runner will display this pass.  If it fails, the test runner will report the failure, along with details to help find and fix the problem (what value was expected, what it actually was, and which test contained the assertion).</p>
<p>The pytest framework provides for two kinds of tests, <em>standard tests</em>, which are written as functions that have no parameters, and <em>parameterized tests</em>, which do have parameters.  The values for these parameters are supplied with a special method annotation, typically <code>@pytest.mark.parametrize</code>.  For example, we might test that when we set a burner to a setting within the valid 0-5 range, it is set to that value:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">src.hello.Stove</span> <span class="kn">import</span> <span class="n">Stove</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pytest</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">TestStove</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">test_should_be_able_to_set_burner_one_to_valid_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">stove</span> <span class="o">=</span> <span class="n">Stove</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">stove</span><span class="o">.</span><span class="n">burner_one</span> <span class="o">=</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">        <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_one</span> <span class="o">==</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&#34;Burner does not have expected value&#34;</span></span></span></code></pre></div>
  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Spelling</div>
  <div class="box-content">

<p>Note the creative spelling of the <code>@parametrize</code> annotation! Be careful to not misspell it (by spelling it correctly) in your code.</p>
</div>
</div>
<p>The values in the parentheses of the <code>@parametrize</code> annotation are the values supplied to the parameter list of the parameterized test method.  Thus, this test is actually <em>six</em> tests; each test makes sure that one of the settings is working.  We could have done all six as separate assignments and assertions within a single test method, but using a parameterized test means that if only one of these settings doesn&rsquo;t work, we will see that one test fail while the others pass.  This level of specificity can be very helpful in finding errors.</p>
<p>So far our tests cover the expected behavior of our stove.  But where tests really prove their worth is with the <em>edge cases</em> - those things we as programmers don&rsquo;t anticipate.  For example, what happens if we try setting our range to a setting above 5?  Should it simply clamp at 5?  Should it not change from its current setting?  Or should it shut itself off entirely because its user is clearly a pyromaniac bent on burning down their house? If the specification for our program doesn&rsquo;t say, it is up to us to decide.  Let&rsquo;s say we expect it to be clamped at 5:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_burner_one_should_not_exceed_five</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">stove</span> <span class="o">=</span> <span class="n">Stove</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">stove</span><span class="o">.</span><span class="n">burner_one</span> <span class="o">=</span> <span class="n">value</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">stove</span><span class="o">.</span><span class="n">burner_one</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="s2">&#34;Burner does not have expected value&#34;</span></span></span></code></pre></div><p>Note that we don&rsquo;t need to exhaustively test all numbers above 5 - it is sufficient to provide a representative sample, ideally the first value past 5 (6), and a few others.  Also, now that we have defined our expected behavior, we should make sure the documentation of our burner one property matches it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nd">@property</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">burner_one</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;&#34;&#34;Sets the value of Burner One.
</span></span></span><span class="line"><span class="cl"><span class="s2">   
</span></span></span><span class="line"><span class="cl"><span class="s2">   Should be an integer between 0 (off) and 5 (high)
</span></span></span><span class="line"><span class="cl"><span class="s2">   If a value higher than 5 is provided, the burner will be 
</span></span></span><span class="line"><span class="cl"><span class="s2">   set to 5 instead. 
</span></span></span><span class="line"><span class="cl"><span class="s2">   
</span></span></span><span class="line"><span class="cl"><span class="s2">   Args:
</span></span></span><span class="line"><span class="cl"><span class="s2">       value: the value of the burner
</span></span></span><span class="line"><span class="cl"><span class="s2">   &#34;&#34;&#34;</span></span></span></code></pre></div><p>This way, other programmers (and ourselves, if we visit this code years later) will know what the expected behavior is.  We&rsquo;d also want to test the other edge cases: i.e. when the burner is set to a negative number.</p>
<p>For a complete guide to parameterized tests in pyunit, refer to the <a href="https://docs.pytest.org/en/stable/parametrize.html#parametrize-basics" rel="external" target="_blank">pyunit Guide</a>.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Edge Cases</div>
  <div class="box-content">

<p>Recognizing and testing for edge cases is a critical aspect of test writing. But it is also a difficult skill to develop, as we have a tendency to focus on expected values and expected use-cases for our software. But most serious errors occur when values outside these expectations are introduced.  Also, remember special values, like <code>float(&quot;inf&quot;),</code>, <code>float(&quot;-inf&quot;)</code>, and <code>float(&quot;nan&quot;)</code>.</p>
</div>
</div>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing pytest Tests</h1>
    
    
          </section>
    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="python-assertions">Python Assertions</h1>

<p>Unlike many testing frameworks, the pytest framework by default only uses the built-in <code>assert</code> statement in Python. It doesn&rsquo;t include a large number of specialized assertions, and instead relies on the developer to write Boolean logic statements to perform the desired testing. More information can be found in the <a href="https://docs.pytest.org/en/stable/assert.html" rel="external" target="_blank">pytest documentation</a></p>
<p>The pytest framework can leverage the assertions already present in other Python unit testing libraries such as the built-in <a href="https://docs.python.org/3/library/unittest.html" rel="external" target="_blank">unittest</a> library. So, for developers familiar with that approach, those assertions can be used.</p>
<p>For this course, we&rsquo;ll discuss how to use the built-in <code>assert</code> statement, as well as the <a href="https://pyhamcrest.readthedocs.io/en/release-1.8/" rel="external" target="_blank">Hamcrest</a> assertion library.</p>
<h3 id="simple-assertions">Simple Assertions</h3>
<p>In general, an <code>assert</code> statement for pytest includes the following structure:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">assert</span> <span class="o">&lt;</span><span class="n">boolean</span> <span class="n">expression</span><span class="o">&gt;</span></span></span></code></pre></div><p>For example, to test if the variable <code>actual</code> is equal to the variable <code>expected</code>, we would write the following assertion:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span></span></span></code></pre></div><p>We can optionally add an error message describing the assertion, as in this example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span><span class="p">,</span> <span class="s2">&#34;The value returned is incorrect&#34;</span></span></span></code></pre></div><p>This allows us to provide additional information along with the failure. However, by including a message in this way, it may reduce the amount of information that pytest gives us when the test fails. So, we may find it easier to omit these messages, or include them as comments in the code near the assertion, instead of as part of the assertion itself.</p>
<p>Let&rsquo;s look at some examples to see how we can use the <code>assert</code> statement in various ways.</p>
<ul>
<li>Boolean Assertions:
<ul>
<li><code>assert actual == True</code></li>
<li><code>assert actual == False</code></li>
</ul>
</li>
<li>Equality Assertions
<ul>
<li><code>assert acutal == expected</code></li>
<li><code>assert actual != expected</code></li>
</ul>
</li>
<li>Approximate Floating-Point Values
<ul>
<li><code>assert actual == pytest.approx(expected)</code></li>
</ul>
</li>
<li>Reference Assertions
<ul>
<li><code>assert actual is expected</code> - true if both <code>actual</code> and <code>expected</code> are the same object in memory</li>
<li><code>assert actual is None</code> - true if <code>actual</code> is the value <code>None</code></li>
</ul>
</li>
</ul>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Floating-Point Arithmetic Error</div>
  <div class="box-content">

<p>Why do we need to deal with approximate floating-point values? This is because floating-point values are by their nature imprecise, and can sometimes lead to strange errors. Consider this example from <a href="https://www.geeksforgeeks.org/rounding-off-errors-java/" rel="external" target="_blank">GeeksforGeeks</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">a</span> <span class="o">=</span> <span class="mf">0.7</span>
</span></span><span class="line"><span class="cl"><span class="n">b</span> <span class="o">=</span> <span class="mf">0.9</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mf">0.1</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">b</span> <span class="o">-</span> <span class="mf">0.1</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span></span></span></code></pre></div><p>While we would expect both <code>x</code> and <code>y</code> to store the same value, they are actually slightly different.</p>
<p><a href="#R-image-6edf92f7451c76a2fe7454e632a730d3" class="lightbox-link"><img alt="Python Floating Point Error" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cc410/images/4/pythonerror.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6edf92f7451c76a2fe7454e632a730d3"><img alt="Python Floating Point Error" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cc410/images/4/pythonerror.png"></a></p>
<p>So, we may need to account for this imprecision in our unit tests. We could also rewrite our code to avoid the use of floating point values. For example, many programs that deal with monetary values actually store them as integers based on cents instead of dollars, and simply add the decimal point only when the value is printed.</p>
</div>
</div>
<h3 id="catching-exceptions">Catching Exceptions</h3>
<p>The pytest framework also includes a special method that can be used to catch exceptions. This allows us to assert that a particular piece of code being tested should, or should not, throw an exception.</p>
<p>Here&rsquo;s an example, taken from the <a href="https://docs.pytest.org/en/stable/assert.html" rel="external" target="_blank">pytest documentation</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_zero_division</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">calculator</span><span class="o">.</span><span class="n">divide</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></span></span></code></pre></div><p>The <code>with pytest.raises(ZeroDivisionError)</code> statement is used to assert that the <code>calculator.divide()</code> method will throw an exception, specifically a <code>ZeroDivisionError</code>. If that method call does not throw an exception, then the assertion will fail. We can include multiple lines of code within the <code>with</code> block as well.</p>
<h3 id="fail">Fail</h3>
<p>pytest includes one other assertion that is used to simply fail a test:</p>
<ul>
<li><code>fail(message)</code></li>
</ul>
<p>By including the <code>fail()</code> method in our unit test, we can cause a test to fail immediately, such as when we reach a state that should be unreachable.</p>
<h3 id="checking-output">Checking Output</h3>
<p>One task we may want to be able to perform in our unit tests is capturing output printed by the program. By default, any output that is printed using <code>print()</code> is immediately sent to the terminal, but we can actually redirect that output without our tests in order to capture it and examine its contents.</p>
<p>We already saw how to do this in the &ldquo;Hello Real World&rdquo; project. Here&rsquo;s that code once again (with full type annotations):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pytest</span> <span class="kn">import</span> <span class="n">CaptureFixture</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">_pytest.capture</span> <span class="kn">import</span> <span class="n">CaptureResult</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">src.hello.HelloWorld</span> <span class="kn">import</span> <span class="n">HelloWorld</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">test_hello_world</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capsys</span><span class="p">:</span> <span class="n">CaptureFixture</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">HelloWorld</span><span class="o">.</span><span class="n">main</span><span class="p">([</span><span class="s2">&#34;HelloWorld&#34;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">captured</span><span class="p">:</span> <span class="n">CaptureResult</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">capsys</span><span class="o">.</span><span class="n">readouterr</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">assert</span> <span class="n">captured</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="s2">&#34;Hello World</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span> <span class="s2">&#34;Unexpected Output&#34;</span></span></span></code></pre></div><p>In that code, we start by adding a parameter named <code>capsys</code> to the test method declaration. <code>capsys</code> is an example of a <a href="https://docs.pytest.org/en/stable/fixture.html" rel="external" target="_blank">fixture</a> in pytest. Fixtures allow us to do build more advanced test functions. The <code>capsys</code> fixture is described in the <a href="https://docs.pytest.org/en/stable/capture.html" rel="external" target="_blank">pytest documentation</a>.</p>
<p>So, by including that parameter in our test function, we&rsquo;ll gain access to all of the features of the <code>capsys</code> fixture. When we execute our code, we can then use <code>capsys.readouterror()</code> to get a <code>CaptureResult</code> object that contains the text that was output by our program. Then, using <code>captured.out</code>, we can check that text and make sure it matches our expectation in an assertion.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="python-hamcrest">Python Hamcrest</h1>

<p>We can also choose to use the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/" rel="external" target="_blank">Hamcrest</a> assertion library in our code, either instead of the pyunit assertions or in addition to them. Hamcrest includes some very helpful assertions that are not part of pyunit, and also includes version for many languages, including both Python and Java. Most of the autograders in previous Computational Core courses are written with the Hamcrest assertion library!</p>
<h3 id="basic-assertions">Basic Assertions</h3>
<p>Hamcrest uses a single basic assertion method called <code>assert_that()</code> to perform all assertions. It comes in two basic forms:</p>
<ul>
<li><code>assert_that(actual, matcher)</code> - asserts that <code>actual</code> passes the <code>matcher</code>.</li>
<li><code>assert_that(actual, matcher, message)</code> - asserts that <code>actual</code> passes the <code>matcher</code>. If not, it will print <code>message</code> as part of the failure.</li>
</ul>
<p>The real power of Hamcrest lies in the use of <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/library/" rel="external" target="_blank">Matchers</a>, which are used to determine if the <code>actual</code> value passes a test. If not, then the <code>assert_that</code> method will fail, just like a pyunit assertion.</p>
<p>For example, to test if an actual value returned by a fictional <code>calculator</code> object is equal to an expected value, we could use this statement:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">assert_that</span><span class="p">(</span><span class="n">calculator</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">is_</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span></span></span></code></pre></div><p>As we can see, reading this statement out loud tells us everything we need to know: &ldquo;Assert that <code>calculator.add(1, 3)</code> is 4!&rdquo;</p>
<p>Here are a few of the most commonly used Hamcrest matchers, as listed in the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/tutorial/" rel="external" target="_blank">Hamcrest Tutorial</a>. The full list of matchers can be found in the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/library/" rel="external" target="_blank">Matcher Library</a> in the Hamcrest documentation:</p>
<ul>
<li><code>is_(expected)</code> - a shortcut for equality - an example of <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" rel="external" target="_blank"><strong>syntactic sugar</strong></a> as discussed below. Notice the underscore to differentiate it from the Python keyword <code>is</code></li>
<li><code>equal_to(expected)</code> - will call the <code>actual.equals(expected)</code> method to test equality</li>
<li><code>instance_of(type)</code> - can be used to check if an object is the correct type, helpful for testing inheritance</li>
<li><code>none()</code> - check if the value is <code>None</code></li>
<li><code>not_none()</code> - check if the value is not <code>None</code></li>
<li><code>same_instance(expected)</code> - checks if two objects are the same instance</li>
<li><code>has_entry(key, value)</code>, <code>has_key(key)</code>, <code>has_value(value)</code> - matchers for working with mapping types like <a href="https://docs.python.org/3/library/stdtypes.html#typesmapping" rel="external" target="_blank">dictionaries</a></li>
<li><code>has_item(item)</code> - matcher for sequence types like <a href="https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range" rel="external" target="_blank">lists</a></li>
<li><code>close_to(expected, delta)</code> - matcher for testing floating-point values within a range</li>
<li><code>greater_than(expected)</code>, <code>greater_than_or_equal_to(expected)</code>, <code>less_than(expected)</code>, <code>less_than_or_equal_to(expected)</code> - numerical matchers</li>
<li><code>equal_to_ignoring_case(expected)</code>, <code>equal_to_ignoring_whitespace(expected)</code>, <code>cotnains_string(string)</code>, <code>ends_with(string)</code>, <code>starts_with(string)</code> - string matchers</li>
<li><code>all_of(matcher1, matcher2, ...)</code>, <code>any_of(matcher1, matcher2, ...)</code>, <code>is_not(matcher)</code> - boolean logic operators used to combine multiple matchers</li>
</ul>
<h3 id="syntactic-sugar">Syntactic Sugar</h3>
<p>Hamcrest includes a helpful matcher called <code>is_()</code> that makes some assertions more easily readable. For example, each of these assertion statements from the <a href="https://pyhamcrest.readthedocs.io/en/v2.0.2/tutorial/" rel="external" target="_blank">Hamcrest Tutorial</a> all test the same thing:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">assert_that</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span> <span class="n">equal_to</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">assert_that</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span> <span class="n">is_</span><span class="p">(</span><span class="n">equal_to</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"><span class="n">assert_that</span><span class="p">(</span><span class="n">theBiscuit</span><span class="p">,</span> <span class="n">is_</span><span class="p">(</span><span class="n">myBiscuit</span><span class="p">))</span></span></span></code></pre></div><p>By including the <code>is_()</code> matcher, we can make our assertions more readable. We call this <em>syntactic sugar</em> since it doesn&rsquo;t add anything new to our language structure, but it can help make it more readable.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="running-tests">Running Tests</h1>

<p>Once we&rsquo;ve written our unit tests, we can execute them against our code to see how well it works. Tests are usually run with a <em>test runner</em>, a program that will execute the test code against the code to be tested.  The exact mechanism involved depends on the testing framework.</p>
<p>As we discovered in the &ldquo;Hello Real World&rdquo; project, both JUnit and pytest have a way to automatically discover all of the tests we&rsquo;ve created, provided we place them in the correct location and possibly give them the correct name.</p>
<p>Outside of Codio, many integrated development environments, or IDEs, support running unit tests directly through their interface. We won&rsquo;t cover much of that in this class, but it is handy to know that it can be done graphically as well.</p>
<p>Once the test runner is done executing our tests, we&rsquo;ll be given information about the tests which failed. We&rsquo;ve also learned how to create an HTML report that gives us helpful information about our tests and why they failed. So, we can look through that information to determine if our code needs to be updated, or if the test is not testing our code correctly.</p>
<p>Occasionally, you may end up with problems executing your tests. So, as with any development process, it is helpful to work incrementally, and run your tests each time you add or change code. This allows you to catch errors as they happen when the code is fresh in your mind, and it will be that much easier to fix the problem.</p>
<p>It&rsquo;s also a good idea to run all of your previously passed tests anytime you make a change to your code. This practice is known as <em>regression testing</em>, and can help you identify errors your changes introduce that break what had previously been working code.  This is also one of the strongest arguments for writing test code rather than performing ad-hoc testing; automated tests are easy to repeat.</p>
<h2 id="code-coverage">Code Coverage</h2>
<p>The term <em>test code coverage</em> refers to how much of your program&rsquo;s code is executed as your tests run. It is a useful metric for evaluating the <em>depth</em> of your test, if not necessarily the quality.  Basically, if your code is not executed in the test framework, it is not tested in any way. If it is executed, then at least <em>some</em> tests are looking at it.  So aiming for a high code coverage is a good starting point for writing tests.</p>
<p>While test code coverage is a good starting point for evaluating your tests, it is simply a measure of quantity, not quality. It is easily possible for you to have all of your code covered by tests, but still miss errors.  You need to carefully consider the edge cases - those unexpected and unanticipated ways your code might end up being used.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="testing-strategies">Testing Strategies</h1>

<p>Unit testing is a small part of a much larger world of software testing strategies that we can employ in our workflow. On this page, we&rsquo;ll review some of the more common testing strategies that we may come across.</p>
<h2 id="white-box-vs-black-box-testing">White Box vs. Black Box Testing</h2>
<p>First, it is important to differentiate between two different approaches to testing. The <strong>white box</strong> testing approach means that the developer writing the test has full access to the source code, and it is used to verify not just the functionality of a program as it might appear externally, but also that the internal workings of the program are correct.</p>
<p>By having access to the source code, you can take advantage of tools that determine code coverage, and develop tests that are specifically designed to test edge cases or paths found in the code itself.</p>
<p>On the other hand, <strong>black box</strong> testing means that the tester cannot see the source code of the application itself, and can only test it by calling the publicly available methods, sometimes referred to as the <strong>application programming interface</strong> or <strong>API</strong> of the software.</p>
<p>For example, consider testing the code in a library that we didn&rsquo;t develop. We can access the documentation to see what functions it provides and how they should operate, and we can then write tests that verify those functions. This can be helpful to avoid some of the biases that may be introduced by reading the code itself. We could easily look at a line of code and convince ourselves that it is correct, such that we may not adequately test it&rsquo;s functionality.</p>
<p>However, because we won&rsquo;t be able to see the code itself, it can be much harder to test edge cases or unique functionality in the code since we cannot inspect it ourselves. So, we&rsquo;ll have to be a bit more creative and deliberate in developing our test cases.</p>
<h2 id="integration-testing">Integration Testing</h2>
<p>Beyond unit testing, many software programs also undergo <strong>integration testing</strong>, where each individual software component is tested to make sure its interface matches the design specifications, and also that multiple parts of the system work together properly. As programs become larger and larger, it is important to not only test the individual units but the links between those units as well. By creating a well defined interface and performing integration testing, we can ensure that all parts of our program work well together.</p>
<h2 id="regression-testing">Regression Testing</h2>
<p>We&rsquo;ve already discussed this a bit. <strong>Regression testing</strong> involves running our set of tests after a major change in the software, trying to ensure that we didn&rsquo;t introduce any new bugs or break any working features, causing the software to <em>regress</em> in quality.</p>
<p>This can be really important if we plan on developing a new version of our program that remains compatible with previous versions. In that case, we may end up developing an entirely new suite of tests for our new version, while still using the previous version&rsquo;s tests as a form of regression testing to ensure compatibility. As the software matures and new versions are released, maintaining backwards compatibility can be a major challenge.</p>
<h2 id="acceptance-testing">Acceptance Testing</h2>
<p>Once the software is complete, a final phase of testing is the <strong>acceptance testing</strong>, where the software is tested by the eventual end user to confirm that it meets their needs. Acceptance testing could include phases such as <strong>alpha testing</strong> and <strong>beta testing</strong>, where incomplete versions of the software are tested by potential users to identify bugs. This is very common today in video game development.</p>
<h2 id="test-driven-development">Test-Driven Development</h2>
<p>Finally, one important concept in the world of software development is the <strong>test-driven development</strong> methodology. In contrast to more traditional software development methodologies where the software is developed and then tested, test-driven development requires that software tests be written first, and then the software itself is written to pass the tests. Through this method, if we adequately write our tests to match the requirements of the software, we can be sure that our software actually does what it should if it passes the tests.</p>
<p>This can be quite tricky, since writing tests can be much more complex than writing the actual software, and in some cases it is important to understand how the software itself will be structured before the tests can be effectively written.</p>
<h3 id="further-reading">Further Reading</h3>
<p>For more information about the world of software testing, check out the <a href="https://en.wikipedia.org/wiki/Software_testing" rel="external" target="_blank">Software Testing</a> article on Wikipedia, as well as the many articles linked from that page.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>

<h1 id="summary">Summary</h1>

<p>In this chapter we learned about testing, both manually using test plans and automatically using a testing framework. We saw how the cost of fixing errors rises exponentially with how long they go undiscovered. We discussed how writing automated tests during the programming phase can help uncover these errors earlier, and how regression testing can help us find new errors introduced while adding to our programs.</p>
<p>We learned a bit more about the testing frameworks we have available to us in our chosen programming language and how to use them. And finally, we discussed some more advanced topics related to software testing.</p>
<h2 id="review-quiz">Review Quiz</h2>
<p>Check your understanding of the new content introduced in this chapter below - this quiz is not graded and you can retake it as many times as you want.</p>






<i>Quizdown quiz omitted from print view.</i>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>

          </section>
        </div>
      </main>
    
<div class="git-footer">
  <p class="theme-version-footer">6.0.0</p>
  <p>Last modified by: 
              <i class='fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cc410/commit/2512e31ed7413085fb2b6a90abb854c5d1e43258">Aug 10, 2023</a>
  </p>
  </div>
  
    
    </div>
    <script src="/cc410/js/clipboard.min.js?1722884363" defer></script>
    <script src="/cc410/js/perfect-scrollbar.min.js?1722884363" defer></script>
    <script src="/cc410/js/theme.js?1722884363" defer></script>
  </body>
</html>
