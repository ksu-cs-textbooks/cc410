




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 410 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Writing JUnit Tests :: CC 410 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/index.html" rel="canonical" type="text/html" title="Writing JUnit Tests :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/index.xml" rel="alternate" type="application/rss+xml" title="Writing JUnit Tests :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/tele.html" rel="alternate" type="text/html" title="Writing JUnit Tests :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/embed.html" rel="alternate" type="text/html" title="Writing JUnit Tests :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/images/favicon.ico?1691701595" rel="icon" type="image/x-icon" sizes="any">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/nucleus.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/perfect-scrollbar.min.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme-auto.css?1691701674" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/variant.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/print.css?1691701674" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/format-print.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/ie.css?1691701674" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/url.js?1691701674"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/variant.js?1691701674"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc410/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc410/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc410/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/custom.css?1691701674" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/index.html"><span itemprop="name">CC 410 - Advanced Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/i-oop/index.html"><span itemprop="name">OOP</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/index.html"><span itemprop="name">Testing</span></a><meta itemprop="position" content="3"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Writing JUnit Tests</span><meta itemprop="position" content="4"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="writing-junit-tests">Writing JUnit Tests</h1>

<p><a href="https://www.youtube.com/watch?v=w6rtzfr1jQ4">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/video/">Video Materials</a>
</p>
<p>Writing tests is in many ways just as challenging and creative an endeavor as writing programs.  Tests usually consist of invoking some portion of program code, and then using <em>assertions</em> to determine that the actual results match the expected results.  The result of these assertions are typically reported on a per-test basis, which makes it easy to see where your program is not behaving as expected.</p>
<p>Consider a class that is a software control system for a kitchen stove. We won&rsquo;t write the code for the class itself, because it is important for us to be able to write tests that effectively test the code without even seeing it. It might have properties for four burners, which correspond to what heat output they are currently set to.  Let&rsquo;s assume this is as an integer between 0 (off) and 5 (high).  When we first construct this class, we&rsquo;d probably expect them all to be off!  A test to verify that expectation would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StoveTest</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Test</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testBurnersShouldBeOffAtInitialization</span><span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>        Stove stove <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stove<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>0<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerOne</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner is not off after initialization&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>0<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerTwo</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner is not off after initialization&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>0<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerThree</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner is not off after initialization&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>0<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerFour</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner is not off after initialization&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Here we&rsquo;ve written the test using the <a href="https://junit.org/junit5/docs/current/user-guide/" target="_blank">JUnit 5</a>
 test framework, which is one of the most commonly used Java unit testing frameworks today.</p>
<p>Notice that the test is simply a method, defined in a class.  This is very common for test frameworks, which tend to be written using the same programming language the programs they test are written in (which makes it easier for one programmer to write both the code unit and the code to test it).  Above the test method is a method annotation <code>@Test</code> that tells JUnit to use this method as a unit test. Omitting the <code>@Test</code> annotation allows us to build other helper methods within our test classes as needed.  Annotations are a way of supplying metadata within Java code.  This metadata can be used by the compiler and other programs to determine how it works with your code.  In this case, it indicates to the JUnit test runner that this method is a test.</p>
<p>Inside the method, we create an instance of stove, and then use the <code>assertEquals(actual, expected, message)</code> method to determine that the actual and expected values match.  If they do, the assertion is marked as passing, and the test runner will display this pass.  If it fails, the test runner will report the failure, along with details to help find and fix the problem (what value was expected, what it actually was, and which test contained the assertion).</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Install JUnit 5 Parameters Library</div>
  <div class="box-content">

<p>To use the portions listed below, we&rsquo;ll need to modify our <code>build.gradle</code> file to include the following dependencies:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gradle" data-lang="gradle"><span style="display:flex;"><span>dependencies <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Use JUnit Jupiter API for testing.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    testImplementation <span style="color:#e6db74">&#39;org.junit.jupiter:junit-jupiter-api:5.6.2&#39;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#39;org.hamcrest:hamcrest:2.2&#39;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#39;org.junit.jupiter:junit-jupiter-params&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Use JUnit Jupiter Engine for testing.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    testRuntimeOnly <span style="color:#e6db74">&#39;org.junit.jupiter:junit-jupiter-engine&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// This dependency is used by the application.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    implementation <span style="color:#e6db74">&#39;com.google.guava:guava:29.0-jre&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Notice that we added a <code>junit-jupiter-params</code> library.</p>
</div>
</div>
<p>The JUnit framework provides for two kinds of tests, <em>Test</em>, which are written as functions that have no parameters, and <em>ParameterizedTest</em>, which do have parameters.  The values for these parameters are supplied with another annotation, typically <code>@ValueSource</code>.  For example, we might test that when we set a burner to a setting within the valid 0-5 range, it is set to that value:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import static</span> org.junit.jupiter.api.Assertions.assertEquals<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.api.Test<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.params.ParameterizedTest<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.junit.jupiter.params.provider.ValueSource<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StoveTest</span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@ParameterizedTest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@ValueSource</span><span style="color:#f92672">(</span>ints <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>0<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">})</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ShouldBeAbleToSetBurnerOneToValidRange</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> setting<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>        Stove stove <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stove<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        stove<span style="color:#f92672">.</span><span style="color:#a6e22e">setBurnerOne</span><span style="color:#f92672">(</span>setting<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        assertEquals<span style="color:#f92672">(</span>setting<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerOne</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner does not have expected value&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>The values in the parentheses of the <code>@ValueSource</code> annotation are the values supplied to the parameter list of the parameterized test method.  Thus, this test is actually <em>six</em> tests; each test makes sure that one of the settings is working.  We could have done all six as separate assignments and assertions within a single test method, but using a parameterized test means that if only one of these settings doesn&rsquo;t work, we will see that one test fail while the others pass.  This level of specificity can be very helpful in finding errors.</p>
<p>So far our tests cover the expected behavior of our stove.  But where tests really prove their worth is with the <em>edge cases</em> - those things we as programmers don&rsquo;t anticipate.  For example, what happens if we try setting our range to a setting above 5?  Should it simply clamp at 5?  Should it not change from its current setting?  Or should it shut itself off entirely because its user is clearly a pyromaniac bent on burning down their house? If the specification for our program doesn&rsquo;t say, it is up to us to decide.  Let&rsquo;s say we expect it to be clamped at 5:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@ParameterizedTest</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@ValueSource</span><span style="color:#f92672">(</span>ints <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>6<span style="color:#f92672">,</span> 18<span style="color:#f92672">,</span> 1000000<span style="color:#f92672">})</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">BurnerOneShouldNotExceedFive</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> setting<span style="color:#f92672">){</span>
</span></span><span style="display:flex;"><span>    Stove stove <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Stove<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    stove<span style="color:#f92672">.</span><span style="color:#a6e22e">setBurnerOne</span><span style="color:#f92672">(</span>setting<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    assertEquals<span style="color:#f92672">(</span>5<span style="color:#f92672">,</span> stove<span style="color:#f92672">.</span><span style="color:#a6e22e">getBurnerOne</span><span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;Burner does not have expected value&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span></span></span></code></pre></div><p>Note that we don&rsquo;t need to exhaustively test all numbers above 5 - it is sufficient to provide a representative sample, ideally the first value past 5 (6), and a few others.  Also, now that we have defined our expected behavior, we should make sure the documentation of our BurnerOne property matches it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Sets the value of Burner One.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Should be an integer between 0 (off) and 5 (high)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * If a value higher than 5 is provided, the burner will be 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * set to 5 instead.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * @param value        the value of the burner
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBurnerOne</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> value<span style="color:#f92672">){</span></span></span></code></pre></div><p>This way, other programmers (and ourselves, if we visit this code years later) will know what the expected behavior is.  We&rsquo;d also want to test the other edge cases: i.e. when the burner is set to a negative number.</p>
<p>For a complete guide to parameterized tests in JUnit, including how to use enumerations as a value source, refer to the <a href="https://www.baeldung.com/parameterized-tests-junit-5" target="_blank">Guide to JUnit 5 Parameterized Tests</a>
 from Baeldung.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Edge Cases</div>
  <div class="box-content">

<p>Recognizing and testing for edge cases is a critical aspect of test writing. But it is also a difficult skill to develop, as we have a tendency to focus on expected values and expected use-cases for our software. But most serious errors occur when values outside these expectations are introduced.  Also, remember special values, like <code>Double.POSITIVE_INFINITY</code>, <code>Double.NEGATIVE_INFINITY</code>, and <code>Double.NaN</code>.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Writing JUnit Tests</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="junit">JUnit</h1>


<a href="https://www.youtube.com/watch?v=w6rtzfr1jQ4">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cc410/i-oop/04-testing/04-writing-junit-tests/video/slides/" target="_blank">Slides</a></li>
</ul>
<h4 id="video-script">Video Script</h4>
<p>For the Java programming language, we&rsquo;re going to use the JUnit test framework to develop our unit tests. JUnit is one of the most popular unit test frameworks for Java today, and it is very easy to use. On this slide, we have a simple JUnit test that could be used to test the <code>Square</code> class we introduced in an earlier chapter. First, we have to import a few items from the JUnit library. While we normally could do this with a wildcard import that contains an asterisk, the Google Style guide requires us to import each class explicitly, so that&rsquo;s what we&rsquo;ll do here. Test methods are annotated using the <code>@Test</code> method decorator. This works very similar to the <code>@Override</code> decorator we&rsquo;re already familiar with - it just tells JUnit that this method should be treated like a unit test. Typically, we name our test methods with very descriptive names, as that method name is the first thing we&rsquo;ll see when a test fails. If the method name is descriptive enough, we&rsquo;ll know exactly what test failed. Then, inside the test, we execute our code, and use one or more assertion statements to verify that the output produced is correct. In this case, we are using the constructor to instantiate a new Square object, and then checking to make sure it sets the <code>length</code> attribute properly. While this may seem obvious, tests like this one are very important - if we aren&rsquo;t sure that the class sets its attributes correctly, then many of our later tests will also fail.</p>
<p>Of course, at some point we may want to write a test that runs the same code with multiple inputs. For that, we&rsquo;ll want to use a Parameterized Test. To use parameterized tests in JUnit, we&rsquo;ll need to add that library to our <code>build.gradle</code> file. Don&rsquo;t worry, this is included in the Example project as well, so you&rsquo;ll be able to find it there when you need it.</p>
<p>Once we&rsquo;ve installed that library, we can write a parameterized unit test as shown in this example. Instead of the <code>@Test</code> decorator, we use the <code>@ParameterizedTest</code> decorator, and we add a second decorator called <code>@ValueSource</code> that lists the values we&rsquo;d like to use. By default, JUnit allows us to use any primitive data type here, as well as strings. For more complex types, the textbook also describes the <code>@CsvSource</code> decorator that can be used instead. When our test is executed, this test method will be called multiple times, once for each entry in the <code>@ValueSource</code> list. That entry will be provided to the method as a parameter, and then we can use that parameter in our code. In this case, the code will construct multiple different <code>Square</code> objects and make sure that they all are constructed correctly.</p>
<p>JUnit includes many different assertions that we can use, some of which are listed here on this slide. We can quickly assert that a particular value is true or false, or that two values are equal or not equal. There are special assertions for dealing with arrays and lines of output, and we can also use assertions to make sure that values are either <code>null</code> or <code>not null</code>, as well as confirming that two objects are actually the same instance or not. This is useful when we want to make sure our code is returning the exact object we want, and not a copy.</p>
<p>Let&rsquo;s look at two more advanced used of JUnit. First, we can write a JUnit test to check that a particular piece of code throws an exception. This is really useful, as many times we want to test our code in ways that should cause it to break, and we want to confirm that it throws the correct exceptions in those cases. For JUnit, we use the <code>assertThrows</code> assertion. However, it is made more complex because the second argument to that assertion has to be an <code>Executable</code> item. We&rsquo;ve not covered this yet in this course, but we can easily create an <code>Executable</code> using a lambda expression as seen here. We include a set of parentheses, followed by an arrow and the function call we&rsquo;d like to check. This is, in effect, creating an anonymous function that can be passed as an argument to another function. So, when that code is executed, the assertion will confirm that it throws the correct exception.</p>
<p>The other useful thing we can do in JUnit is check the output a program prints to the terminal. By default, that output would still be printed to the terminal even if we are running a unit test, so we need a way to capture it. We do that by creating a different output stream that can be used to replace the default <code>System.out</code> stream that we normally use. Lines 2-4 of this function perform that operation. Then, we can execute our code, which will capture any output it produces in our output stream. Below that, we reset the <code>System.out</code> output stream back to what it was, and then finally we can examine the data we captured using an assertion. It looks a bit complex, but it is actually quite simple once we walk through it.</p>
<p>That&rsquo;s a quick overview of some of the ways we can use JUnit in our code. In the example project for this module, we&rsquo;ll write a few unit tests of our own to get some more experience with this topic. I also encourage you to check out the official JUnit documentation, as well as any other tutorials and resources we&rsquo;ve linked throughout the textbook.</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of JUnit</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id=""></h1>

<section>
    <h3>JUnit Tests</h3>
    <pre class="stretch"><code>import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;<br>
public class SquareTest{<br>
    &commat;Test
    public void testSquareConstructorShouldSetLength(){
        Square square = new Square(2.0);
        assertEquals(2.0, square.getLength());
    }
}</code></pre>
</section>
<section>
    <h3>Install Parameters Library</h3>
    <pre class="stretch java"><code style="font-size: 37px">dependencies {
    // Use JUnit Jupiter API for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.2', 
        'org.hamcrest:hamcrest:2.2', 
        'org.junit.jupiter:junit-jupiter-params'<br>
    // Use JUnit Jupiter Engine for testing.
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'<br>
    // This dependency is used by the application.
    implementation 'com.google.guava:guava:29.0-jre'
}</code></pre>
</section>
<section>
    <h3>JUnit Parameterized Tests</h3>
    <pre class="stretch"><code style="font-size: 38px">import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;<br>
public class StoveTest{<br>
    @ParameterizedTest
    @ValueSource(doubles = {1.0, 2.1, 3.2, 4.3, 5.9})
    public void SetSquareLengthToPositiveValue(double setting){
        Square square = new Square(setting);
        assertEquals(setting, square.getLength());
    }
}</code></pre>
</section>
<section>
    <h3>JUnit Assertions</h3>
    <ul>
        <li>assertTrue | assertFalse</li>
        <li>assertEquals | assertNotEquals</li>
        <li>assertArrayEquals</li>
        <li>assertLinesMatch</li>
        <li>assertNull | assertNotNull</li>
        <li>assertSame | assertNotSame</li>
    </ul>
</section>
<section>
    <h3>Catching Exceptions</h3>
    <pre class="stretch java"><code>@Test
void exceptionTesting() {
    Exception exception = assertThrows(
        IllegalArgumentException.class, 
        () -> new Square(-1.0));
    assertEquals("Length cannot be negative", 
        exception.getMessage());
}</code></pre>
</section>
<section>
    <h3>Checking Output</h3>
    <pre class="stretch java"><code style="font-size: 38px">@Test 
public void testHelloWorldMain() {
    HelloWorld hw = new HelloWorld();<br>
    final PrintStream systemOut = System.out;
    ByteArrayOutputStream testOut = new ByteArrayOutputStream();
    System.setOut(new PrintStream(testOut));<br>
    hw.main(new String[]{});<br>
    System.setOut(systemOut);<br>
    assertEquals(testOut.toString(), "Hello World\n");
}</code></pre>
</section>

            <footer class="footline">

            </footer>
          </article>

          </section>
          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/410/generic/textbook/-/commit/03ba252e18ed587e51ea2500ba8f3e984dbfd525">Jul 8, 2022</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/clipboard.min.js?1691701675" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/perfect-scrollbar.min.js?1691701675" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/theme.js?1691701675" defer></script>
  </body>
</html>
