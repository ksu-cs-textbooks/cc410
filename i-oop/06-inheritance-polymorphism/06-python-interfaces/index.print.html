




	
	
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		

	
	
		

	
	
		
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="CC 410 Textbook">
    <meta name="author" content="Russell Feldhausen">
    <title>Python Interfaces :: CC 410 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/index.html" rel="canonical" type="text/html" title="Python Interfaces :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/index.xml" rel="alternate" type="application/rss+xml" title="Python Interfaces :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/tele.html" rel="alternate" type="text/html" title="Python Interfaces :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/embed.html" rel="alternate" type="text/html" title="Python Interfaces :: CC 410 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cc410/images/favicon.ico?1691701595" rel="icon" type="image/x-icon" sizes="any">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fontawesome-all.min.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/nucleus.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/auto-complete.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/perfect-scrollbar.min.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1691701674" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cc410/css/fonts.css?1691701674" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/theme-auto.css?1691701674" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/variant.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/print.css?1691701674" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/format-print.css?1691701674" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/ie.css?1691701674" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/url.js?1691701674"></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/variant.js?1691701674"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cc410/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cc410/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cc410/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cc410/css/custom.css?1691701674" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/index.html"><span itemprop="name">CC 410 - Advanced Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/i-oop/index.html"><span itemprop="name">OOP</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/index.html"><span itemprop="name">Inheritance &amp; Polymorphism</span></a><meta itemprop="position" content="3"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Python Interfaces</span><meta itemprop="position" content="4"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="python-interfaces">Python Interfaces</h1>

<p><a href="https://www.youtube.com/watch?v=kTLQbt3hseI">YouTube Video</a></p>
<p><a href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/video/">Video Materials</a>
</p>
<p>The Python programming language doesn&rsquo;t include direct support for interfaces in the same way as other object-oriented programming languages. However, it is possible to construct the same functionality in Python with just a little bit of work. For the full context, check out <a href="https://realpython.com/python-interface/#using-abstract-method-declaration" target="_blank">Implementing in Interface in Python</a>
 from Real Python. It includes a much deeper discussion of the different aspects of this code and why we use it.</p>
<h2 id="formal-python-interface">Formal Python Interface</h2>
<p>To create an interface in Python, we will create a class that includes several different elements. Let&rsquo;s look at an example for a <code>MyCollection</code> interface that we could create, which can be used for a wide variety of collection classes like lists, stacks, and queues:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> abc
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IMyCollection</span>(metaclass<span style="color:#f92672">=</span>abc<span style="color:#f92672">.</span>ABCMeta):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__subclasshook__</span>(cls, subclass: type) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> cls <span style="color:#f92672">is</span> IMyCollection:
</span></span><span style="display:flex;"><span>            attrs: List[str] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;size&#39;</span>, <span style="color:#e6db74">&#39;empty&#39;</span>]
</span></span><span style="display:flex;"><span>            callables: List[str] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;add&#39;</span>, <span style="color:#e6db74">&#39;remove&#39;</span>, <span style="color:#e6db74">&#39;get&#39;</span>, <span style="color:#e6db74">&#39;contains&#39;</span>]
</span></span><span style="display:flex;"><span>            ret: bool <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> attr <span style="color:#f92672">in</span> attrs:
</span></span><span style="display:flex;"><span>                ret <span style="color:#f92672">=</span> ret <span style="color:#f92672">and</span> (hasattr(subclass, attr) 
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">and</span> isinstance(getattr(subclass, attr), property))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> call <span style="color:#f92672">in</span> callables:
</span></span><span style="display:flex;"><span>                ret <span style="color:#f92672">=</span> ret <span style="color:#f92672">and</span> (hasattr(subclass, call) 
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">and</span> callable(getattr(subclass, call)))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> ret
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">size</span>(self) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">empty</span>(self) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(self, o: object) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">remove</span>(self, i: int) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get</span>(self, i: int) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">contains</span>(self, o: object) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span></span></span></code></pre></div><p>This code includes quite a few interesting elements. Let&rsquo;s review each of them:</p>
<ul>
<li>First, we import the <code>abc</code> library, which as you may recall is the library for Abstract Base Classes.</li>
<li>We&rsquo;re also importing the <code>List</code> class from the <code>typing</code> library to assist with some type checking.</li>
<li>In the class definition for our <code>IMyCollection</code> class, we are listing the <code>abc.ABCMeta</code> class as the <strong>metaclass</strong> for this class. This allows Python to perform some analysis on the code itself. You can read more about <a href="https://realpython.com/python-metaclasses/" target="_blank">Python Metaclasses</a>
 from Real Python.</li>
<li>Inside of the class, we are overriding one class method, <code>__subclasshook__</code>. This method is used to determine if a given class properly implements this interface. When we use the Python <code>issubclass</code> method, it will call this method behind the scenes. See below for a discussion of what that method does.</li>
<li>Then, each property and method in the interface is implemented as an abstract method using the <code>@abc.abstractmethod</code> decorator. Those methods simply raise a <code>NotImplementedError</code>, which enforces any class implementing this interface to provide implementations for each of these methods. Otherwise, the Python interpreter will raise that error for us.</li>
</ul>
<h3 id="subclasshook-method">Subclasshook Method</h3>
<p>The <code>__subclasshook__</code> method in our interface class above performs a task that is normally handled automatically for us in many other programming languages. However, since Python is dynamically typed, we will want to override this method to help us determine if any given object is compatible with this interface. This method uses a couple of <strong>metaprogramming</strong> methods in Python.</p>
<p>First, we must check and make sure the class that this method is being called on, <code>cls</code>, is our interface class. If not, we&rsquo;ll need to return <code>NotImplemented</code> so Python will continue to use the normal methods for checking type.^[See https://stackoverflow.com/questions/40764347/python-subclasscheck-subclasshook for details]</p>
<p>Then, we see two lists of strings named <code>attrs</code> and <code>callables</code>. The <code>attrs</code> list is a list of all of the Python properties that should be part of our interface - in this case it should have a <code>size</code> and <code>empty</code> property. The <code>callables</code> list is a list of all the callable methods other than properties. So, our <code>IMyCollection</code> class will include <code>add</code>, <code>remove</code>, <code>get</code>, and <code>contains</code> methods.</p>
<p>Below that, we find two <code>for</code> loops. The first loop will check that the given class, stored in the <code>subclass</code>, contains properties for each item listed in the <code>attrs</code> list. It first uses the <code>hasattr</code> metaprogramming method to determine that the class has an attribute with that name, and then uses the <code>isinstance</code> method along with the <code>getattr</code> method to make sure that attribute is an instance of a Python property.</p>
<p>Similarly, the second <code>for</code> loop does the same process for the methods listed in the <code>callables</code> list. Instead of using <code>isinstance</code>, we use the <code>callable</code> method to make sure that the attribute is a callable method.</p>
<p>This method is a little complex, but it is a good look into how the compiler or interpreter for other object-oriented languages performs the task of making sure a class properly implements an interface. For our use, we can just copy-paste this code into any interface we create, and then update the <code>attrs</code> and <code>callables</code> lists as needed.</p>
<h2 id="a-second-interface">A Second Interface</h2>
<p>Let&rsquo;s look at one more formal Python interface, this time for a stack:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> abc
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IMyStack</span>(metaclass<span style="color:#f92672">=</span>abc<span style="color:#f92672">.</span>ABCMeta):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__subclasshook__</span>(cls, subclass: type) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> cls <span style="color:#f92672">is</span> IMyStack:
</span></span><span style="display:flex;"><span>            attrs: List[str] <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>            callables: List[str] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;push&#39;</span>, <span style="color:#e6db74">&#39;pop&#39;</span>, <span style="color:#e6db74">&#39;peek&#39;</span>]
</span></span><span style="display:flex;"><span>            ret: bool <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> attr <span style="color:#f92672">in</span> attrs:
</span></span><span style="display:flex;"><span>                ret <span style="color:#f92672">=</span> ret <span style="color:#f92672">and</span> (hasattr(subclass, attr) 
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">and</span> isinstance(getattr(subclass, attr), property))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> call <span style="color:#f92672">in</span> callables:
</span></span><span style="display:flex;"><span>                ret <span style="color:#f92672">=</span> ret <span style="color:#f92672">and</span> (hasattr(subclass, call) 
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">and</span> callable(getattr(subclass, call)))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> ret
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> NotImplemented
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">push</span>(self, o: object) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pop</span>(self) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@abc</span><span style="color:#f92672">.</span>abstractmethod
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">peek</span>(self) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NotImplementedError</span></span></span></code></pre></div><p>This is a simpler interface which simply defines methods for <code>push</code>, <code>pop</code>, and <code>peek</code>.</p>
<h2 id="implementing-interfaces">Implementing Interfaces</h2>
<p>Once we&rsquo;ve created an interface, we can then create a class that <strong>implements</strong> that interface. Any class that implements an interface must provide an implementation for all methods defined in the interface.</p>
<p>For example, we can create a <code>MyList</code> class that implements the <code>IMyCollection</code> interface defined above, as shown in this example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyList</span>(IMyCollection):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__list: List[object] <span style="color:#f92672">=</span> list()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__size: int <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">size</span>(self) <span style="color:#f92672">-&gt;</span> int:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__size
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">empty</span>(self) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__size <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(self, o: object) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__list<span style="color:#f92672">.</span>append(o)
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__size <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">remove</span>(self, i: int) <span style="color:#f92672">-&gt;</span> bool:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">del</span> self<span style="color:#f92672">.</span>__list[i]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get</span>(self, i: int) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__list[i]
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">contains</span>(self, o: object) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> obj <span style="color:#f92672">in</span> self<span style="color:#f92672">.</span>__list:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> obj <span style="color:#f92672">==</span> o:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span></span></span></code></pre></div><p>Notice that we include the interface class in parentheses as part of the class declaration, which will tell Python the interface that we are implementing in this class. Then, in the class, we include implementations for each method defined in the <code>IMyCollection</code> interface. Those implementations are simple and full of bugs, but they give us a good idea of what an implementation of an interface could look like. We can also include more attributes and a constructor, as well as additional methods as needed.</p>
<h2 id="multiple-inheritance">Multiple Inheritance</h2>
<p>Python also allows a class to implement more than one interface. This is a special type of inheritance called <strong>multiple inheritance</strong>. Any class that implements multiple interfaces must provide an implementation for every method defined in each of the interfaces it implements.</p>
<p>For example, we can create a special <code>MyListStack</code> class that implements both the <code>IMyCollection</code> and <code>IMyStack</code> interfaces we defined above:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> typing <span style="color:#f92672">import</span> List
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyListStack</span>(IMyCollection, IMyStack):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># include all of the code from the MyList class</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">push</span>(self, o: object) <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>add(o)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">pop</span>(self) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        out <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>__list[self<span style="color:#f92672">.</span>__size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>remove(self<span style="color:#f92672">.</span>__size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> out
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">peek</span>(self) <span style="color:#f92672">-&gt;</span> object:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__list[self<span style="color:#f92672">.</span>__size <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]</span></span></code></pre></div><p>To implement multiple interfaces, we can simply list them inside of the parentheses as part of the class definition, separated by a comma.</p>
<h2 id="interfaces-as-types">Interfaces as Types</h2>
<p>Finally, recall from the previous page that we can treat any interface as a data type, so we can treat classes that implement the same interface in the same way. Here&rsquo;s an example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>collects: List[IMyCollection] <span style="color:#f92672">=</span> list()
</span></span><span style="display:flex;"><span>collects<span style="color:#f92672">.</span>append(MyList())
</span></span><span style="display:flex;"><span>collects<span style="color:#f92672">.</span>append(MyListStack())
</span></span><span style="display:flex;"><span>collects[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#34;String&#34;</span>)
</span></span><span style="display:flex;"><span>collects[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>add(<span style="color:#e6db74">&#34;Hello&#34;</span>)</span></span></code></pre></div><p>However, it is important to remember that, because the second element in the <code>collects</code> array is an instance of the <code>MyListStack</code> class, we can also access the <code>push</code> and <code>pop</code> methods directly. This is because Python uses dynamic typing and duck typing, so as long as the object supports those methods, we can use them. Put another way, if the object is able to receive those messages, we can pass them to the object.</p>
<p>There are two special methods we can use to determine the type of an object in Python.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> isinstance(collects[<span style="color:#ae81ff">1</span>], MyListStack):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># do something</span></span></span></code></pre></div><p>The <code>isinstance</code> method in Python is used to determine if an object is an instance of a given class.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> issubclass(collects[<span style="color:#ae81ff">1</span>], IMyStack):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># do something</span></span></span></code></pre></div><p>The <code>issubclass</code> method is used to determine if an object is a subclass of a given class. Since we are creating a formal interface in Python and overriding the <code>__subclasshook__</code> method, this will determine if the object properly includes all required properties and methods defined by the interface.</p>
<h3 id="references">References</h3>
<ul>
<li><a href="https://realpython.com/python-interface/#using-abstract-method-declaration" target="_blank">Implementing an Interface in Python</a>
 from Real Python</li>
<li><a href="https://realpython.com/python-metaclasses/" target="_blank">Python Metaclasses</a>
 from Real Python</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Python Interfaces</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="python-inheritance">Python Inheritance</h1>


<a href="https://www.youtube.com/watch?v=kTLQbt3hseI">YouTube Video</a>

<h4 id="resources">Resources</h4>
<ul>
<li><a href="https://ksu-cs-textbooks.github.io/cc410/i-oop/06-inheritance-polymorphism/06-python-interfaces/video/slides/" target="_blank">Slides</a></li>
</ul>
<h4 id="video-script">Video Script</h4>
<p>Let&rsquo;s review inheritance in the Python programming language. First, we&rsquo;ll look at interfaces. Python doesn&rsquo;t include a special type of class for interfaces like many other object-oriented programming languages, but we can achieve the same effect with a few neat coding tricks. First, in our interface class, we&rsquo;ll set the metaclass to be <code>abc.ABCMeta</code>. This allows us to perform a couple of neat metaprogramming tricks to make sure any class that uses this interface is inheriting the correct methods. Next, we&rsquo;ll provide an implementation of the <code>__subclasshook__</code> special method in Python. This method is used to determine if a particular class is compatible with this interface, and it gets called when we use the <code>isinstance()</code> method to check types in Python. Finally, we&rsquo;ll include abstract versions of any methods and properties included in this class, using the <code>@abc.abstractmethod</code> decorator to tell Python that these are abstract methods. The class itself cannot be instantiated, so we don&rsquo;t include any attributes, a constructor, or really any code beyond the <code>__subclasshook__</code> method.</p>
<p>Here&rsquo;s a quick example of a formal Python interface called <code>IMyQueue</code>, which defines the traditional operations that can be performed on a queue data structure. The most interesting part is the <code>__subclasshook__</code> method. It includes a list of all of the attributes, or properties, as well as all of the callable methods that are part of the interface. Then, using a couple of <code>for</code> loops and some metaprogramming, it will determine if the given class contains those items and is compatible with this class. If it is, then this method will return <code>true</code> and tell Python that the object properly implements this interface. In other languages, this work is handled by the compiler itself, but because Python uses dynamic typing and duck typing, we have to write this code ourselves. Below that, we see abstract methods for each property and method in the class. This just guarantees that any class properly inheriting this interface includes the correct methods. If not, Python will raise an exception to let us know we haven&rsquo;t properly implemented the interface in our code.</p>
<p>Then, if we want to create a class that uses that interface, we list it in the class declaration in parentheses, just like any other class we are inheriting from. In fact, Python handles these formal interfaces just like any other inherited class! Within the class, we must include methods that are implementations for each method defined in the interface. So, here we see the four methods defined by the interface!</p>
<p>Finally, we must remember that an interface can also be treated like a data type. So, even though we can&rsquo;t directly instantiate the interface itself, we can use it as a type and Mypy will make sure the object is at least a subclass of our formal interface. In addition, the <code>__subclasshook__</code> method allows us to check and make sure any object is properly implementing the interface, even if it isn&rsquo;t a true subclass of our interface. This allows us to also use duck typing with our interface. In any case, once we&rsquo;ve confirmed that the object implements the interface, we can call any of the methods defined in the interface and they should work.</p>
<p>Now, let&rsquo;s look at the more traditional form of inheritance in Python. Recall that we can declare a class to be a subclass of another class, usually referred to as the superclass. When we do that, the subclass includes, or inherits, all state and behavior defined in the superclass. In Python, any methods or attributes in the superclass are accessible in the subclass. However, traditionally we do not access private elements that begin with two underscores, as their names will be mangled. Instead, we use a single underscore to denote that the element can be accessed by subclasses, but shouldn&rsquo;t be accessed externally. Likewise, the subclass can use the <code>super()</code> method to access elements from within the superclass. This is typically used within the constructor of the subclass to call the constructor of the superclass. Finally, the subclass can choose to override any methods defined in the superclass with new code. We&rsquo;ll see how that works later in this chapter.</p>
<p>So, here&rsquo;s a quick example of three classes in Python that demonstrate inheritance. We have a superclass name Canine that defines the protected attribute <code>name</code> as well as the public method <code>bark</code>. Then, we create a subclass called <code>Dog</code> that inherits from <code>Canine</code>. So, it will have a <code>name</code> attribute and a <code>bark</code> method, but it also adds its own <code>owner</code> attribute as well as a new method called <code>pet</code>. Finally, the <code>GuideDog</code> method inherits from <code>Dog</code>, so it will include the <code>name</code> attribute from <code>Canine</code> as well as the <code>owner</code> attribute from <code>Dog</code>, and it adds its own <code>trainer</code> attribute.</p>
<p>Likewise, when we create an instance of a <code>GuideDog</code>, we can access all behaviors that are present in any of the superclasses as well as the class itself. So, an instance of <code>GuideDog</code> will have access to the <code>bark</code>, <code>pet</code> and <code>guide</code> methods. This is a great way to reduce the amount of repeated code between related classes. As we&rsquo;ll learn in the example project for this module, this can greatly simplify our programs if we are able to take proper advantage of inheritance.</p>
<p>Finally, let&rsquo;s discuss one other interesting topic - multiple inheritance. In Python, a class can inherit from any number of superclasses or formal interfaces. When it does, it will have access to all attributes and methods of each superclass. For example, if we have a class called <code>Student</code> and a class called <code>Teacher</code>, we could create a new class called <code>StudentTeacher</code> that inherits from both classes. In that way, this new class has access to both sets of attributes and methods.</p>
<p>However, there is one thing we&rsquo;ll have to be aware of - name collisions. Suppose that both the <code>Teacher</code> and the <code>Student</code> classes each have a method called <code>grade()</code>, but those methods do entirely different things. In our <code>StudentTeacher</code> class, what would happen if we call the <code>grade</code> method? Would it perform the version in the <code>Student</code> class, or the <code>Teacher</code> class? As it turns out, it depends on what order we list those classes in our list of classes we are inheriting from. In the textbook, I&rsquo;ve liked to an in-depth article on multiple inheritance in Python that explains it in greater detail. In general, we won&rsquo;t use this feature for anything except interfaces in this course, but it is something to keep in mind!</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Python Inheritance</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id=""></h1>

<section>
    <h3>Python Interfaces</h3>
    <ul>
        <li>Set <code>metaclass=abc.ABCMeta</code></li>
        <li>Implement <code>__subclasshook__</code> method</li>
        <li>All methods and properties marked as <code>@abc.abstractmethod</code></li>
        <li>No attributes</li>
        <li>No constructor, no code</li>
    </ul>
</section>
<section>
    <h3>Python Interface Example</h3>
    <pre class="python stretch" style="font-size: 19px"><code>import abc
from typing import List<br><br>
class IMyQueue(metaclass=abc.ABCMeta):<br>
    @classmethod
    def __subclasshook__(cls, subclass: type) -> bool:
        if cls is IMyQueue:
            attrs: List[str] = ['size']
            callables: List[str] = ['enqueue', 'dequeue', 'peek']
            ret: bool = True
            for attr in attrs:
                ret = ret and (hasattr(subclass, attr) 
                            and isinstance(getattr(subclass, attr), property))
            for call in callables:
                ret = ret and (hasattr(subclass, call) 
                            and callable(getattr(subclass, call)))
            return ret
        else:
            return NotImplemented<br>
    @property
    @abc.abstractmethod
    def size(self) -> int:
        raise NotImplementedError<br>
    @abc.abstractmethod
    def enqueue(self, o: object) -> None:
        raise NotImplementedError<br>
    @abc.abstractmethod
    def dequeue(self) -> object:
        raise NotImplementedError<br>
    @abc.abstractmethod
    def peek(self) -> object:
        raise NotImplementedError<br>
</code></pre>
</section>
<section>
    <h3>Using a Python Interface</h3>
    <pre class="python stretch"><code>class WaitingList(IMyQueue):<br>
    @property
    def size(self) -> int:
        # code here<br>
    def enqueue(self, o: object) -> None:
        #code here<br>
    def dequeue(self) -> object:
        #code here<br>
    def peek(self) -> object:
        #code here<br>
</code></pre>
</section>
<section>
    <h3>Interfaces are Types</h3>
    <pre class="python"><code>wait: IMyQueue = WaitingList()
wait.enqueue(Person())
wait.dequeue()</pre></code>
    <p>We can call any methods<br>defined by the interface</p>
    <p>Python uses duck typing,<br>but Mypy wants a type</p>
</section>
<section>
    <h3>Python Inheritance</h3>
    <ul style="font-size: 70px;">
        <li>Subclass inherits all <b>state</b> and <b>behavior</b></li>
        <li>Subclass has all attributes and methods of superclass</li>
        <li>Subclass constructor can call <code>super()</code> constructor</li>
        <li>Subclass can <b>override</b> superclass methods with new code</li>
    </ul>
</section>
<section>
    <pre class="python stretch"><code>class Canine:
    def __init__(self) -> None:
        self._name = "Name"<br>
    def bark(self) -> None:
        # code here<br>
class Dog(Canine):
    def __init__(self) -> None:
        self._owner = "Owner"<br>
    def pet(self) -> None:
        # code here<br>
class GuideDog(Dog):
    def __init__(self) -> None:
        self._trainer = "Trainer"<br>
    def guide(self) -> None:
        # code here</code></pre>
</section>
<section>
    <h6>Subclass has all Superclass behaviors</h6>
    <pre class="python"><code>lassie: GuideDog = GuideDog()
lassie.bark()
lassie.pet()
lassie.guide()</code></pre>
</section>
<section>
    <h3>Multiple Inheritance</h3>
    <p>Classes in Python can inherit from any number of classes or interfaces</p>
    <p>It will have access to all superclass attributes and methods</p>
    <p>Be aware of name collisions!</p>
</section>
            <footer class="footline">

            </footer>
          </article>

          </section>
          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cc/410/generic/textbook/-/commit/7f97afdcce9f0515369cd492ff5cd3282565727a">Feb 22, 2022</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/clipboard.min.js?1691701675" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/perfect-scrollbar.min.js?1691701675" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cc410/js/theme.js?1691701675" defer></script>
  </body>
</html>
